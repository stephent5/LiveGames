(function(a,c){function g(x){var a=Ja[x]={};return j.each(x.split(v),function(x,c){a[c]=!0}),a}function f(x,a,b){if(b===c&&x.nodeType===1)if(b="data-"+a.replace(gc,"-$1").toLowerCase(),b=x.getAttribute(b),typeof b=="string"){try{b=b==="true"?!0:b==="false"?!1:b==="null"?null:+b+""===b?+b:Ea.test(b)?j.parseJSON(b):b}catch(d){}j.data(x,a,b)}else b=c;return b}function b(x){for(var a in x)if(!(a==="data"&&j.isEmptyObject(x[a]))&&a!=="toJSON")return!1;return!0}function d(){return!1}function h(){return!0}
function i(x){return!x||!x.parentNode||x.parentNode.nodeType===11}function k(x,a){do x=x[a];while(x&&x.nodeType!==1);return x}function m(a,c,b){c=c||0;if(j.isFunction(c))return j.grep(a,function(a,x){return!!c.call(a,x,a)===b});if(c.nodeType)return j.grep(a,function(a){return a===c===b});if(typeof c=="string"){var d=j.grep(a,function(a){return a.nodeType===1});if(Lb.test(c))return j.filter(c,d,!b);c=j.filter(c,d)}return j.grep(a,function(a){return j.inArray(a,c)>=0===b})}function p(a){var c=Mb.split("|"),
a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function r(a,c){if(c.nodeType===1&&j.hasData(a)){var b,d,f;d=j._data(a);var h=j._data(c,d),g=d.events;if(g)for(b in delete h.handle,h.events={},g){d=0;for(f=g[b].length;d<f;d++)j.event.add(c,b,g[b][d])}h.data&&(h.data=j.extend({},h.data))}}function t(a,c){var b;if(c.nodeType===1)c.clearAttributes&&c.clearAttributes(),c.mergeAttributes&&c.mergeAttributes(a),b=c.nodeName.toLowerCase(),b==="object"?(c.parentNode&&
(c.outerHTML=a.outerHTML),j.support.html5Clone&&a.innerHTML&&!j.trim(c.innerHTML)&&(c.innerHTML=a.innerHTML)):b==="input"&&pb.test(a.type)?(c.defaultChecked=c.checked=a.checked,c.value!==a.value&&(c.value=a.value)):b==="option"?c.selected=a.defaultSelected:b==="input"||b==="textarea"?c.defaultValue=a.defaultValue:b==="script"&&c.text!==a.text&&(c.text=a.text),c.removeAttribute(j.expando)}function n(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!=
"undefined"?a.querySelectorAll("*"):[]}function l(a){pb.test(a.type)&&(a.defaultChecked=a.checked)}function A(a,c){if(c in a)return c;for(var b=c.charAt(0).toUpperCase()+c.slice(1),d=c,f=Nb.length;f--;)if(c=Nb[f]+b,c in a)return c;return d}function D(a,c){return a=c||a,j.css(a,"display")==="none"||!j.contains(a.ownerDocument,a)}function G(a,c){for(var b,d,f=[],h=0,g=a.length;h<g;h++)if(b=a[h],b.style)f[h]=j._data(b,"olddisplay"),c?(!f[h]&&b.style.display==="none"&&(b.style.display=""),b.style.display===
""&&D(b)&&(f[h]=j._data(b,"olddisplay",ca(b.nodeName)))):(d=la(b,"display"),!f[h]&&d!=="none"&&j._data(b,"olddisplay",d));for(h=0;h<g;h++)if(b=a[h],b.style&&(!c||b.style.display==="none"||b.style.display===""))b.style.display=c?f[h]||"":"none";return a}function T(a,c,b){return(a=ic.exec(c))?Math.max(0,a[1]-(b||0))+(a[2]||"px"):c}function u(a,c,b,d){for(var c=b===(d?"border":"content")?4:c==="width"?1:0,f=0;c<4;c+=2)b==="margin"&&(f+=j.css(a,b+ya[c],!0)),d?(b==="content"&&(f-=parseFloat(la(a,"padding"+
ya[c]))||0),b!=="margin"&&(f-=parseFloat(la(a,"border"+ya[c]+"Width"))||0)):(f+=parseFloat(la(a,"padding"+ya[c]))||0,b!=="padding"&&(f+=parseFloat(la(a,"border"+ya[c]+"Width"))||0));return f}function Q(a,c,b){var d=c==="width"?a.offsetWidth:a.offsetHeight,f=!0,h=j.support.boxSizing&&j.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=la(a,c);if(d<0||d==null)d=a.style[c];if(qb.test(d))return d;f=h&&(j.support.boxSizingReliable||d===a.style[c]);d=parseFloat(d)||0}return d+u(a,c,b||(h?"border":"content"),
f)+"px"}function ca(a){if(rb[a])return rb[a];var c=j("<"+a+">").appendTo(y.body),b=c.css("display");c.remove();if(b==="none"||b===""){ua=y.body.appendChild(ua||j.extend(y.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Fa||!ua.createElement)Fa=(ua.contentWindow||ua.contentDocument).document,Fa.write("<!doctype html><html><body>"),Fa.close();c=Fa.body.appendChild(Fa.createElement(a));b=la(c,"display");y.body.removeChild(ua)}return rb[a]=b,b}function K(a,c,b,d){var f;if(j.isArray(c))j.each(c,
function(c,f){b||Oa.test(a)?d(a,f):K(a+"["+(typeof f=="object"?c:"")+"]",f,b,d)});else if(!b&&j.type(c)==="object")for(f in c)K(a+"["+f+"]",c[f],b,d);else d(a,c)}function ha(a){return function(c,b){var x;typeof c!="string"&&(b=c,c="*");var d,f,h=c.toLowerCase().split(v),g=0,i=h.length;if(j.isFunction(b))for(;g<i;g++)d=h[g],(f=/^\+/.test(d))&&(d=d.substr(1)||"*"),x=a[d]=a[d]||[],d=x,d[f?"unshift":"push"](b)}}function V(a,b,d,f,h,j){h=h||b.dataTypes[0];j=j||{};j[h]=!0;for(var g,h=a[h],i=0,k=h?h.length:
0,l=a===Ga;i<k&&(l||!g);i++)g=h[i](b,d,f),typeof g=="string"&&(!l||j[g]?g=c:(b.dataTypes.unshift(g),g=V(a,b,d,f,g,j)));return(l||!g)&&!j["*"]&&(g=V(a,b,d,f,"*",j)),g}function W(a,b){var d,f,h=j.ajaxSettings.flatOptions||{};for(d in b)b[d]!==c&&((h[d]?a:f||(f={}))[d]=b[d]);f&&j.extend(!0,a,f)}function fa(){try{return new a.XMLHttpRequest}catch(c){}}function I(){return setTimeout(function(){Za=c},0),Za=j.now()}function ja(a,c){j.each(c,function(c,b){for(var d=($a[c]||[]).concat($a["*"]),f=0,h=d.length;f<
h;f++)if(d[f].call(a,c,b))break})}function U(a,c,b){var d=0,f=sb.length,h=j.Deferred().always(function(){delete g.elem}),g=function(){for(var c=Za||I(),c=Math.max(0,i.startTime+i.duration-c),b=1-(c/i.duration||0),d=0,f=i.tweens.length;d<f;d++)i.tweens[d].run(b);return h.notifyWith(a,[i,b,c]),b<1&&f?c:(h.resolveWith(a,[i]),!1)},i=h.promise({elem:a,props:j.extend({},c),opts:j.extend(!0,{specialEasing:{}},b),originalProperties:c,originalOptions:b,startTime:Za||I(),duration:b.duration,tweens:[],createTween:function(c,
b){var d=j.Tween(a,i.opts,c,b,i.opts.specialEasing[c]||i.opts.easing);return i.tweens.push(d),d},stop:function(c){for(var b=0,d=c?i.tweens.length:0;b<d;b++)i.tweens[b].run(1);return c?h.resolveWith(a,[i,c]):h.rejectWith(a,[i,c]),this}}),b=i.props;for(H(b,i.opts.specialEasing);d<f;d++)if(c=sb[d].call(i,a,b,i.opts))return c;return ja(i,b),j.isFunction(i.opts.start)&&i.opts.start.call(a,i),j.fx.timer(j.extend(g,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}
function H(a,c){var x;var b,d,f,h,i;for(b in a)if(d=j.camelCase(b),f=c[d],h=a[b],j.isArray(h)&&(f=h[1],x=a[b]=h[0],h=x),b!==d&&(a[d]=h,delete a[b]),(i=j.cssHooks[d])&&"expand"in i)for(b in h=i.expand(h),delete a[d],h)b in a||(a[b]=h[b],c[b]=f);else c[d]=f}function q(a,c,b,d,f){return new q.prototype.init(a,c,b,d,f)}function o(a,c){for(var b,d={height:a},f=0,c=c?1:0;f<4;f+=2-c)b=ya[f],d["margin"+b]=d["padding"+b]=a;return c&&(d.opacity=d.width=a),d}function s(a){return j.isWindow(a)?a:a.nodeType===
9?a.defaultView||a.parentWindow:!1}var R,w,y=a.document,Pa=a.location,P=a.navigator,qa=a.jQuery,O=a.$,ra=Array.prototype.push,B=Array.prototype.slice,va=Array.prototype.indexOf,X=Object.prototype.toString,E=Object.prototype.hasOwnProperty,sa=String.prototype.trim,j=function(a,c){return new j.fn.init(a,c,R)},Y=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ia=/\S/,v=/\s+/,z=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,da=/^[\],:{}\s]*$/,
za=/(?:^|:|,)(?:\s*\[)+/g,Ka=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ta=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Ha=/^-ms-/,J=/-([\da-z])/gi,F=function(a,c){return(c+"").toUpperCase()},L=function(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",L,!1),j.ready()):y.readyState==="complete"&&(y.detachEvent("onreadystatechange",L),j.ready())},C={};j.fn=j.prototype={constructor:j,init:function(a,b,d){var f,h;if(!a)return this;if(a.nodeType)return this.context=this[0]=
a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=S.exec(a);if(f&&(f[1]||!b)){if(f[1])return b=b instanceof j?b[0]:b,h=b&&b.nodeType?b.ownerDocument||b:y,a=j.parseHTML(f[1],h,!0),ea.test(f[1])&&j.isPlainObject(b)&&this.attr.call(a,b,!0),j.merge(this,a);if((b=y.getElementById(f[2]))&&b.parentNode){if(b.id!==f[2])return d.find(a);this.length=1;this[0]=b}return this.context=y,this.selector=a,this}return!b||b.jquery?(b||d).find(a):
this.constructor(b).find(a)}return j.isFunction(a)?d.ready(a):(a.selector!==c&&(this.selector=a.selector,this.context=a.context),j.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return B.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,c,b){a=j.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,c==="find"?a.selector=this.selector+(this.selector?" ":
"")+b:c&&(a.selector=this.selector+"."+c+"("+b+")"),a},each:function(a,c){return j.each(this,a,c)},ready:function(a){return j.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(B.apply(this,arguments),"slice",B.call(arguments).join(","))},map:function(a){return this.pushStack(j.map(this,function(c,b){return a.call(c,b,c)}))},end:function(){return this.prevObject||
this.constructor(null)},push:ra,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var a,b,d,f,h,i,g=arguments[0]||{},k=1,l=arguments.length,q=!1;typeof g=="boolean"&&(q=g,g=arguments[1]||{},k=2);typeof g!="object"&&!j.isFunction(g)&&(g={});for(l===k&&(g=this,--k);k<l;k++)if((a=arguments[k])!=null)for(b in a)d=g[b],f=a[b],g!==f&&(q&&f&&(j.isPlainObject(f)||(h=j.isArray(f)))?(h?(h=!1,i=d&&j.isArray(d)?d:[]):i=d&&j.isPlainObject(d)?d:{},g[b]=j.extend(q,i,f)):f!==
c&&(g[b]=f));return g};j.extend({noConflict:function(c){return a.$===j&&(a.$=O),c&&a.jQuery===j&&(a.jQuery=qa),j},isReady:!1,readyWait:1,holdReady:function(a){a?j.readyWait++:j.ready(!0)},ready:function(a){if(!(a===!0?--j.readyWait:j.isReady)){if(!y.body)return setTimeout(j.ready,1);j.isReady=!0;a!==!0&&--j.readyWait>0||(w.resolveWith(y,[j]),j.fn.trigger&&j(y).trigger("ready").off("ready"))}},isFunction:function(a){return j.type(a)==="function"},isArray:Array.isArray||function(a){return j.type(a)===
"array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):C[X.call(a)]||"object"},isPlainObject:function(a){if(!a||j.type(a)!=="object"||a.nodeType||j.isWindow(a))return!1;try{if(a.constructor&&!E.call(a,"constructor")&&!E.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var d in a);return d===c||E.call(a,d)},isEmptyObject:function(a){for(var c in a)return!1;return!0},
error:function(a){throw Error(a);},parseHTML:function(a,c,b){var d;return!a||typeof a!="string"?null:(typeof c=="boolean"&&(b=c,c=0),c=c||y,(d=ea.exec(a))?[c.createElement(d[1])]:(d=j.buildFragment([a],c,b?null:[]),j.merge([],(d.cacheable?j.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(c){if(!c||typeof c!="string")return null;c=j.trim(c);if(a.JSON&&a.JSON.parse)return a.JSON.parse(c);if(da.test(c.replace(Ka,"@").replace(ta,"]").replace(za,"")))return(new Function("return "+c))();
j.error("Invalid JSON: "+c)},parseXML:function(b){var d,f;if(!b||typeof b!="string")return null;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(h){d=c}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&j.error("Invalid XML: "+b),d},noop:function(){},globalEval:function(c){c&&ia.test(c)&&(a.execScript||function(c){a.eval.call(a,c)})(c)},camelCase:function(a){return a.replace(Ha,
"ms-").replace(J,F)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toLowerCase()===c.toLowerCase()},each:function(a,b,d){var f,h=0,i=a.length,g=i===c||j.isFunction(a);if(d)if(g)for(f in a){if(b.apply(a[f],d)===!1)break}else for(;h<i;){if(b.apply(a[h++],d)===!1)break}else if(g)for(f in a){if(b.call(a[f],f,a[f])===!1)break}else for(;h<i;)if(b.call(a[h],h,a[h++])===!1)break;return a},trim:sa&&!sa.call("\ufeff\u00a0")?function(a){return a==null?"":sa.call(a)}:function(a){return a==null?"":(a+"").replace(z,
"")},makeArray:function(a,c){var b,d=c||[];return a!=null&&(b=j.type(a),a.length==null||b==="string"||b==="function"||b==="regexp"||j.isWindow(a)?ra.call(d,a):j.merge(d,a)),d},inArray:function(a,c,b){var d;if(c){if(va)return va.call(c,a,b);d=c.length;for(b=b?b<0?Math.max(0,d+b):b:0;b<d;b++)if(b in c&&c[b]===a)return b}return-1},merge:function(a,b){var d=b.length,f=a.length,h=0;if(typeof d=="number")for(;h<d;h++)a[f++]=b[h];else for(;b[h]!==c;)a[f++]=b[h++];return a.length=f,a},grep:function(a,c,b){for(var d,
f=[],h=0,i=a.length,b=!!b;h<i;h++)d=!!c(a[h],h),b!==d&&f.push(a[h]);return f},map:function(a,b,d){var f,h,i=[],g=0,k=a.length;if(a instanceof j||k!==c&&typeof k=="number"&&(k>0&&a[0]&&a[k-1]||k===0||j.isArray(a)))for(;g<k;g++)f=b(a[g],g,d),f!=null&&(i[i.length]=f);else for(h in a)f=b(a[h],h,d),f!=null&&(i[i.length]=f);return i.concat.apply([],i)},guid:1,proxy:function(a,b){var d,f,h;return typeof b=="string"&&(d=a[b],b=a,a=d),j.isFunction(a)?(f=B.call(arguments,2),h=function(){return a.apply(b,f.concat(B.call(arguments)))},
h.guid=a.guid=a.guid||j.guid++,h):c},access:function(a,b,d,f,h,i,g){var k,l=d==null,q=0,m=a.length;if(d&&typeof d=="object"){for(q in d)j.access(a,b,q,d[q],1,i,f);h=1}else if(f!==c){k=g===c&&j.isFunction(f);l&&(k?(k=b,b=function(a,c,b){return k.call(j(a),b)}):(b.call(a,f),b=null));if(b)for(;q<m;q++)b(a[q],d,k?f.call(a[q],q,b(a[q],d)):f,g);h=1}return h?a:l?b.call(a):m?b(a[0],d):i},now:function(){return(new Date).getTime()}});j.ready.promise=function(c){if(!w)if(w=j.Deferred(),y.readyState==="complete")setTimeout(j.ready,
1);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",L,!1),a.addEventListener("load",j.ready,!1);else{y.attachEvent("onreadystatechange",L);a.attachEvent("onload",j.ready);var b=!1;try{b=a.frameElement==null&&y.documentElement}catch(d){}b&&b.doScroll&&function hc(){if(!j.isReady){try{b.doScroll("left")}catch(a){return setTimeout(hc,50)}j.ready()}}()}return w.promise(c)};j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){C["[object "+c+"]"]=c.toLowerCase()});
R=j(y);var Ja={};j.Callbacks=function(a){var a=typeof a=="string"?Ja[a]||g(a):j.extend({},a),b,d,f,h,i,k,l=[],q=!a.once&&[],m=function(c){b=a.memory&&c;d=!0;k=h||0;h=0;i=l.length;for(f=!0;l&&k<i;k++)if(l[k].apply(c[0],c[1])===!1&&a.stopOnFalse){b=!1;break}f=!1;l&&(q?q.length&&m(q.shift()):b?l=[]:o.disable())},o={add:function(){if(l){var c=l.length;(function wa(c){j.each(c,function(c,b){var d=j.type(b);d==="function"&&(!a.unique||!o.has(b))?l.push(b):b&&b.length&&d!=="string"&&wa(b)})})(arguments);
f?i=l.length:b&&(h=c,m(b))}return this},remove:function(){return l&&j.each(arguments,function(a,c){for(var b;(b=j.inArray(c,l,b))>-1;)l.splice(b,1),f&&(b<=i&&i--,b<=k&&k--)}),this},has:function(a){return j.inArray(a,l)>-1},empty:function(){return l=[],this},disable:function(){return l=q=b=c,this},disabled:function(){return!l},lock:function(){return q=c,b||o.disable(),this},locked:function(){return!q},fireWith:function(a,c){return c=c||[],c=[a,c.slice?c.slice():c],l&&(!d||q)&&(f?q.push(c):m(c)),this},
fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!d}};return o};j.extend({Deferred:function(a){var c=[["resolve","done",j.Callbacks("once memory"),"resolved"],["reject","fail",j.Callbacks("once memory"),"rejected"],["notify","progress",j.Callbacks("memory")]],b="pending",d={state:function(){return b},always:function(){return f.done(arguments).fail(arguments),this},then:function(){var a=arguments;return j.Deferred(function(b){j.each(c,function(c,d){var x=d[0],h=a[c];
f[d[1]](j.isFunction(h)?function(){var a=h.apply(this,arguments);a&&j.isFunction(a.promise)?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[x+"With"](this===f?b:this,[a])}:b[x])});a=null}).promise()},promise:function(a){return a!=null?j.extend(a,d):d}},f={};return d.pipe=d.then,j.each(c,function(a,x){var h=x[2],i=x[3];d[x[1]]=h.add;i&&h.add(function(){b=i},c[a^1][2].disable,c[2][2].lock);f[x[0]]=h.fire;f[x[0]+"With"]=h.fireWith}),d.promise(f),a&&a.call(f,f),f},when:function(a){var c=
0,b=B.call(arguments),d=b.length,f=d!==1||a&&j.isFunction(a.promise)?d:0,h=f===1?a:j.Deferred(),i=function(a,c,b){return function(d){c[a]=this;b[a]=arguments.length>1?B.call(arguments):d;b===g?h.notifyWith(c,b):--f||h.resolveWith(c,b)}},g,k,l;if(d>1){g=Array(d);k=Array(d);for(l=Array(d);c<d;c++)b[c]&&j.isFunction(b[c].promise)?b[c].promise().done(i(c,l,b)).fail(h.reject).progress(i(c,k,g)):--f}return f||h.resolveWith(l,b),h.promise()}});j.support=function(){var c,b,d,f,h,i,g,k,l=y.createElement("div");
l.setAttribute("className","t");l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=l.getElementsByTagName("*");d=l.getElementsByTagName("a")[0];d.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length)return{};f=y.createElement("select");h=f.appendChild(y.createElement("option"));b=l.getElementsByTagName("input")[0];c={leadingWhitespace:l.firstChild.nodeType===3,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,
style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:b.value==="on",optSelected:h.selected,getSetAttribute:l.className!=="t",enctype:!!y.createElement("form").enctype,html5Clone:y.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:y.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,
reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;c.noCloneChecked=b.cloneNode(!0).checked;f.disabled=!0;c.optDisabled=!h.disabled;try{delete l.test}catch(q){c.deleteExpando=!1}!l.addEventListener&&l.attachEvent&&l.fireEvent&&(l.attachEvent("onclick",k=function(){c.noCloneEvent=!1}),l.cloneNode(!0).fireEvent("onclick"),l.detachEvent("onclick",k));b=y.createElement("input");b.value="t";b.setAttribute("type","radio");c.radioValue=b.value==="t";b.setAttribute("checked","checked");
b.setAttribute("name","t");l.appendChild(b);d=y.createDocumentFragment();d.appendChild(l.lastChild);c.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;c.appendChecked=b.checked;d.removeChild(b);d.appendChild(l);if(l.attachEvent)for(i in{submit:!0,change:!0,focusin:!0})b="on"+i,(g=b in l)||(l.setAttribute(b,"return;"),g=typeof l[b]=="function"),c[i+"Bubbles"]=g;return j(function(){var b,d,f,h,i=y.getElementsByTagName("body")[0];if(i)b=y.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",
i.insertBefore(b,i.firstChild),d=y.createElement("div"),b.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",g=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",c.reliableHiddenOffsets=g&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
c.boxSizing=d.offsetWidth===4,c.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(c.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",c.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",h=y.createElement("div"),h.style.cssText=d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",h.style.marginRight=h.style.width="0",d.style.width="1px",d.appendChild(h),c.reliableMarginRight=!parseFloat((a.getComputedStyle(h,null)||{}).marginRight)),
typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",c.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",c.shrinkWrapBlocks=d.offsetWidth!==3,b.style.zoom=1),i.removeChild(b)}),d.removeChild(l),b=d=f=h=b=d=l=null,c}();var Ea=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gc=/([A-Z])/g;j.extend({cache:{},
deletedIds:[],uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?j.cache[a[j.expando]]:a[j.expando],!!a&&!b(a)},data:function(a,b,d,f){if(j.acceptData(a)){var h,i,g=j.expando,k=typeof b=="string",l=a.nodeType,q=l?j.cache:a,m=l?a[g]:a[g]&&g;if(m&&q[m]&&(f||q[m].data)||!(k&&d===c)){m||(l?a[g]=m=j.deletedIds.pop()||j.guid++:m=g);q[m]||(q[m]={},l||(q[m].toJSON=j.noop));
if(typeof b=="object"||typeof b=="function")f?q[m]=j.extend(q[m],b):q[m].data=j.extend(q[m].data,b);return h=q[m],f||(h.data||(h.data={}),h=h.data),d!==c&&(h[j.camelCase(b)]=d),k?(i=h[b],i==null&&(i=h[j.camelCase(b)])):i=h,i}}},removeData:function(a,c,d){if(j.acceptData(a)){var f,h,i,g=a.nodeType,k=g?j.cache:a,l=g?a[j.expando]:j.expando;if(k[l]){if(c&&(f=d?k[l]:k[l].data)){j.isArray(c)||(c in f?c=[c]:(c=j.camelCase(c),c in f?c=[c]:c=c.split(" ")));h=0;for(i=c.length;h<i;h++)delete f[c[h]];if(!(d?
b:j.isEmptyObject)(f))return}if(!d&&(delete k[l].data,!b(k[l])))return;g?j.cleanData([a],!0):j.support.deleteExpando||k!=k.window?delete k[l]:k[l]=null}}},_data:function(a,c,b){return j.data(a,c,b,!0)},acceptData:function(a){var c=a.nodeName&&j.noData[a.nodeName.toLowerCase()];return!c||c!==!0&&a.getAttribute("classid")===c}});j.fn.extend({data:function(a,b){var d,h,i,g,k,l=this[0],q=0,m=null;if(a===c){if(this.length&&(m=j.data(l),l.nodeType===1&&!j._data(l,"parsedAttrs"))){i=l.attributes;for(k=i.length;q<
k;q++)g=i[q].name,g.indexOf("data-")||(g=j.camelCase(g.substring(5)),f(l,g,m[g]));j._data(l,"parsedAttrs",!0)}return m}return typeof a=="object"?this.each(function(){j.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",h=d[1]+"!",j.access(this,function(b){if(b===c)return m=this.triggerHandler("getData"+h,[d[0]]),m===c&&l&&(m=j.data(l,a),m=f(l,a,m)),m===c&&d[1]?this.data(d[0]):m;d[1]=b;this.each(function(){var c=j(this);c.triggerHandler("setData"+h,d);j.data(this,a,b);c.triggerHandler("changeData"+
h,d)})},null,b,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){j.removeData(this,a)})}});j.extend({queue:function(a,c,b){var d;if(a)return c=(c||"fx")+"queue",d=j._data(a,c),b&&(!d||j.isArray(b)?d=j._data(a,c,j.makeArray(b)):d.push(b)),d||[]},dequeue:function(a,c){var c=c||"fx",b=j.queue(a,c),d=b.length,f=b.shift(),h=j._queueHooks(a,c),i=function(){j.dequeue(a,c)};f==="inprogress"&&(f=b.shift(),d--);f&&(c==="fx"&&b.unshift("inprogress"),delete h.stop,f.call(a,i,h));
!d&&h&&h.empty.fire()},_queueHooks:function(a,c){var b=c+"queueHooks";return j._data(a,b)||j._data(a,b,{empty:j.Callbacks("once memory").add(function(){j.removeData(a,c+"queue",!0);j.removeData(a,b,!0)})})}});j.fn.extend({queue:function(a,b){var d=2;return typeof a!="string"&&(b=a,a="fx",d--),arguments.length<d?j.queue(this[0],a):b===c?this:this.each(function(){var c=j.queue(this,a,b);j._queueHooks(this,a);a==="fx"&&c[0]!=="inprogress"&&j.dequeue(this,a)})},dequeue:function(a){return this.each(function(){j.dequeue(this,
a)})},delay:function(a,c){return a=j.fx?j.fx.speeds[a]||a:a,c=c||"fx",this.queue(c,function(c,b){var d=setTimeout(c,a);b.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,f=1,h=j.Deferred(),i=this,g=this.length,k=function(){--f||h.resolveWith(i,[i])};typeof a!="string"&&(b=a,a=c);for(a=a||"fx";g--;)(d=j._data(i[g],a+"queueHooks"))&&d.empty&&(f++,d.empty.add(k));return k(),h.promise(b)}});var ma,tb,Ia,jc=/[\t\r\n]/g,sc=/\r/g,tc=/^(?:button|input)$/i,
Qa=/^(?:button|input|object|select|textarea)$/i,La=/^a(?:rea|)$/i,ka=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,na=j.support.getSetAttribute;j.fn.extend({attr:function(a,c){return j.access(this,j.attr,a,c,arguments.length>1)},removeAttr:function(a){return this.each(function(){j.removeAttr(this,a)})},prop:function(a,c){return j.access(this,j.prop,a,c,arguments.length>1)},removeProp:function(a){return a=j.propFix[a]||
a,this.each(function(){try{this[a]=c,delete this[a]}catch(b){}})},addClass:function(a){var c,b,d,f,h,i,g;if(j.isFunction(a))return this.each(function(c){j(this).addClass(a.call(this,c,this.className))});if(a&&typeof a=="string"){c=a.split(v);b=0;for(d=this.length;b<d;b++)if(f=this[b],f.nodeType===1)if(!f.className&&c.length===1)f.className=a;else{h=" "+f.className+" ";i=0;for(g=c.length;i<g;i++)h.indexOf(" "+c[i]+" ")<0&&(h+=c[i]+" ");f.className=j.trim(h)}}return this},removeClass:function(a){var b,
d,f,h,i,g,k;if(j.isFunction(a))return this.each(function(c){j(this).removeClass(a.call(this,c,this.className))});if(a&&typeof a=="string"||a===c){b=(a||"").split(v);g=0;for(k=this.length;g<k;g++)if(f=this[g],f.nodeType===1&&f.className){d=(" "+f.className+" ").replace(jc," ");h=0;for(i=b.length;h<i;h++)for(;d.indexOf(" "+b[h]+" ")>=0;)d=d.replace(" "+b[h]+" "," ");f.className=a?j.trim(d):""}}return this},toggleClass:function(a,c){var b=typeof a,d=typeof c=="boolean";return j.isFunction(a)?this.each(function(b){j(this).toggleClass(a.call(this,
b,this.className,c),c)}):this.each(function(){if(b==="string")for(var f,h=0,i=j(this),g=c,k=a.split(v);f=k[h++];)g=d?g:!i.hasClass(f),i[g?"addClass":"removeClass"](f);else if(b==="undefined"||b==="boolean")this.className&&j._data(this,"__className__",this.className),this.className=this.className||a===!1?"":j._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",c=0,b=this.length;c<b;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(jc," ").indexOf(a)>=0)return!0;
return!1},val:function(a){var b,d,f,h=this[0];if(arguments.length)return f=j.isFunction(a),this.each(function(d){var h,i=j(this);if(this.nodeType===1&&(f?h=a.call(this,d,i.val()):h=a,h==null?h="":typeof h=="number"?h+="":j.isArray(h)&&(h=j.map(h,function(a){return a==null?"":a+""})),b=j.valHooks[this.type]||j.valHooks[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,h,"value")===c))this.value=h});else if(h)return b=j.valHooks[h.type]||j.valHooks[h.nodeName.toLowerCase()],b&&"get"in b&&(d=
b.get(h,"value"))!==c?d:(d=h.value,typeof d=="string"?d.replace(sc,""):d==null?"":d)}});j.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,b,d=a.selectedIndex,f=[],h=a.options,i=a.type==="select-one";if(d<0)return null;a=i?d:0;for(b=i?d+1:h.length;a<b;a++)if(c=h[a],c.selected&&(j.support.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!j.nodeName(c.parentNode,"optgroup"))){c=
j(c).val();if(i)return c;f.push(c)}return i&&!f.length&&h.length?j(h[d]).val():f},set:function(a,c){var b=j.makeArray(c);return j(a).find("option").each(function(){this.selected=j.inArray(j(this).val(),b)>=0}),b.length||(a.selectedIndex=-1),b}}},attrFn:{},attr:function(a,b,d,f){var h,i,g=a.nodeType;if(a&&!(g===3||g===8||g===2)){if(f&&j.isFunction(j.fn[b]))return j(a)[b](d);if(typeof a.getAttribute=="undefined")return j.prop(a,b,d);(f=g!==1||!j.isXMLDoc(a))&&(b=b.toLowerCase(),i=j.attrHooks[b]||(ka.test(b)?
tb:ma));if(d!==c){if(d===null){j.removeAttr(a,b);return}return i&&"set"in i&&f&&(h=i.set(a,d,b))!==c?h:(a.setAttribute(b,d+""),d)}return i&&"get"in i&&f&&(h=i.get(a,b))!==null?h:(h=a.getAttribute(b),h===null?c:h)}},removeAttr:function(a,c){var b,d,f,h,i=0;if(c&&a.nodeType===1)for(d=c.split(v);i<d.length;i++)(f=d[i])&&(b=j.propFix[f]||f,h=ka.test(f),h||j.attr(a,f,""),a.removeAttribute(na?f:b),h&&b in a&&(a[b]=!1))},attrHooks:{type:{set:function(a,c){if(tc.test(a.nodeName)&&a.parentNode)j.error("type property can't be changed");
else if(!j.support.radioValue&&c==="radio"&&j.nodeName(a,"input")){var b=a.value;return a.setAttribute("type",c),b&&(a.value=b),c}}},value:{get:function(a,c){return ma&&j.nodeName(a,"button")?ma.get(a,c):c in a?a.value:null},set:function(a,c,b){if(ma&&j.nodeName(a,"button"))return ma.set(a,c,b);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var f,h,i,g=a.nodeType;return!a||g===3||g===8||g===2?void 0:(i=g!==1||!j.isXMLDoc(a),i&&(b=j.propFix[b]||b,h=j.propHooks[b]),d!==c?h&&"set"in h&&(f=h.set(a,d,b))!==c?f:a[b]=d:h&&"get"in h&&(f=h.get(a,b))!==null?f:a[b])},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Qa.test(a.nodeName)||La.test(a.nodeName)&&a.href?0:c}}}});tb={get:function(a,
b){var d,f=j.prop(a,b);return f===!0||typeof f!="boolean"&&(d=a.getAttributeNode(b))&&d.nodeValue!==!1?b.toLowerCase():c},set:function(a,b,c){var d;return b===!1?j.removeAttr(a,c):(d=j.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}};na||(Ia={name:!0,id:!0,coords:!0},ma=j.valHooks.button={get:function(a,b){var d;return d=a.getAttributeNode(b),d&&(Ia[b]?d.value!=="":d.specified)?d.value:c},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=y.createAttribute(c),a.setAttributeNode(d)),
d.value=b+""}},j.each(["width","height"],function(a,b){j.attrHooks[b]=j.extend(j.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),j.attrHooks.contenteditable={get:ma.get,set:function(a,b,c){b===""&&(b="false");ma.set(a,b,c)}});j.support.hrefNormalized||j.each(["href","src","width","height"],function(a,b){j.attrHooks[b]=j.extend(j.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return a===null?c:a}})});j.support.style||(j.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
c},set:function(a,b){return a.style.cssText=b+""}});j.support.optSelected||(j.propHooks.selected=j.extend(j.propHooks.selected,{get:function(){return null}}));j.support.enctype||(j.propFix.enctype="encoding");j.support.checkOn||j.each(["radio","checkbox"],function(){j.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});j.each(["radio","checkbox"],function(){j.valHooks[this]=j.extend(j.valHooks[this],{set:function(a,b){if(j.isArray(b))return a.checked=j.inArray(j(a).val(),
b)>=0}})});var Ma=/^(?:textarea|input|select)$/i,ub=/^([^\.]*|)(?:\.(.+)|)$/,Ob=/(?:^|\s)hover(\.\S+|)\b/,vb=/^key/,Pb=/^(?:mouse|contextmenu)|click/,wb=/^(?:focusinfocus|focusoutblur)$/,bb=function(a){return j.event.special.hover?a:a.replace(Ob,"mouseenter$1 mouseleave$1")};j.event={add:function(a,b,d,f,h){var i,g,k,l,q,m,o,n,H;if(!(a.nodeType===3||a.nodeType===8||!b||!d||!(i=j._data(a)))){d.handler&&(o=d,d=o.handler,h=o.selector);d.guid||(d.guid=j.guid++);(k=i.events)||(i.events=k={});(g=i.handle)||
(i.handle=g=function(a){return typeof j!="undefined"&&(!a||j.event.triggered!==a.type)?j.event.dispatch.apply(g.elem,arguments):c},g.elem=a);b=j.trim(bb(b)).split(" ");for(i=0;i<b.length;i++){l=ub.exec(b[i])||[];q=l[1];m=(l[2]||"").split(".").sort();H=j.event.special[q]||{};q=(h?H.delegateType:H.bindType)||q;H=j.event.special[q]||{};l=j.extend({type:q,origType:l[1],data:f,handler:d,guid:d.guid,selector:h,needsContext:h&&j.expr.match.needsContext.test(h),namespace:m.join(".")},o);n=k[q];if(!n&&(n=
k[q]=[],n.delegateCount=0,!H.setup||H.setup.call(a,f,m,g)===!1))a.addEventListener?a.addEventListener(q,g,!1):a.attachEvent&&a.attachEvent("on"+q,g);H.add&&(H.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid));h?n.splice(n.delegateCount++,0,l):n.push(l);j.event.global[q]=!0}a=null}},global:{},remove:function(a,b,c,d,f){var h,i,g,k,l,q,m,o,n,H,r=j.hasData(a)&&j._data(a);if(r&&(m=r.events)){b=j.trim(bb(b||"")).split(" ");for(h=0;h<b.length;h++)if(i=ub.exec(b[h])||[],g=k=i[1],i=i[2],g){o=j.event.special[g]||
{};g=(d?o.delegateType:o.bindType)||g;n=m[g]||[];l=n.length;i=i?RegExp("(^|\\.)"+i.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(q=0;q<n.length;q++)H=n[q],(f||k===H.origType)&&(!c||c.guid===H.guid)&&(!i||i.test(H.namespace))&&(!d||d===H.selector||d==="**"&&H.selector)&&(n.splice(q--,1),H.selector&&n.delegateCount--,o.remove&&o.remove.call(a,H));n.length===0&&l!==n.length&&((!o.teardown||o.teardown.call(a,i,r.handle)===!1)&&j.removeEvent(a,g,r.handle),delete m[g])}else for(g in m)j.event.remove(a,
g+b[h],c,d,!0);j.isEmptyObject(m)&&(delete r.handle,j.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,d,f,h){if(!f||f.nodeType!==3&&f.nodeType!==8){var i,g,k,l,q,m,o,n=b.type||b;l=[];if(!wb.test(n+j.event.triggered)&&(n.indexOf("!")>=0&&(n=n.slice(0,-1),i=!0),n.indexOf(".")>=0&&(l=n.split("."),n=l.shift(),l.sort()),f&&!j.event.customEvent[n]||j.event.global[n]))if(b=typeof b=="object"?b[j.expando]?b:new j.Event(n,b):new j.Event(n),b.type=n,b.isTrigger=
!0,b.exclusive=i,b.namespace=l.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=n.indexOf(":")<0?"on"+n:"",f){if(b.result=c,b.target||(b.target=f),d=d!=null?j.makeArray(d):[],d.unshift(b),q=j.event.special[n]||{},!(q.trigger&&q.trigger.apply(f,d)===!1)){o=[[f,q.bindType||n]];if(!h&&!q.noBubble&&!j.isWindow(f)){g=q.delegateType||n;i=wb.test(g+n)?f:f.parentNode;for(k=f;i;i=i.parentNode)o.push([i,g]),k=i;k===(f.ownerDocument||y)&&o.push([k.defaultView||
k.parentWindow||a,g])}for(g=0;g<o.length&&!b.isPropagationStopped();g++)i=o[g][0],b.type=o[g][1],(m=(j._data(i,"events")||{})[b.type]&&j._data(i,"handle"))&&m.apply(i,d),(m=l&&i[l])&&j.acceptData(i)&&m.apply&&m.apply(i,d)===!1&&b.preventDefault();return b.type=n,!h&&!b.isDefaultPrevented()&&(!q._default||q._default.apply(f.ownerDocument,d)===!1)&&(n!=="click"||!j.nodeName(f,"a"))&&j.acceptData(f)&&l&&f[n]&&(n!=="focus"&&n!=="blur"||b.target.offsetWidth!==0)&&!j.isWindow(f)&&(k=f[l],k&&(f[l]=null),
j.event.triggered=n,f[n](),j.event.triggered=c,k&&(f[l]=k)),b.result}}else for(g in f=j.cache,f)f[g].events&&f[g].events[n]&&j.event.trigger(b,d,f[g].handle.elem,!0)}},dispatch:function(b){var b=j.event.fix(b||a.event),d,f,h,i,g,k,l=(j._data(this,"events")||{})[b.type]||[],q=l.delegateCount,m=B.call(arguments),n=!b.exclusive&&!b.namespace,o=j.event.special[b.type]||{},H=[];m[0]=b;b.delegateTarget=this;if(!(o.preDispatch&&o.preDispatch.call(this,b)===!1)){if(q&&(!b.button||b.type!=="click"))for(f=
b.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||b.type!=="click"){i={};g=[];for(d=0;d<q;d++)h=l[d],k=h.selector,i[k]===c&&(i[k]=h.needsContext?j(k,this).index(f)>=0:j.find(k,this,null,[f]).length),i[k]&&g.push(h);g.length&&H.push({elem:f,matches:g})}l.length>q&&H.push({elem:this,matches:l.slice(q)});for(d=0;d<H.length&&!b.isPropagationStopped();d++){i=H[d];b.currentTarget=i.elem;for(f=0;f<i.matches.length&&!b.isImmediatePropagationStopped();f++)if(h=i.matches[f],n||!b.namespace&&!h.namespace||
b.namespace_re&&b.namespace_re.test(h.namespace))b.data=h.data,b.handleObj=h,h=((j.event.special[h.origType]||{}).handle||h.handler).apply(i.elem,m),h!==c&&(b.result=h,h===!1&&(b.preventDefault(),b.stopPropagation()))}return o.postDispatch&&o.postDispatch.call(this,b),b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,f,h,i=b.button,g=b.fromElement;return a.pageX==null&&b.clientX!=null&&(d=a.target.ownerDocument||y,f=d.documentElement,h=d.body,a.pageX=b.clientX+(f&&f.scrollLeft||h&&h.scrollLeft||0)-(f&&f.clientLeft||h&&h.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||
h&&h.scrollTop||0)-(f&&f.clientTop||h&&h.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),!a.which&&i!==c&&(a.which=i&1?1:i&2?3:i&4?2:0),a}},fix:function(a){if(a[j.expando])return a;var b,c,d=a,f=j.event.fixHooks[a.type]||{},h=f.props?this.props.concat(f.props):this.props,a=j.Event(d);for(b=h.length;b;)c=h[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||y),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},
special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){j.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){a=j.extend(new j.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?j.event.trigger(a,null,b):j.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};j.event.handle=j.event.dispatch;j.removeEvent=y.removeEventListener?
function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]=="undefined"&&(a[b]=null),a.detachEvent(b,c))};j.Event=function(a,b){if(this instanceof j.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?h:d):this.type=a,b&&j.extend(this,b),this.timeStamp=a&&a.timeStamp||j.now(),this[j.expando]=!0;else return new j.Event(a,b)};j.Event.prototype=
{preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;if(a)a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};j.each({mouseenter:"mouseover",mouseleave:"mouseout"},
function(a,b){j.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,f=a.handleObj;if(!d||d!==this&&!j.contains(this,d))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}});j.support.submitBubbles||(j.event.special.submit={setup:function(){if(j.nodeName(this,"form"))return!1;j.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=j.nodeName(a,"input")||j.nodeName(a,"button")?a.form:c)&&!j._data(a,"_submit_attached")&&(j.event.add(a,
"submit._submit",function(a){a._submit_bubble=!0}),j._data(a,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&j.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(j.nodeName(this,"form"))return!1;j.event.remove(this,"._submit")}});j.support.changeBubbles||(j.event.special.change={setup:function(){if(Ma.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")j.event.add(this,"propertychange._change",
function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),j.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);j.event.simulate("change",this,a,!0)});return!1}j.event.add(this,"beforeactivate._change",function(a){a=a.target;Ma.test(a.nodeName)&&!j._data(a,"_change_attached")&&(j.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&j.event.simulate("change",this.parentNode,a,!0)}),j._data(a,"_change_attached",
!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return j.event.remove(this,"._change"),!Ma.test(this.nodeName)}});j.support.focusinBubbles||j.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){j.event.simulate(b,a.target,j.event.fix(a),!0)};j.event.special[b]={setup:function(){c++===0&&y.addEventListener(a,d,!0)},teardown:function(){--c===
0&&y.removeEventListener(a,d,!0)}}});j.fn.extend({on:function(a,b,f,h,i){var g,k;if(typeof a=="object"){typeof b!="string"&&(f=f||b,b=c);for(k in a)this.on(k,b,f,a[k],i);return this}f==null&&h==null?(h=b,f=b=c):h==null&&(typeof b=="string"?(h=f,f=c):(h=f,f=b,b=c));if(h===!1)h=d;else if(!h)return this;return i===1&&(g=h,h=function(a){return j().off(a),g.apply(this,arguments)},h.guid=g.guid||(g.guid=j.guid++)),this.each(function(){j.event.add(this,a,h,f,b)})},one:function(a,b,c,d){return this.on(a,
b,c,d,1)},off:function(a,b,f){var h,i;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,j(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof a=="object"){for(i in a)this.off(i,b,a[i]);return this}if(b===!1||typeof b=="function")f=b,b=c;return f===!1&&(f=d),this.each(function(){j.event.remove(this,a,f,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return j(this.context).on(a,
this.selector,b,c),this},die:function(a,b){return j(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){j.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return j.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||j.guid++,d=0,f=function(c){var f=(j._data(this,"lastToggle"+
a.guid)||0)%d;return j._data(this,"lastToggle"+a.guid,f+1),c.preventDefault(),b[f].apply(this,arguments)||!1};for(f.guid=c;d<b.length;)b[d++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){j.fn[b]=function(a,c){return c==
null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)};vb.test(b)&&(j.event.fixHooks[b]=j.event.keyHooks);Pb.test(b)&&(j.event.fixHooks[b]=j.event.mouseHooks)});(function(a,b){function c(a,b,d,f){var d=d||[],b=b||v,h,i,g,j,x=b.nodeType;if(!a||typeof a!="string")return d;if(x!==1&&x!==9)return[];g=J(b);if(!g&&!f&&(h=ha.exec(a)))if(j=h[1])if(x===9){i=b.getElementById(j);if(!i||!i.parentNode)return d;if(i.id===j)return d.push(i),d}else{if(b.ownerDocument&&(i=b.ownerDocument.getElementById(j))&&
A(b,i)&&i.id===j)return d.push(i),d}else{if(h[2])return K.apply(d,z.call(b.getElementsByTagName(a),0)),d;if((j=h[3])&&da&&b.getElementsByClassName)return K.apply(d,z.call(b.getElementsByClassName(j),0)),d}return H(a.replace(I,"$1"),b,d,f,g)}function d(a){return function(b){return b.nodeName.toLowerCase()==="input"&&b.type===a}}function f(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function h(a){return U(function(b){return b=+b,U(function(c,d){for(var f,
h=a([],c.length,b),i=h.length;i--;)c[f=h[i]]&&(c[f]=!(d[f]=c[f]))})})}function i(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function g(a,b){var d,f,h,i,j,x,k;if(j=P[F][a])return b?0:j.slice(0);j=a;x=[];for(k=t.preFilter;j;){if(!d||(f=Ea.exec(j)))f&&(j=j.slice(f[0].length)),x.push(h=[]);d=!1;if(f=V.exec(j))h.push(d=new G(f.shift())),j=j.slice(d.length),d.type=f[0].replace(I," ");for(i in t.filter)(f=Y[i].exec(j))&&(!k[i]||(f=k[i](f,v,!0)))&&(h.push(d=
new G(f.shift())),j=j.slice(d.length),d.type=i,d.matches=f);if(!d)break}return b?j.length:j?c.error(a):P(a,x).slice(0)}function k(a,b,c){var d=b.dir,f=c&&b.dir==="parentNode",h=ja++;return b.first?function(b,c,h){for(;b=b[d];)if(f||b.nodeType===1)return a(b,c,h)}:function(b,c,i){if(i)for(;b=b[d];){if((f||b.nodeType===1)&&a(b,c,i))return b}else for(var g,j=Q+" "+h+" ",x=j+s;b=b[d];)if(f||b.nodeType===1){if((g=b[F])===x)return b.sizset;if(typeof g=="string"&&g.indexOf(j)===0){if(b.sizset)return b}else{b[F]=
x;if(a(b,c,i))return b.sizset=!0,b;b.sizset=!1}}}}function l(a){return a.length>1?function(b,c,d){for(var f=a.length;f--;)if(!a[f](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,f){for(var h,i=[],g=0,j=a.length,x=b!=null;g<j;g++)if(h=a[g])if(!c||c(h,d,f))i.push(h),x&&b.push(g);return i}function m(a,b,d,f,h,i){return f&&!f[F]&&(f=m(f)),h&&!h[F]&&(h=m(h,i)),U(function(i,g,j,x){if(!i||!h){var k,l,m=[],Z=[],n=g.length;if(!(l=i)){l=b||"*";var o=j.nodeType?[j]:j,H=[];k=0;for(var r=o.length;k<r;k++)c(l,
o[k],H,i);l=H}o=a&&(i||!b)?q(l,m,a,j,x):l;H=d?h||(i?a:n||f)?[]:g:o;d&&d(o,H,j,x);if(f){l=q(H,Z);f(l,[],j,x);for(j=l.length;j--;)if(k=l[j])H[Z[j]]=!(o[Z[j]]=k)}if(i)for(j=a&&H.length;j--;){if(k=H[j])i[m[j]]=!(g[m[j]]=k)}else H=q(H===g?H.splice(n,H.length):H),h?h(null,g,H,x):K.apply(g,H)}})}function n(a){var b,c,d,f=a.length,h=t.relative[a[0].type];c=h||t.relative[" "];for(var i=h?1:0,g=k(function(a){return a===b},c,!0),j=k(function(a){return T.call(b,a)>-1},c,!0),x=[function(a,c,d){return!h&&(d||c!==
C)||((b=c).nodeType?g(a,c,d):j(a,c,d))}];i<f;i++)if(c=t.relative[a[i].type])x=[k(l(x),c)];else{c=t.filter[a[i].type].apply(null,a[i].matches);if(c[F]){for(d=++i;d<f;d++)if(t.relative[a[d].type])break;return m(i>1&&l(x),i>1&&a.slice(0,i-1).join("").replace(I,"$1"),c,i<d&&n(a.slice(i,d)),d<f&&n(a=a.slice(d)),d<f&&a.join(""))}x.push(c)}return l(x)}function o(a,b){var d=b.length>0,f=a.length>0,h=function(i,g,j,x,k){var l,m,Z=[],n=0,o="0",H=i&&[],r=k!=null,p=C,Ic=i||f&&t.find.TAG("*",k&&g.parentNode||
g),u=Q+=p==null?1:Math.E;for(r&&(C=g!==v&&g,s=h.el);(k=Ic[o])!=null;o++){if(f&&k){for(l=0;m=a[l];l++)if(m(k,g,j)){x.push(k);break}r&&(Q=u,s=++h.el)}d&&((k=!m&&k)&&n--,i&&H.push(k))}n+=o;if(d&&o!==n){for(l=0;m=b[l];l++)m(H,Z,g,j);if(i){if(n>0)for(;o--;)!H[o]&&!Z[o]&&(Z[o]=O.call(x));Z=q(Z)}K.apply(x,Z);r&&!i&&Z.length>0&&n+b.length>1&&c.uniqueSort(x)}return r&&(Q=u,C=p),H};return h.el=0,d?U(h):h}function H(a,b,c,d,f){var h,i,j,x,k=g(a);if(!d&&k.length===1){i=k[0]=k[0].slice(0);if(i.length>2&&(j=i[0]).type===
"ID"&&b.nodeType===9&&!f&&t.relative[i[1].type]){b=t.find.ID(j.matches[0].replace(ma,""),b,f)[0];if(!b)return c;a=a.slice(i.shift().length)}for(h=Y.POS.test(a)?-1:i.length-1;h>=0;h--){j=i[h];if(t.relative[x=j.type])break;if(x=t.find[x])if(d=x(j.matches[0].replace(ma,""),qa.test(i[0].type)&&b.parentNode||b,f)){i.splice(h,1);a=d.length&&i.join("");if(!a)return K.apply(c,z.call(d,0)),c;break}}}return w(a,k)(d,b,f,c,qa.test(a)),c}function r(){}var s,p,t,u,J,A,w,y,D,C,R=!0,F=("sizcache"+Math.random()).replace(".",
""),G=String,v=a.document,L=v.documentElement,Q=0,ja=0,O=[].pop,K=[].push,z=[].slice,T=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},U=function(a,b){return a[F]=b==null||b,a},B=function(){var a={},b=[];return U(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c]=d},a)},E=B(),P=B(),Ja=B(),B="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",ca=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+B+")|[^:]|\\\\.)*|.*))\\)|)",I=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ea=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,V=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Pa=RegExp(ca),ha=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,qa=/[\x20\t\r\n\f]*[+~]/,X=/h\d/i,S=/input|select|textarea|button/i,
ma=/\\(?!\\)/g,Y={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+B),PSEUDO:RegExp("^"+ca),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},W=function(a){var b=v.createElement("div");try{return a(b)}catch(c){return!1}finally{}},B=W(function(a){return a.appendChild(v.createComment("")),!a.getElementsByTagName("*").length}),fa=W(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")===
"#"}),ra=W(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return a!=="boolean"&&a!=="string"}),da=W(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ea=W(function(a){a.id=F+0;a.innerHTML="<a name='"+F+"'></a><div name='"+F+"'></div>";L.insertBefore(a,L.firstChild);var b=v.getElementsByName&&
v.getElementsByName(F).length===2+v.getElementsByName(F+0).length;return p=!v.getElementById(F),L.removeChild(a),b});try{z.call(L.childNodes,0)}catch(gc){z=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0};u=c.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(b===1||b===9||b===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=
u(a)}else{if(b===3||b===4)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c};J=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?a.nodeName!=="HTML":!1};A=c.contains=L.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(d.nodeType===1&&c.contains&&c.contains(d)))}:L.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};c.attr=
function(a,b){var c,d=J(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||ra?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)};t=c.selectors={cacheLength:50,createPseudo:U,match:Y,attrHandle:fa?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:p?function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,
c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a))?c.id===a||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").value===a?[c]:b:[]},TAG:B?function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){for(var d,f=[],h=0;d=c[h];h++)d.nodeType===1&&f.push(d);return f}return c},NAME:ea&&function(a,b){if(typeof b.getElementsByName!=="undefined")return b.getElementsByName(name)},
CLASS:da&&function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ma,""),a[3]=(a[4]||a[5]||"").replace(ma,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):
2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;if(Y.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])Pa.test(b)&&(c=g(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:p?function(a){return a=a.replace(ma,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(ma,""),function(b){return(b=typeof b.getAttributeNode!=="undefined"&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(ma,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=E[F][a];return b||(b=E(a,RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!=="undefined"&&a.getAttribute("class")||"")}},ATTR:function(a,b,d){return function(f){f=c.attr(f,a);return f==null?b==="!=":b?(f+="",b===
"="?f===d:b==="!="?f!==d:b==="^="?d&&f.indexOf(d)===0:b==="*="?d&&f.indexOf(d)>-1:b==="$="?d&&f.substr(f.length-d.length)===d:b==="~="?(" "+f+" ").indexOf(d)>-1:b==="|="?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,f;b=a.parentNode;if(c===1&&d===0)return!0;if(b){f=0;for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType===1&&(f++,a===b))break}return f-=d,f===c||f%c===0&&f/c>=0}:function(b){var c=b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(c.nodeType===
1)return!1;if(a==="first")return!0;c=b;case "last":for(;c=c.nextSibling;)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var d,f=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[F]?f(b):f.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?U(function(a,c){for(var d,h=f(a,b),i=h.length;i--;)d=T.call(a,h[i]),a[d]=!(c[d]=h[i])}):function(a){return f(a,0,d)}):f}},pseudos:{not:U(function(a){var b=[],c=[],d=w(a.replace(I,"$1"));return d[F]?
U(function(a,b,c,f){for(var f=d(a,null,f,[]),h=a.length;h--;)if(c=f[h])a[h]=!(b[h]=c)}):function(a,f,h){return b[0]=a,d(b,null,h,c),!c.pop()}}),has:U(function(a){return function(b){return c(a,b).length>0}}),contains:U(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},
selected:function(a){return a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){for(var b,a=a.firstChild;a;){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return X.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),
submit:f("submit"),reset:f("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return S.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:h(function(){return[0]}),last:h(function(a,b){return[b-1]}),eq:h(function(a,b,c){return[c<0?c+b:c]}),even:h(function(a,b){for(var c=
0;c<b;c+=2)a.push(c);return a}),odd:h(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:h(function(a,b,c){for(b=c<0?c+b:c;--b>=0;)a.push(b);return a}),gt:h(function(a,b,c){for(c=c<0?c+b:c;++c<b;)a.push(c);return a})}};y=L.compareDocumentPosition?function(a,b){return a===b?(D=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return D=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-
b.sourceIndex;var c,d,f=[],h=[];c=a.parentNode;d=b.parentNode;var g=c;if(c===d)return i(a,b);if(!c)return-1;if(!d)return 1;for(;g;)f.unshift(g),g=g.parentNode;for(g=d;g;)h.unshift(g),g=g.parentNode;c=f.length;d=h.length;for(g=0;g<c&&g<d;g++)if(f[g]!==h[g])return i(f[g],h[g]);return g===c?i(a,h[g],-1):i(f[g],b,1)};[0,0].sort(y);R=!D;c.uniqueSort=function(a){var b,c=1;D=R;a.sort(y);if(D)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};w=c.compile=function(a,b){var c,d=[],f=[],h=Ja[F][a];if(!h){b||(b=g(a));for(c=b.length;c--;)h=n(b[c]),h[F]?d.push(h):f.push(h);h=Ja(a,o(f,d))}return h};v.querySelectorAll&&function(){var a,b=H,d=/'|\\/g,f=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,h=[":focus"],i=[":active",":focus"],j=L.matchesSelector||L.mozMatchesSelector||L.webkitMatchesSelector||L.oMatchesSelector||L.msMatchesSelector;W(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||
h.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||h.push(":checked")});W(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&h.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||h.push(":enabled",":disabled")});h=RegExp(h.join("|"));H=function(a,c,f,i,j){if(!i&&!j&&(!h||!h.test(a))){var x,k,l=!0,q=F;k=c;x=c.nodeType===
9&&a;if(c.nodeType===1&&c.nodeName.toLowerCase()!=="object"){x=g(a);(l=c.getAttribute("id"))?q=l.replace(d,"\\$&"):c.setAttribute("id",q);q="[id='"+q+"'] ";for(k=x.length;k--;)x[k]=q+x[k].join("");k=qa.test(a)&&c.parentNode||c;x=x.join(",")}if(x)try{return K.apply(f,z.call(k.querySelectorAll(x),0)),f}catch(m){}finally{l||c.removeAttribute("id")}}return b(a,c,f,i,j)};j&&(W(function(b){a=j.call(b,"div");try{j.call(b,"[test!='']:sizzle"),i.push("!=",ca)}catch(c){}}),i=RegExp(i.join("|")),c.matchesSelector=
function(b,d){d=d.replace(f,"='$1']");if(!J(b)&&!i.test(d)&&(!h||!h.test(d)))try{var g=j.call(b,d);if(g||a||b.document&&b.document.nodeType!==11)return g}catch(x){}return c(d,null,null,[b]).length>0})}();t.pseudos.nth=t.pseudos.eq;t.filters=r.prototype=t.pseudos;t.setFilters=new r;c.attr=j.attr;j.find=c;j.expr=c.selectors;j.expr[":"]=j.expr.pseudos;j.unique=c.uniqueSort;j.text=c.getText;j.isXMLDoc=c.isXML;j.contains=c.contains})(a);var Rb=/Until$/,lc=/^(?:parents|prev(?:Until|All))/,Lb=/^.[^:#\[\.,]*$/,
Sb=j.expr.match.needsContext,mc={children:!0,contents:!0,next:!0,prev:!0};j.fn.extend({find:function(a){var b,c,d,f,h,i,g=this;if(typeof a!="string")return j(a).filter(function(){b=0;for(c=g.length;b<c;b++)if(j.contains(g[b],this))return!0});i=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(d=i.length,j.find(a,this[b],i),b>0)for(f=d;f<i.length;f++)for(h=0;h<d;h++)if(i[h]===i[f]){i.splice(f--,1);break}return i},has:function(a){var b,c=j(a,this),d=c.length;return this.filter(function(){for(b=
0;b<d;b++)if(j.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a,!1),"not",a)},filter:function(a){return this.pushStack(m(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Sb.test(a)?j(a,this.context).index(this[0])>=0:j.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,f=this.length,h=[],i=Sb.test(a)||typeof a!="string"?j(a,b||this.context):0;d<f;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&c.nodeType!==11;){if(i?
i.index(c)>-1:j.find.matchesSelector(c,a)){h.push(c);break}c=c.parentNode}return h=h.length>1?j.unique(h):h,this.pushStack(h,"closest",a)},index:function(a){return a?typeof a=="string"?j.inArray(this[0],j(a)):j.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?j(a,b):j.makeArray(a&&a.nodeType?[a]:a),d=j.merge(this.get(),c);return this.pushStack(i(c[0])||i(d[0])?d:j.unique(d))},addBack:function(a){return this.add(a==null?
this.prevObject:this.prevObject.filter(a))}});j.fn.andSelf=j.fn.addBack;j.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return j.dir(a,"parentNode")},parentsUntil:function(a,b,c){return j.dir(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return j.dir(a,"nextSibling")},prevAll:function(a){return j.dir(a,"previousSibling")},nextUntil:function(a,b,c){return j.dir(a,"nextSibling",
c)},prevUntil:function(a,b,c){return j.dir(a,"previousSibling",c)},siblings:function(a){return j.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return j.sibling(a.firstChild)},contents:function(a){return j.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:j.merge([],a.childNodes)}},function(a,b){j.fn[a]=function(c,d){var f=j.map(this,b,c);return Rb.test(a)||(d=c),d&&typeof d=="string"&&(f=j.filter(d,f)),f=this.length>1&&!mc[a]?j.unique(f):f,this.length>1&&lc.test(a)&&
(f=f.reverse()),this.pushStack(f,a,B.call(arguments).join(","))}});j.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?j.find.matchesSelector(b[0],a)?[b[0]]:[]:j.find.matches(a,b)},dir:function(a,b,d){for(var f=[],a=a[b];a&&a.nodeType!==9&&(d===c||a.nodeType!==1||!j(a).is(d));)a.nodeType===1&&f.push(a),a=a[b];return f},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var Mb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
nc=/ jQuery\d+="(?:null|\d+)"/g,xb=/^\s+/,Tb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ub=/<([\w:]+)/,oc=/<tbody/i,yb=/<|&#?\w+;/,Vb=/<(?:script|style|link)/i,Ua=/<(?:script|object|embed|option|style)/i,zb=RegExp("<(?:"+Mb+")[\\s/>]","i"),pb=/^(?:checkbox|radio)$/,Ab=/checked\s*(?:[^=]|=\s*.checked.)/i,Wb=/\/(java|ecma)script/i,cb=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,oa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],
thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},pc=p(y),Aa=pc.appendChild(y.createElement("div"));oa.optgroup=oa.option;oa.tbody=oa.tfoot=oa.colgroup=oa.caption=oa.thead;oa.th=oa.td;j.support.htmlSerialize||(oa._default=[1,"X<div>","</div>"]);j.fn.extend({text:function(a){return j.access(this,function(a){return a===
c?j.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(j.isFunction(a))return this.each(function(b){j(this).wrapAll(a.call(this,b))});if(this[0]){var b=j(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return j.isFunction(a)?this.each(function(b){j(this).wrapInner(a.call(this,
b))}):this.each(function(){var b=j(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=j.isFunction(a);return this.each(function(c){j(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=j.clean(arguments);return this.pushStack(j.merge(a,this),"before",this.selector)}},after:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=j.clean(arguments);return this.pushStack(j.merge(this,
a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;(c=this[d])!=null;d++)if(!a||j.filter(a,[c]).length)!b&&c.nodeType===1&&(j.cleanData(c.getElementsByTagName("*")),j.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,b=0;(a=this[b])!=null;b++)for(a.nodeType===1&&j.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return j.clone(this,
a,b)})},html:function(a){return j.access(this,function(a){var b=this[0]||{},d=0,f=this.length;if(a===c)return b.nodeType===1?b.innerHTML.replace(nc,""):c;if(typeof a=="string"&&!Vb.test(a)&&(j.support.htmlSerialize||!zb.test(a))&&(j.support.leadingWhitespace||!xb.test(a))&&!oa[(Ub.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Tb,"<$1></$2>");try{for(;d<f;d++)b=this[d]||{},b.nodeType===1&&(j.cleanData(b.getElementsByTagName("*")),b.innerHTML=a);b=0}catch(h){}}b&&this.empty().append(a)},null,a,arguments.length)},
replaceWith:function(a){return i(this[0])?this.length?this.pushStack(j(j.isFunction(a)?a():a),"replaceWith",a):this:j.isFunction(a)?this.each(function(b){var c=j(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=j(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;j(this).remove();b?j(b).before(a):j(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,d){var a=[].concat.apply([],a),f,h,i,g=0,k=a[0],l=[],q=this.length;
if(!j.support.checkClone&&q>1&&typeof k=="string"&&Ab.test(k))return this.each(function(){j(this).domManip(a,b,d)});if(j.isFunction(k))return this.each(function(f){var h=j(this);a[0]=k.call(this,f,b?h.html():c);h.domManip(a,b,d)});if(this[0]){f=j.buildFragment(a,this,l);i=f.fragment;h=i.firstChild;i.childNodes.length===1&&(i=h);if(h){b=b&&j.nodeName(h,"tr");for(f=f.cacheable||q-1;g<q;g++)d.call(b&&j.nodeName(this[g],"table")?this[g].getElementsByTagName("tbody")[0]||this[g].appendChild(this[g].ownerDocument.createElement("tbody")):
this[g],g===f?i:j.clone(i,!0,!0))}i=h=null;l.length&&j.each(l,function(a,b){b.src?j.ajax?j.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):j.error("no ajax"):j.globalEval((b.text||b.textContent||b.innerHTML||"").replace(cb,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});j.buildFragment=function(a,b,d){var f,h,i,g=a[0];return b=b||y,b=!b.nodeType&&b[0]||b,b=b.ownerDocument||b,a.length===1&&typeof g=="string"&&g.length<512&&b===y&&g.charAt(0)==="<"&&!Ua.test(g)&&
(j.support.checkClone||!Ab.test(g))&&(j.support.html5Clone||!zb.test(g))&&(h=!0,f=j.fragments[g],i=f!==c),f||(f=b.createDocumentFragment(),j.clean(a,b,f,d),h&&(j.fragments[g]=i&&f)),{fragment:f,cacheable:h}};j.fragments={};j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){j.fn[a]=function(c){var d,f=0,h=[],c=j(c),i=c.length;d=this.length===1&&this[0].parentNode;if((d==null||d&&d.nodeType===11&&d.childNodes.length===1)&&
i===1)return c[b](this[0]),this;for(;f<i;f++)d=(f>0?this.clone(!0):this).get(),j(c[f])[b](d),h=h.concat(d);return this.pushStack(h,a,c.selector)}});j.extend({clone:function(a,b,c){var d,f,h,i;j.support.html5Clone||j.isXMLDoc(a)||!zb.test("<"+a.nodeName+">")?i=a.cloneNode(!0):(Aa.innerHTML=a.outerHTML,Aa.removeChild(i=Aa.firstChild));if((!j.support.noCloneEvent||!j.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!j.isXMLDoc(a)){t(a,i);d=n(a);f=n(i);for(h=0;d[h];++h)f[h]&&t(d[h],f[h])}if(b&&
(r(a,i),c)){d=n(a);f=n(i);for(h=0;d[h];++h)r(d[h],f[h])}return i},clean:function(a,b,c,d){var f,h,i,g,k,q,m,n=b===y&&pc,o=[];if(!b||typeof b.createDocumentFragment=="undefined")b=y;for(f=0;(i=a[f])!=null;f++)if(typeof i=="number"&&(i+=""),i){if(typeof i=="string")if(yb.test(i)){n=n||p(b);q=b.createElement("div");n.appendChild(q);i=i.replace(Tb,"<$1></$2>");h=(Ub.exec(i)||["",""])[1].toLowerCase();g=oa[h]||oa._default;k=g[0];for(q.innerHTML=g[1]+i+g[2];k--;)q=q.lastChild;if(!j.support.tbody){k=oc.test(i);
g=h==="table"&&!k?q.firstChild&&q.firstChild.childNodes:g[1]==="<table>"&&!k?q.childNodes:[];for(h=g.length-1;h>=0;--h)j.nodeName(g[h],"tbody")&&!g[h].childNodes.length&&g[h].parentNode.removeChild(g[h])}!j.support.leadingWhitespace&&xb.test(i)&&q.insertBefore(b.createTextNode(xb.exec(i)[0]),q.firstChild);i=q.childNodes;q.parentNode.removeChild(q)}else i=b.createTextNode(i);i.nodeType?o.push(i):j.merge(o,i)}q&&(i=q=n=null);if(!j.support.appendChecked)for(f=0;(i=o[f])!=null;f++)j.nodeName(i,"input")?
l(i):typeof i.getElementsByTagName!="undefined"&&j.grep(i.getElementsByTagName("input"),l);if(c){a=function(a){if(!a.type||Wb.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(i=o[f])!=null;f++)if(!j.nodeName(i,"script")||!a(i))c.appendChild(i),typeof i.getElementsByTagName!="undefined"&&(m=j.grep(j.merge([],i.getElementsByTagName("script")),a),o.splice.apply(o,[f+1,0].concat(m)),f+=m.length)}return o},cleanData:function(a,b){for(var c,d,f,h,i=0,g=
j.expando,k=j.cache,l=j.support.deleteExpando,q=j.event.special;(f=a[i])!=null;i++)if(b||j.acceptData(f))if(c=(d=f[g])&&k[d]){if(c.events)for(h in c.events)q[h]?j.event.remove(f,h):j.removeEvent(f,h,c.handle);k[d]&&(delete k[d],l?delete f[g]:f.removeAttribute?f.removeAttribute(g):f[g]=null,j.deletedIds.push(d))}}});(function(){var a,b;j.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||
a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=j.uaMatch(P.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);j.browser=b;j.sub=function(){function a(b,c){return new a.fn.init(b,c)}j.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function ob(ob,c){return c&&c instanceof j&&!(c instanceof a)&&(c=a(c)),j.fn.init.call(this,
ob,c,b)};a.fn.init.prototype=a.fn;var b=a(y);return a}})();var la,ua,Fa,Va=/alpha\([^)]*\)/i,zc=/opacity=([^)]*)/,Ac=/^(top|right|bottom|left)$/,Bc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,ic=RegExp("^("+Y+")(.*)$","i"),qb=RegExp("^("+Y+")(?!px)[a-z%]+$","i"),Cc=RegExp("^([-+])=("+Y+")","i"),rb={},Ba={position:"absolute",visibility:"hidden",display:"block"},db={letterSpacing:0,fontWeight:400},ya=["Top","Right","Bottom","Left"],Nb=["Webkit","O","Moz","ms"],Bb=j.fn.toggle;j.fn.extend({css:function(a,
b){return j.access(this,function(a,b,d){return d!==c?j.style(a,b,d):j.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a,b){var c=typeof a=="boolean";return j.isFunction(a)&&j.isFunction(b)?Bb.apply(this,arguments):this.each(function(){(c?a:D(this))?j(this).show():j(this).hide()})}});j.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=la(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,f){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var h,i,g,k=j.camelCase(b),l=a.style,b=j.cssProps[k]||(j.cssProps[k]=A(l,k));g=j.cssHooks[b]||j.cssHooks[k];if(d===c)return g&&"get"in g&&(h=g.get(a,!1,f))!==c?h:l[b];i=typeof d;i==="string"&&(h=Cc.exec(d))&&(d=(h[1]+1)*h[2]+parseFloat(j.css(a,b)),i="number");if(!(d==null||i==="number"&&isNaN(d)))if(i==="number"&&
!j.cssNumber[k]&&(d+="px"),!g||!("set"in g)||(d=g.set(a,d,f))!==c)try{l[b]=d}catch(q){}}},css:function(a,b,d,f){var h,i,g,k=j.camelCase(b);return b=j.cssProps[k]||(j.cssProps[k]=A(a.style,k)),g=j.cssHooks[b]||j.cssHooks[k],g&&"get"in g&&(h=g.get(a,!0,f)),h===c&&(h=la(a,b)),h==="normal"&&b in db&&(h=db[b]),d||f!==c?(i=parseFloat(h),d||j.isNumeric(i)?i||0:h):h},swap:function(a,b,c){var d,f={};for(d in b)f[d]=a.style[d],a.style[d]=b[d];c=c.call(a);for(d in b)a.style[d]=f[d];return c}});a.getComputedStyle?
la=function(b,c){var d,f,h,i,g=a.getComputedStyle(b,null),k=b.style;return g&&(d=g[c],d===""&&!j.contains(b.ownerDocument,b)&&(d=j.style(b,c)),qb.test(d)&&qc.test(c)&&(f=k.width,h=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=d,d=g.width,k.width=f,k.minWidth=h,k.maxWidth=i)),d}:y.documentElement.currentStyle&&(la=function(a,b){var c,d,f=a.currentStyle&&a.currentStyle[b],h=a.style;return f==null&&h&&h[b]&&(f=h[b]),qb.test(f)&&!Ac.test(b)&&(c=h.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&
(a.runtimeStyle.left=a.currentStyle.left),h.left=b==="fontSize"?"1em":f,f=h.pixelLeft+"px",h.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f});j.each(["height","width"],function(a,b){j.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&Bc.test(la(a,"display"))?j.swap(a,Ba,function(){return Q(a,b,d)}):Q(a,b,d)},set:function(a,c,d){return T(a,c,d?u(a,b,d,j.support.boxSizing&&j.css(a,"boxSizing")==="border-box"):0)}}});j.support.opacity||(j.cssHooks.opacity={get:function(a,b){return zc.test((b&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,f=j.isNumeric(b)?"alpha(opacity="+b*100+")":"",h=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&j.trim(h.replace(Va,""))===""&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter))return;c.filter=Va.test(h)?h.replace(Va,f):h+" "+f}});j(function(){j.support.reliableMarginRight||(j.cssHooks.marginRight={get:function(a,b){return j.swap(a,{display:"inline-block"},
function(){if(b)return la(a,"marginRight")})}});!j.support.pixelPosition&&j.fn.position&&j.each(["top","left"],function(a,b){j.cssHooks[b]={get:function(a,c){if(c){var d=la(a,b);return qb.test(d)?j(a).position()[b]+"px":d}}}})});j.expr&&j.expr.filters&&(j.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!j.support.reliableHiddenOffsets&&(a.style&&a.style.display||la(a,"display"))==="none"},j.expr.filters.visible=function(a){return!j.expr.filters.hidden(a)});j.each({margin:"",
padding:"",border:"Width"},function(a,b){j.cssHooks[a+b]={expand:function(c){for(var d=typeof c=="string"?c.split(" "):[c],f={},c=0;c<4;c++)f[a+ya[c]+b]=d[c]||d[c-2]||d[0];return f}};qc.test(a)||(j.cssHooks[a+b].set=T)});var Cb=/%20/g,Oa=/\[\]$/,Wa=/\r?\n/g,eb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xb=/^(?:select|textarea)/i;j.fn.extend({serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Xb.test(this.nodeName)||eb.test(this.type))}).map(function(a,b){var c=j(this).val();return c==null?null:j.isArray(c)?j.map(c,function(a){return{name:b.name,value:a.replace(Wa,"\r\n")}}):{name:b.name,value:c.replace(Wa,"\r\n")}}).get()}});j.param=function(a,b){var d,f=[],h=function(a,b){b=j.isFunction(b)?b():b==null?"":b;f[f.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===c&&(b=j.ajaxSettings&&
j.ajaxSettings.traditional);if(j.isArray(a)||a.jquery&&!j.isPlainObject(a))j.each(a,function(){h(this.name,this.value)});else for(d in a)K(d,a[d],b,h);return f.join("&").replace(Cb,"+")};var xa,pa,fb=/#.*$/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Db=/^(?:GET|HEAD)$/,Zb=/^\/\//,$b=/\?/,gb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,hb=/([?&])_=[^&]*/,Ca=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Xa=j.fn.load,Ga={},ib={},Na=["*/"]+["*"];try{pa=Pa.href}catch(Eb){pa=y.createElement("a"),pa.href=
"",pa=pa.href}xa=Ca.exec(pa.toLowerCase())||[];j.fn.load=function(a,b,d){if(typeof a!="string"&&Xa)return Xa.apply(this,arguments);if(!this.length)return this;var f,h,i,g=this,k=a.indexOf(" ");return k>=0&&(f=a.slice(k,a.length),a=a.slice(0,k)),j.isFunction(b)?(d=b,b=c):b&&typeof b=="object"&&(h="POST"),j.ajax({url:a,type:h,dataType:"html",data:b,complete:function(a,b){d&&g.each(d,i||[a.responseText,b,a])}}).done(function(a){i=arguments;g.html(f?j("<div>").append(a.replace(gb,"")).find(f):a)}),this};
j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){j.fn[b]=function(a){return this.on(b,a)}});j.each(["get","post"],function(a,b){j[b]=function(a,d,f,h){return j.isFunction(d)&&(h=h||f,f=d,d=c),j.ajax({type:b,url:a,data:d,success:f,dataType:h})}});j.extend({getScript:function(a,b){return j.get(a,c,b,"script")},getJSON:function(a,b,c){return j.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?W(a,j.ajaxSettings):(b=a,a=j.ajaxSettings),W(a,b),a},ajaxSettings:{url:pa,
isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(xa[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Na},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":j.parseJSON,"text xml":j.parseXML},
flatOptions:{context:!0,url:!0}},ajaxPrefilter:ha(Ga),ajaxTransport:ha(ib),ajax:function(a,b){function d(a,b,i,l){var m,x,p,u,A,y=b;if(J!==2){J=2;k&&clearTimeout(k);g=c;h=l||"";w.readyState=a>0?4:0;if(i){u=o;var l=w,F,Z,D,C,R=u.contents,v=u.dataTypes,G=u.responseFields;for(Z in G)Z in i&&(l[G[Z]]=i[Z]);for(;v[0]==="*";)v.shift(),F===c&&(F=u.mimeType||l.getResponseHeader("content-type"));if(F)for(Z in R)if(R[Z]&&R[Z].test(F)){v.unshift(Z);break}if(v[0]in i)D=v[0];else{for(Z in i){if(!v[0]||u.converters[Z+
" "+v[0]]){D=Z;break}C||(C=Z)}D=D||C}u=D?(D!==v[0]&&v.unshift(D),i[D]):void 0}if(a>=200&&a<300||a===304)if(o.ifModified&&(A=w.getResponseHeader("Last-Modified"),A&&(j.lastModified[f]=A),A=w.getResponseHeader("Etag"),A&&(j.etag[f]=A)),a===304)y="notmodified",m=!0;else{var L;a:{i=o;m=u;var Q;A=i.dataTypes.slice();y=A[0];F={};Z=0;i.dataFilter&&(m=i.dataFilter(m,i.dataType));if(A[1])for(L in i.converters)F[L.toLowerCase()]=i.converters[L];for(;x=A[++Z];)if(x!=="*"){if(y!=="*"&&y!==x){L=F[y+" "+x]||F["* "+
x];if(!L)for(Q in F)if(p=Q.split(" "),p[1]===x&&(L=F[y+" "+p[0]]||F["* "+p[0]])){L===!0?L=F[Q]:F[Q]!==!0&&(x=p[0],A.splice(Z--,0,x));break}if(L!==!0)if(L&&i["throws"])m=L(m);else try{m=L(m)}catch(U){L={state:"parsererror",error:L?U:"No conversion from "+y+" to "+x};break a}}y=x}L={state:"success",data:m}}m=L;y=m.state;x=m.data;p=m.error;m=!p}else if(p=y,!y||a)y="error",a<0&&(a=0);w.status=a;w.statusText=(b||y)+"";m?r.resolveWith(n,[x,y,w]):r.rejectWith(n,[w,y,p]);w.statusCode(t);t=c;q&&H.trigger("ajax"+
(m?"Success":"Error"),[w,o,m?x:p]);s.fireWith(n,[w,y]);q&&(H.trigger("ajaxComplete",[w,o]),--j.active||j.event.trigger("ajaxStop"))}}typeof a=="object"&&(b=a,a=c);var b=b||{},f,h,i,g,k,l,q,m,o=j.ajaxSetup({},b),n=o.context||o,H=n!==o&&(n.nodeType||n instanceof j)?j(n):j.event,r=j.Deferred(),s=j.Callbacks("once memory"),t=o.statusCode||{},p={},u={},J=0,A="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase(),a=u[c]=u[c]||a;p[a]=b}return this},getAllResponseHeaders:function(){return J===
2?h:null},getResponseHeader:function(a){var b;if(J===2){if(!i)for(i={};b=Yb.exec(h);)i[b[1].toLowerCase()]=b[2];b=i[a.toLowerCase()]}return b===c?null:b},overrideMimeType:function(a){return J||(o.mimeType=a),this},abort:function(a){return a=a||A,g&&g.abort(a),d(0,a),this}};r.promise(w);w.success=w.done;w.error=w.fail;w.complete=s.add;w.statusCode=function(a){if(a){var b;if(J<2)for(b in a)t[b]=[t[b],a[b]];else b=a[w.status],w.always(b)}return this};o.url=((a||o.url)+"").replace(fb,"").replace(Zb,xa[1]+
"//");o.dataTypes=j.trim(o.dataType||"*").toLowerCase().split(v);o.crossDomain==null&&(l=Ca.exec(o.url.toLowerCase())||!1,o.crossDomain=l&&l.join(":")+(l[3]?"":l[1]==="http:"?80:443)!==xa.join(":")+(xa[3]?"":xa[1]==="http:"?80:443));o.data&&o.processData&&typeof o.data!="string"&&(o.data=j.param(o.data,o.traditional));V(Ga,o,b,w);if(J===2)return w;q=o.global;o.type=o.type.toUpperCase();o.hasContent=!Db.test(o.type);q&&j.active++===0&&j.event.trigger("ajaxStart");if(!o.hasContent&&(o.data&&(o.url+=
($b.test(o.url)?"&":"?")+o.data,delete o.data),f=o.url,o.cache===!1)){l=j.now();var y=o.url.replace(hb,"$1_="+l);o.url=y+(y===o.url?($b.test(o.url)?"&":"?")+"_="+l:"")}(o.data&&o.hasContent&&o.contentType!==!1||b.contentType)&&w.setRequestHeader("Content-Type",o.contentType);o.ifModified&&(f=f||o.url,j.lastModified[f]&&w.setRequestHeader("If-Modified-Since",j.lastModified[f]),j.etag[f]&&w.setRequestHeader("If-None-Match",j.etag[f]));w.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?
o.accepts[o.dataTypes[0]]+(o.dataTypes[0]!=="*"?", "+Na+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)w.setRequestHeader(m,o.headers[m]);if(!o.beforeSend||o.beforeSend.call(n,w,o)!==!1&&J!==2){A="abort";for(m in{success:1,error:1,complete:1})w[m](o[m]);if(g=V(ib,o,b,w)){w.readyState=1;q&&H.trigger("ajaxSend",[w,o]);o.async&&o.timeout>0&&(k=setTimeout(function(){w.abort("timeout")},o.timeout));try{J=1,g.send(p,d)}catch(F){if(J<2)d(-1,F);else throw F;}}else d(-1,"No Transport");return w}return w.abort()},
active:0,lastModified:{},etag:{}});var jb=[],Fb=/\?/,ac=/(=)\?(?=&|$)|\?\?/,Gb=j.now();j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jb.pop()||j.expando+"_"+Gb++;return this[a]=!0,a}});j.ajaxPrefilter("json jsonp",function(b,d,f){var h,i,g,k=b.data,l=b.url,q=b.jsonp!==!1,o=q&&ac.test(l),m=q&&!o&&typeof k=="string"&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(k);if(b.dataTypes[0]==="jsonp"||o||m)return h=b.jsonpCallback=j.isFunction(b.jsonpCallback)?b.jsonpCallback():
b.jsonpCallback,i=a[h],o?b.url=l.replace(ac,"$1"+h):m?b.data=k.replace(ac,"$1"+h):q&&(b.url+=(Fb.test(l)?"&":"?")+b.jsonp+"="+h),b.converters["script json"]=function(){return g||j.error(h+" was not called"),g[0]},b.dataTypes[0]="json",a[h]=function(){g=arguments},f.always(function(){a[h]=i;b[h]&&(b.jsonpCallback=d.jsonpCallback,jb.push(h));g&&j.isFunction(i)&&i(g[0]);g=i=c}),"script"});j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return j.globalEval(a),a}}});j.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});j.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(f,h){b=y.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
f){if(f||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,d&&b.parentNode&&d.removeChild(b),b=c,f||h(200,"success")};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var kb,bc=a.ActiveXObject?function(){for(var a in kb)kb[a](0,1)}:!1,Dc=0;j.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&fa()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}return b}:fa;(function(a){j.extend(j.support,
{ajax:!!a,cors:!!a&&"withCredentials"in a})})(j.ajaxSettings.xhr());j.support.ajax&&j.ajaxTransport(function(b){if(!b.crossDomain||j.support.cors){var d;return{send:function(f,h){var i,g,k=b.xhr();b.username?k.open(b.type,b.url,b.async,b.username,b.password):k.open(b.type,b.url,b.async);if(b.xhrFields)for(g in b.xhrFields)k[g]=b.xhrFields[g];b.mimeType&&k.overrideMimeType&&k.overrideMimeType(b.mimeType);!b.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(g in f)k.setRequestHeader(g,
f[g])}catch(l){}k.send(b.hasContent&&b.data||null);d=function(a,f){var g,l,q,o,m;try{if(d&&(f||k.readyState===4))if(d=c,i&&(k.onreadystatechange=j.noop,bc&&delete kb[i]),f)k.readyState!==4&&k.abort();else{g=k.status;q=k.getAllResponseHeaders();o={};(m=k.responseXML)&&m.documentElement&&(o.xml=m);try{o.text=k.responseText}catch(n){}try{l=k.statusText}catch(H){l=""}!g&&b.isLocal&&!b.crossDomain?g=o.text?200:404:g===1223&&(g=204)}}catch(r){f||h(-1,r)}o&&h(g,l,o,q)};b.async?k.readyState===4?setTimeout(d,
0):(i=++Dc,bc&&(kb||(kb={},j(a).unload(bc)),kb[i]=d),k.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Za,lb,Ec=/^(?:toggle|show|hide)$/,Fc=RegExp("^(?:([-+])=|)("+Y+")([a-z%]*)$","i"),Gc=/queueHooks$/,sb=[function(a,b,c){var d,f,h,i,g,k,l=this,q=a.style,o={},m=[],n=a.nodeType&&D(a);c.queue||(g=j._queueHooks(a,"fx"),g.unqueued==null&&(g.unqueued=0,k=g.empty.fire,g.empty.fire=function(){g.unqueued||k()}),g.unqueued++,l.always(function(){l.always(function(){g.unqueued--;j.queue(a,"fx").length||
g.empty.fire()})}));a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[q.overflow,q.overflowX,q.overflowY],j.css(a,"display")==="inline"&&j.css(a,"float")==="none"&&(!j.support.inlineBlockNeedsLayout||ca(a.nodeName)==="inline"?q.display="inline-block":q.zoom=1));c.overflow&&(q.overflow="hidden",j.support.shrinkWrapBlocks||l.done(function(){q.overflow=c.overflow[0];q.overflowX=c.overflow[1];q.overflowY=c.overflow[2]}));for(d in b)f=b[d],Ec.exec(f)&&(delete b[d],f!==(n?"hide":"show")&&m.push(d));
if(f=m.length){h=j._data(a,"fxshow")||j._data(a,"fxshow",{});n?j(a).show():l.done(function(){j(a).hide()});l.done(function(){var b;j.removeData(a,"fxshow",!0);for(b in o)j.style(a,b,o[b])});for(d=0;d<f;d++)b=m[d],i=l.createTween(b,n?h[b]:0),o[b]=h[b]||j.style(a,b),b in h||(h[b]=i.start,n&&(i.end=i.start,i.start=b==="width"||b==="height"?1:0))}}],$a={"*":[function(a,b){var c,d,f=this.createTween(a,b),h=Fc.exec(b),i=f.cur(),g=+i||0,k=1,l=20;if(h){c=+h[2];d=h[3]||(j.cssNumber[a]?"":"px");if(d!=="px"&&
g){g=j.css(f.elem,a,!0)||c||1;do k=k||".5",g/=k,j.style(f.elem,a,g+d);while(k!==(k=f.cur()/i)&&k!==1&&--l)}f.unit=d;f.start=g;f.end=h[1]?g+(h[1]+1)*c:c}return f}]};j.Animation=j.extend(U,{tweener:function(a,b){j.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,f=a.length;d<f;d++)c=a[d],$a[c]=$a[c]||[],$a[c].unshift(b)},prefilter:function(a,b){b?sb.unshift(a):sb.push(a)}});j.Tween=q;q.prototype={constructor:q,init:function(a,b,c,d,f,h){this.elem=a;this.prop=c;this.easing=f||"swing";this.options=
b;this.start=this.now=this.cur();this.end=d;this.unit=h||(j.cssNumber[c]?"":"px")},cur:function(){var a=q.propHooks[this.prop];return a&&a.get?a.get(this):q.propHooks._default.get(this)},run:function(a){var b,c=q.propHooks[this.prop];return this.options.duration?this.pos=b=j.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):q.propHooks._default.set(this),
this}};q.prototype.init.prototype=q.prototype;q.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||a.elem.style&&a.elem.style[a.prop]!=null?(b=j.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){j.fx.step[a.prop]?j.fx.step[a.prop](a):a.elem.style&&(a.elem.style[j.cssProps[a.prop]]!=null||j.cssHooks[a.prop])?j.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&
(a.elem[a.prop]=a.now)}};j.each(["toggle","show","hide"],function(a,b){var c=j.fn[b];j.fn[b]=function(d,f,h){return d==null||typeof d=="boolean"||!a&&j.isFunction(d)&&j.isFunction(f)?c.apply(this,arguments):this.animate(o(b,!0),d,f,h)}});j.fn.extend({fadeTo:function(a,b,c,d){return this.filter(D).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var f=j.isEmptyObject(a),h=j.speed(b,c,d),b=function(){var b=U(this,j.extend({},a),h);f&&b.stop(!0)};return f||h.queue===
!1?this.each(b):this.queue(h.queue,b)},stop:function(a,b,d){var f=function(a){var b=a.stop;delete a.stop;b(d)};return typeof a!="string"&&(d=b,b=a,a=c),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",h=j.timers,i=j._data(this);if(c)i[c]&&i[c].stop&&f(i[c]);else for(c in i)i[c]&&i[c].stop&&Gc.test(c)&&f(i[c]);for(c=h.length;c--;)h[c].elem===this&&(a==null||h[c].queue===a)&&(h[c].anim.stop(d),b=!1,h.splice(c,1));(b||!d)&&j.dequeue(this,a)})}});j.each({slideDown:o("show"),
slideUp:o("hide"),slideToggle:o("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){j.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});j.speed=function(a,b,c){var d=a&&typeof a=="object"?j.extend({},a):{complete:c||!c&&b||j.isFunction(a)&&a,duration:a,easing:c&&b||b&&!j.isFunction(b)&&b};d.duration=j.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in j.fx.speeds?j.fx.speeds[d.duration]:j.fx.speeds._default;if(d.queue==null||d.queue===
!0)d.queue="fx";return d.old=d.complete,d.complete=function(){j.isFunction(d.old)&&d.old.call(this);d.queue&&j.dequeue(this,d.queue)},d};j.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};j.timers=[];j.fx=q.prototype.init;j.fx.tick=function(){for(var a,b=j.timers,c=0;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||j.fx.stop()};j.fx.timer=function(a){a()&&j.timers.push(a)&&!lb&&(lb=setInterval(j.fx.tick,j.fx.interval))};j.fx.interval=13;j.fx.stop=
function(){clearInterval(lb);lb=null};j.fx.speeds={slow:600,fast:200,_default:400};j.fx.step={};j.expr&&j.expr.filters&&(j.expr.filters.animated=function(a){return j.grep(j.timers,function(b){return a===b.elem}).length});var mb=/^(?:body|html)$/i;j.fn.offset=function(a){if(arguments.length)return a===c?this:this.each(function(b){j.offset.setOffset(this,a,b)});var b,d,f,h,i,g,k,l={top:0,left:0},q=this[0],o=q&&q.ownerDocument;return!o?void 0:(d=o.body)===q?j.offset.bodyOffset(q):(b=o.documentElement,
j.contains(b,q)?(typeof q.getBoundingClientRect!="undefined"&&(l=q.getBoundingClientRect()),f=s(o),h=b.clientTop||d.clientTop||0,i=b.clientLeft||d.clientLeft||0,g=f.pageYOffset||b.scrollTop,k=f.pageXOffset||b.scrollLeft,{top:l.top+g-h,left:l.left+k-i}):l)};j.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return j.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(j.css(a,"marginTop"))||0,c+=parseFloat(j.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=
j.css(a,"position");d==="static"&&(a.style.position="relative");var f=j(a),h=f.offset(),i=j.css(a,"top"),g=j.css(a,"left"),k={},l={},q,o;(d==="absolute"||d==="fixed")&&j.inArray("auto",[i,g])>-1?(l=f.position(),q=l.top,o=l.left):(q=parseFloat(i)||0,o=parseFloat(g)||0);j.isFunction(b)&&(b=b.call(a,c,h));b.top!=null&&(k.top=b.top-h.top+q);b.left!=null&&(k.left=b.left-h.left+o);"using"in b?b.using.call(a,k):f.css(k)}};j.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=
this.offset(),d=mb.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(j.css(a,"marginTop"))||0,c.left-=parseFloat(j.css(a,"marginLeft"))||0,d.top+=parseFloat(j.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(j.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.body;a&&!mb.test(a.nodeName)&&j.css(a,"position")==="static";)a=a.offsetParent;return a||y.body})}});j.each({scrollLeft:"pageXOffset",
scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);j.fn[a]=function(f){return j.access(this,function(a,f,h){var i=s(a);if(h===c)return i?b in i?i[b]:i.document.documentElement[f]:a[f];i?i.scrollTo(d?j(i).scrollLeft():h,d?h:j(i).scrollTop()):a[f]=h},a,f,arguments.length,null)}});j.each({Height:"height",Width:"width"},function(a,b){j.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,f){j.fn[f]=function(f,h){var i=arguments.length&&(d||typeof f!="boolean"),g=d||(f===!0||h===!0?"margin":
"border");return j.access(this,function(b,d,f){var h;return j.isWindow(b)?b.document.documentElement["client"+a]:b.nodeType===9?(h=b.documentElement,Math.max(b.body["scroll"+a],h["scroll"+a],b.body["offset"+a],h["offset"+a],h["client"+a])):f===c?j.css(b,d,f,g):j.style(b,d,f,g)},b,i?f:c,i,null)}})});a.jQuery=a.$=j;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return j})})(window);(function(a){var c=/["\\\x00-\x1f\x7f-\x9f]/g,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(c){if(c===null)return"null";var b=typeof c;if(b!=="undefined"){if(b==="number"||b==="boolean")return""+c;if(b==="string")return a.quoteString(c);if(b==="object"){if(typeof c.toJSON==="function")return a.toJSON(c.toJSON());if(c.constructor===Date){var d=c.getUTCMonth()+1,h=c.getUTCDate(),i=c.getUTCFullYear(),
b=c.getUTCHours(),g=c.getUTCMinutes(),m=c.getUTCSeconds(),c=c.getUTCMilliseconds();d<10&&(d="0"+d);h<10&&(h="0"+h);b<10&&(b="0"+b);g<10&&(g="0"+g);m<10&&(m="0"+m);c<100&&(c="0"+c);c<10&&(c="0"+c);return'"'+i+"-"+d+"-"+h+"T"+b+":"+g+":"+m+"."+c+'Z"'}if(c.constructor===Array){d=[];for(h=0;h<c.length;h++)d.push(a.toJSON(c[h])||"null");return"["+d.join(",")+"]"}h=[];for(i in c){b=typeof i;if(b==="number")d='"'+i+'"';else if(b==="string")d=a.quoteString(i);else continue;b=typeof c[i];b==="function"||b===
"undefined"||(b=a.toJSON(c[i]),h.push(d+":"+b))}return"{"+h.join(",")+"}"}}};a.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(a){return eval("("+a+")")};a.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");
};a.quoteString=function(a){return a.match(c)?'"'+a.replace(c,function(a){var c=g[a];if(typeof c==="string")return c;c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+a+'"'}})(jQuery);window.onerror=function(a,c,g){logError("onerror",a,c,g)};function T5Error(a){this.errordesc=a;this.origin="JS"}
function logError(a,c,g,f){try{var b="";try{var d=JSON.parse(window.sessionStorage.getItem("facebookuser"));d&&(b="[User is "+d.name+"]")}catch(h){}var i=new T5Error("origin:"+a+"; msg:"+c+b+"; url:"+g+"; lineNo:"+f);$.ajax({url:WS_URL_ROOT+"/Game/logError",type:"POST",data:JSON.stringify(i),dataType:"json",contentType:"application/json: charset=utf-8",success:function(){}})}catch(k){}}
function logErrorExtra(a,c,g,f,b){try{var d="";try{var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h&&(d="[User is "+h.name+"]")}catch(i){}var k=new T5Error("origin:"+a+"; msg:"+c+d+"; url:"+g+"; lineNo:"+f);k.origin=b;$.ajax({url:WS_URL_ROOT+"/Game/logError",type:"POST",data:JSON.stringify(k),dataType:"json",contentType:"application/json: charset=utf-8",success:function(){}})}catch(m){}};(function(a,c){function g(c,d){var f,h;if(a.isArray(c)){for(f=c.length-1;f>=0;f--)h=c[f],a.type(c)==="object"||a.type(h)==="string"&&b.transports[h]||(d.log("Invalid transport: "+h+", removing it from the transports list."),c.splice(f,1));c.length===0&&(d.log("No transports remain within the specified transport array."),c=null)}else if(a.type(c)==="object"||b.transports[c]||c==="auto"){if(c==="auto"&&b._.ieVersion<=8)return["longPolling"]}else d.log("Invalid transport: "+c.toString()),c=null;return c}
function f(a){return a==="http:"?80:a==="https:"?443:void 0}if(typeof a!="function")throw Error("SignalR: jQuery not found. Please ensure jQuery is referenced before the SignalR.js file.");if(!c.JSON)throw Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");var b,d,h=c.document.readyState==="complete",i=a(c),k={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",
onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},m=function(b,c,d){return c===b.state?(b.state=d,a(b).triggerHandler(k.onStateChanged,[{oldState:c,newState:d}]),!0):!1},p=function(a){var d,f;a._.configuredStopReconnectingTimeout||(f=function(a){a.log("Couldn't reconnect within the configured timeout ("+a.disconnectTimeout+"ms), disconnecting.");a.stop(!1,!1)},a.reconnecting(function(){var a=
this;a.state===b.connectionState.reconnecting&&(d=c.setTimeout(function(){f(a)},a.disconnectTimeout))}),a.stateChanged(function(a){a.oldState===b.connectionState.reconnecting&&c.clearTimeout(d)}),a._.configuredStopReconnectingTimeout=!0)};b=function(a,c,d){return new b.fn.init(a,c,d)};b._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var a,b;return c.navigator.appName==="Microsoft Internet Explorer"&&(b=/MSIE ([0-9]+\.[0-9]+)/.exec(c.navigator.userAgent),
b&&(a=c.parseFloat(b[1]))),a}()};b.events=k;b.changeState=m;b.isDisconnecting=function(a){return a.state===b.connectionState.disconnected};b.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};b.hub={start:function(){throw Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/hubs'><\/script>.");}};i.load(function(){h=!0});b.fn=b.prototype={init:function(a,b,c){this.url=a;this.qs=b;this._={};typeof c=="boolean"&&(this.logging=c)},
isCrossDomain:function(b,d){var h;return(b=a.trim(b),b.indexOf("http")!==0)?!1:(d=d||c.location,h=c.document.createElement("a"),h.href=b,h.protocol+(h.host.match(/:\d+$/)?h.host:h.host+":"+f(h.protocol))!==d.protocol+(d.host.match(/:\d+$/)?d.host:d.host+":"+f(d.protocol)))},ajaxDataType:"json",contentType:"application/json; charset=UTF-8",logging:!1,state:b.connectionState.disconnected,keepAliveData:{},reconnectDelay:2E3,disconnectTimeout:3E4,keepAliveWarnAt:2/3,start:function(d,f){var n=this,l={waitForPageLoad:!0,
transport:"auto",jsonp:!1},A,D=n._deferral||a.Deferred(),G=c.document.createElement("a"),T;if(a.type(d)==="function"?f=d:a.type(d)==="object"&&(a.extend(l,d),a.type(l.callback)==="function"&&(f=l.callback)),l.transport=g(l.transport,n),!l.transport)throw Error("SignalR: Invalid transport(s) specified, aborting start.");return!h&&l.waitForPageLoad===!0?(i.load(function(){n._deferral=D;n.start(d,f)}),D.promise()):(p(n),m(n,b.connectionState.disconnected,b.connectionState.connecting)===!1)?(D.resolve(n),
D.promise()):(G.href=n.url,G.protocol&&G.protocol!==":"?(n.protocol=G.protocol,n.host=G.host,n.baseUrl=G.protocol+"//"+G.host):(n.protocol=c.document.location.protocol,n.host=c.document.location.host,n.baseUrl=n.protocol+"//"+n.host),n.wsProtocol=n.protocol==="https:"?"wss://":"ws://",l.transport==="auto"&&l.jsonp===!0&&(l.transport="longPolling"),this.isCrossDomain(n.url)&&(n.log("Auto detected cross domain url."),l.transport==="auto"&&(l.transport=["webSockets","longPolling"]),l.jsonp||(l.jsonp=
!a.support.cors,l.jsonp&&n.log("Using jsonp because this browser doesn't support CORS")),n.contentType=b._.defaultContentType),n.ajaxDataType=l.jsonp?"jsonp":"json",a(n).bind(k.onStart,function(){a.type(f)==="function"&&f.call(n);D.resolve(n)}),A=function(c,d){if(d=d||0,d>=c.length)n.transport||(a(n).triggerHandler(k.onError,["SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization."]),D.reject("SignalR: No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization."),
n.stop());else{var f=c[d],h=a.type(f)==="object"?f:b.transports[f];f.indexOf("_")===0?A(c,d+1):h.start(n,function(){h.supportsKeepAlive&&n.keepAliveData.activated&&b.transports._logic.monitorKeepAlive(n);n.transport=h;m(n,b.connectionState.connecting,b.connectionState.connected);a(n).triggerHandler(k.onStart);i.unload(function(){n.stop(!1)})},function(){A(c,d+1)})}},T=n.url+"/negotiate",T=b.transports._logic.addQs(T,n),n.log("Negotiating with '"+T+"'."),a.ajax({url:T,global:!1,cache:!1,type:"GET",
contentType:n.contentType,data:{},dataType:n.ajaxDataType,error:function(b){a(n).triggerHandler(k.onError,[b.responseText]);D.reject("SignalR: Error during negotiation request: "+b.responseText);n.stop()},success:function(c){var d=n.keepAliveData,f,h;(n.appRelativeUrl=c.Url,n.id=c.ConnectionId,n.token=c.ConnectionToken,n.webSocketServerUrl=c.WebSocketServerUrl,n.disconnectTimeout=c.DisconnectTimeout*1E3,c.KeepAliveTimeout?(d.activated=!0,d.timeout=c.KeepAliveTimeout*1E3,d.timeoutWarning=d.timeout*
n.keepAliveWarnAt,d.checkInterval=(d.timeout-d.timeoutWarning)/3):d.activated=!1,!c.ProtocolVersion||c.ProtocolVersion!=="1.2")?(a(n).triggerHandler(k.onError,["You are using a version of the client that isn't compatible with the server. Client version 1.2, server version "+c.ProtocolVersion+"."]),D.reject("You are using a version of the client that isn't compatible with the server. Client version 1.2, server version "+c.ProtocolVersion+".")):(a(n).triggerHandler(k.onStarting),f=[],h=[],a.each(b.transports,
function(a){if(a==="webSockets"&&!c.TryWebSockets)return!0;h.push(a)}),a.isArray(l.transport)?a.each(l.transport,function(){(a.type(this)==="object"||a.type(this)==="string"&&a.inArray(""+this,h)>=0)&&f.push(a.type(this)==="string"?""+this:this)}):a.type(l.transport)==="object"||a.inArray(l.transport,h)>=0?f.push(l.transport):f=h,A(f))}}),D.promise())},starting:function(b){var c=this;return a(c).bind(k.onStarting,function(){b.call(c)}),c},send:function(a){if(this.state===b.connectionState.disconnected)throw Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");
if(this.state===b.connectionState.connecting)throw Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return this.transport.send(this,a),this},received:function(b){var c=this;return a(c).bind(k.onReceived,function(a,d){b.call(c,d)}),c},stateChanged:function(b){var c=this;return a(c).bind(k.onStateChanged,function(a,d){b.call(c,d)}),c},error:function(b){var c=this;return a(c).bind(k.onError,function(a,d){b.call(c,
d)}),c},disconnected:function(b){var c=this;return a(c).bind(k.onDisconnect,function(){b.call(c)}),c},connectionSlow:function(b){var c=this;return a(c).bind(k.onConnectionSlow,function(){b.call(c)}),c},reconnecting:function(b){var c=this;return a(c).bind(k.onReconnecting,function(){b.call(c)}),c},reconnected:function(b){var c=this;return a(c).bind(k.onReconnect,function(){b.call(c)}),c},stop:function(c,d){if(this.state!==b.connectionState.disconnected){try{this.transport&&(d!==!1&&this.transport.abort(this,
c),this.transport.supportsKeepAlive&&this.keepAliveData.activated&&b.transports._logic.stopMonitoringKeepAlive(this),this.transport.stop(this),this.transport=null),a(this).triggerHandler(k.onDisconnect),delete this.messageId,delete this.groupsToken,delete this.id,delete this._deferral}finally{m(this,this.state,b.connectionState.disconnected)}return this}},log:function(a){if(this.logging!==!1){var b;typeof c.console!="undefined"&&(b="["+(new Date).toTimeString()+"] SignalR: "+a,c.console.debug?c.console.debug(b):
c.console.log&&c.console.log(b))}}};b.fn.init.prototype=b.fn;b.noConflict=function(){return a.connection===b&&(a.connection=d),b};a.connection&&(d=a.connection);a.connection=a.signalR=b})(window.jQuery,window);
(function(a,c){function g(d){var i=d.keepAliveData,k,m;d.state===f.connectionState.connected&&(k=new Date,k.setTime(k-i.lastKeepAlive),m=k.getTime(),m>=i.timeout?(d.log("Keep alive timed out.  Notifying transport that connection has been lost."),d.transport.lostConnection(d)):m>=i.timeoutWarning?i.userNotified||(d.log("Keep alive has been missed, connection may be dead/slow."),a(d).triggerHandler(b.onConnectionSlow),i.userNotified=!0):i.userNotified=!1);i.monitoring&&c.setTimeout(function(){g(d)},
i.checkInterval)}var f=a.signalR,b=a.signalR.events,d=a.signalR.changeState;f.transports={};f.transports._logic={pingServer:function(b,c){var d=(c==="webSockets"?"":b.baseUrl)+b.appRelativeUrl+"/ping",f=a.Deferred();return d=this.addQs(d,b),a.ajax({url:d,global:!1,cache:!1,type:"GET",contentType:b.contentType,data:{},dataType:b.ajaxDataType,success:function(a){a.Response==="pong"?f.resolve():f.reject("SignalR: Invalid ping response when pinging server: "+(a.responseText||a.statusText))},error:function(a){f.reject("SignalR: Error pinging server: "+
(a.responseText||a.statusText))}}),f.promise()},addQs:function(b,c){var d=b.indexOf("?")!==-1?"&":"?",f;if(!c.qs)return b;if(typeof c.qs=="object")return b+d+a.param(c.qs);if(typeof c.qs=="string")return f=c.qs.charAt(0),(f==="?"||f==="&")&&(d=""),b+d+c.qs;throw Error("Connections query string property must be either a string or object.");},getUrl:function(a,b,d,f){var g=(b==="webSockets"?"":a.baseUrl)+a.appRelativeUrl,b="transport="+b+"&connectionToken="+c.encodeURIComponent(a.token);return a.data&&
(b+="&connectionData="+c.encodeURIComponent(a.data)),a.groupsToken&&(b+="&groupsToken="+c.encodeURIComponent(a.groupsToken)),d?(g+=f?"/poll":"/reconnect",a.messageId&&(b+="&messageId="+c.encodeURIComponent(a.messageId))):g+="/connect",g+="?"+b,g=this.addQs(g,a),g+("&tid="+Math.floor(Math.random()*11))},maximizePersistentResponse:function(a){return{MessageId:a.C,Messages:a.M,Disconnect:typeof a.D!="undefined"?!0:!1,TimedOut:typeof a.T!="undefined"?!0:!1,LongPollDelay:a.L,GroupsToken:a.G}},updateGroups:function(a,
b){b&&(a.groupsToken=b)},ajaxSend:function(d,i){var g=d.url+"/send?transport="+d.transport.name+"&connectionToken="+c.encodeURIComponent(d.token);return g=this.addQs(g,d),a.ajax({url:g,global:!1,type:d.ajaxDataType==="jsonp"?"GET":"POST",contentType:f._.defaultContentType,dataType:d.ajaxDataType,data:{data:i},success:function(c){c&&a(d).triggerHandler(b.onReceived,[c])},error:function(c,f){f!=="abort"&&f!=="parsererror"&&a(d).triggerHandler(b.onError,[c])}})},ajaxAbort:function(b,d){if(typeof b.transport!=
"undefined"){var d=typeof d=="undefined"?!0:d,f=b.url+"/abort?transport="+b.transport.name+"&connectionToken="+c.encodeURIComponent(b.token),f=this.addQs(f,b);a.ajax({url:f,async:d,timeout:1E3,global:!1,type:"POST",contentType:b.contentType,dataType:b.ajaxDataType,data:{}});b.log("Fired ajax abort async = "+d)}},processMessages:function(c,d){var f,g;if(c.transport&&!(g=a(c),c.transport.supportsKeepAlive&&c.keepAliveData.activated&&this.updateKeepAlive(c),!d))(f=this.maximizePersistentResponse(d),
f.Disconnect)?(c.log("Disconnect command received from server"),c.stop(!1,!1)):(this.updateGroups(c,f.GroupsToken),f.Messages&&a.each(f.Messages,function(a,c){g.triggerHandler(b.onReceived,[c])}),f.MessageId&&(c.messageId=f.MessageId))},monitorKeepAlive:function(c){var d=c.keepAliveData,f=this;d.monitoring?c.log("Tried to monitor keep alive but it's already being monitored"):(d.monitoring=!0,f.updateKeepAlive(c),c.keepAliveData.reconnectKeepAliveUpdate=function(){f.updateKeepAlive(c)},a(c).bind(b.onReconnect,
c.keepAliveData.reconnectKeepAliveUpdate),c.log("Now monitoring keep alive with a warning timeout of "+d.timeoutWarning+" and a connection lost timeout of "+d.timeout),g(c))},stopMonitoringKeepAlive:function(c){var d=c.keepAliveData;d.monitoring&&(d.monitoring=!1,a(c).unbind(b.onReconnect,c.keepAliveData.reconnectKeepAliveUpdate),c.keepAliveData={},c.log("Stopping the monitoring of the keep alive"))},updateKeepAlive:function(a){a.keepAliveData.lastKeepAlive=new Date},ensureReconnectingState:function(c){return d(c,
f.connectionState.connected,f.connectionState.reconnecting)===!0&&a(c).triggerHandler(b.onReconnecting),c.state===f.connectionState.reconnecting},clearReconnectTimeout:function(a){a&&a._.reconnectTimeout&&(c.clearTimeout(a._.reconnectTimeout),delete a._.reconnectTimeout)},reconnect:function(a,b){var d=f.transports[b],g=this;(a.state===f.connectionState.connected||a.state===f.connectionState.reconnecting)&&!a._.reconnectTimeout&&(a._.reconnectTimeout=c.setTimeout(function(){d.stop(a);g.ensureReconnectingState(a)&&
(a.log(b+" reconnecting"),d.start(a))},a.reconnectDelay))},foreverFrame:{count:0,connections:{}}}})(window.jQuery,window);
(function(a,c){var g=a.signalR,f=a.signalR.events,b=a.signalR.changeState,d=g.transports._logic;g.transports.webSockets={name:"webSockets",supportsKeepAlive:!0,send:function(a,b){a.socket.send(b)},start:function(h,i,k){var m,p=!1,r=this,t=!i,n=a(h);c.WebSocket?h.socket||(m=h.webSocketServerUrl?h.webSocketServerUrl:h.wsProtocol+h.host,m+=d.getUrl(h,this.name,t),h.log("Connecting to websocket endpoint '"+m+"'"),h.socket=new c.WebSocket(m),h.socket.onopen=function(){p=!0;h.log("Websocket opened");d.clearReconnectTimeout(h);
i?i():b(h,g.connectionState.reconnecting,g.connectionState.connected)===!0&&n.triggerHandler(f.onReconnect)},h.socket.onclose=function(b){this===h.socket&&(p?(typeof b.wasClean!="undefined"&&b.wasClean===!1?(a(h).triggerHandler(f.onError,[b.reason]),h.log("Unclean disconnect from websocket."+b.reason)):h.log("Websocket closed"),r.reconnect(h)):k?k():t&&r.reconnect(h))},h.socket.onmessage=function(b){var b=c.JSON.parse(b.data),i=a(h);b&&(a.isEmptyObject(b)||b.M?d.processMessages(h,b):i.triggerHandler(f.onReceived,
[b]))}):k()},reconnect:function(a){d.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},stop:function(a){d.clearReconnectTimeout(a);a.socket!==null&&(a.log("Closing the Websocket"),a.socket.close(),a.socket=null)},abort:function(){}}})(window.jQuery,window);
(function(a,c){var g=a.signalR,f=a.signalR.events,b=a.signalR.changeState,d=g.transports._logic;g.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:!0,timeOut:3E3,start:function(h,i,k){var m=this,p=!1,r=a(h),t=!i,n,l;if(h.eventSource&&(h.log("The connection already has an event source. Stopping it."),h.stop()),!c.EventSource)k&&(h.log("This browser doesn't support SSE."),k());else{n=d.getUrl(h,this.name,t);try{h.log("Attempting to connect to SSE endpoint '"+n+"'"),h.eventSource=
new c.EventSource(n)}catch(A){h.log("EventSource failed trying to connect with error "+A.Message);k?k():(r.triggerHandler(f.onError,[A]),t&&m.reconnect(h));return}l=c.setTimeout(function(){p===!1&&(h.log("EventSource timed out trying to connect"),h.log("EventSource readyState: "+h.eventSource.readyState),t||m.stop(h),t?h.eventSource.readyState!==c.EventSource.CONNECTING&&h.eventSource.readyState!==c.EventSource.OPEN&&m.reconnect(h):k&&k())},m.timeOut);h.eventSource.addEventListener("open",function(){h.log("EventSource connected");
l&&c.clearTimeout(l);d.clearReconnectTimeout(h);p===!1&&(p=!0,i?i():b(h,g.connectionState.reconnecting,g.connectionState.connected)===!0&&r.triggerHandler(f.onReconnect))},!1);h.eventSource.addEventListener("message",function(a){a.data!=="initialized"&&d.processMessages(h,c.JSON.parse(a.data))},!1);h.eventSource.addEventListener("error",function(a){this===h.eventSource&&(p?(h.log("EventSource readyState: "+h.eventSource.readyState),a.eventPhase===c.EventSource.CLOSED?(h.log("EventSource reconnecting due to the server connection ending"),
m.reconnect(h)):(h.log("EventSource error"),r.triggerHandler(f.onError))):k&&k())},!1)}},reconnect:function(a){d.reconnect(a,this.name)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){d.ajaxSend(a,b)},stop:function(a){d.clearReconnectTimeout(a);a&&a.eventSource&&(a.log("EventSource calling close()"),a.eventSource.close(),a.eventSource=null,delete a.eventSource)},abort:function(a,b){d.ajaxAbort(a,b)}}})(window.jQuery,window);
(function(a,c){var g=a.signalR,f=a.signalR.events,b=a.signalR.changeState,d=g.transports._logic,h=function(){var b=null,d=0;return{prevent:function(){g._.ieVersion<=8&&(d===0&&(b=c.setInterval(function(){var b=a("<iframe style='position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;' src=''></iframe>");a("body").append(b);b.remove()},1E3)),d++)},cancel:function(){d===1&&c.clearInterval(b);d>0&&d--}}}();g.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:!0,timeOut:3E3,start:function(b,
f,g){var p=this,r=d.foreverFrame.count+=1,t,n=a("<iframe data-signalr-connection-id='"+b.id+"' style='position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;' src=''></iframe>");c.EventSource?g&&(b.log("This browser supports SSE, skipping Forever Frame."),g()):(h.prevent(),t=d.getUrl(b,this.name),t+="&frameId="+r,a("body").append(n),n.prop("src",t),d.foreverFrame.connections[r]=b,b.log("Binding to iframe's readystatechange event."),n.bind("readystatechange",function(){a.inArray(this.readyState,
["loaded","complete"])>=0&&(b.log("Forever frame iframe readyState changed to "+this.readyState+", reconnecting"),p.reconnect(b))}),b.frame=n[0],b.frameId=r,f&&(b.onSuccess=f),c.setTimeout(function(){b.onSuccess&&(b.log("Failed to connect using forever frame source, it timed out after "+p.timeOut+"ms."),p.stop(b),g&&g())},p.timeOut))},reconnect:function(a){var b=this;c.setTimeout(function(){if(a.frame&&d.ensureReconnectingState(a)){var c=a.frame,f=d.getUrl(a,b.name,!0)+"&frameId="+a.frameId;a.log("Updating iframe src to '"+
f+"'.");c.src=f}},a.reconnectDelay)},lostConnection:function(a){this.reconnect(a)},send:function(a,b){d.ajaxSend(a,b)},receive:function(b,c){var f;d.processMessages(b,c);b.frameMessageCount=(b.frameMessageCount||0)+1;b.frameMessageCount>50&&(b.frameMessageCount=0,f=b.frame.contentWindow||b.frame.contentDocument,f&&f.document&&a("body",f.document).empty())},stop:function(b){var c=null;if(h.cancel(),b.frame){if(b.frame.stop)b.frame.stop();else try{c=b.frame.contentWindow||b.frame.contentDocument,c.document&&
c.document.execCommand&&c.document.execCommand("Stop")}catch(f){b.log("SignalR: Error occured when stopping foreverFrame transport. Message = "+f.message)}a(b.frame).remove();delete d.foreverFrame.connections[b.frameId];b.frame=null;b.frameId=null;delete b.frame;delete b.frameId;b.log("Stopping forever frame")}},abort:function(a,b){d.ajaxAbort(a,b)},getConnection:function(a){return d.foreverFrame.connections[a]},started:function(c){c.onSuccess?(c.onSuccess(),c.onSuccess=null,delete c.onSuccess):b(c,
g.connectionState.reconnecting,g.connectionState.connected)===!0&&a(c).triggerHandler(f.onReconnect)}}})(window.jQuery,window);
(function(a,c){var g=a.signalR,f=a.signalR.events,b=a.signalR.changeState,d=a.signalR.isDisconnecting,h=g.transports._logic;g.transports.longPolling={name:"longPolling",supportsKeepAlive:!1,reconnectDelay:3E3,init:function(a,b){var f=this,g,r=function(b){d(a)===!1&&(a.log("SignalR: Server ping failed because '"+b+"', re-trying ping."),c.setTimeout(g,f.reconnectDelay))};a.log("SignalR: Initializing long polling connection with server.");g=function(){h.pingServer(a,f.name).done(b).fail(r)};g()},start:function(i,
k){var m=this,p=!1,r=function(){p||(p=!0,k(),i.log("Longpolling connected"))},t=0,n=null,l=function(d){c.clearTimeout(n);n=null;b(i,g.connectionState.reconnecting,g.connectionState.connected)===!0&&(i.log("Raising the reconnect event"),a(d).triggerHandler(f.onReconnect))};i.pollXhr&&(i.log("Polling xhr requests already exists, aborting."),i.stop());m.init(i,function(){i.messageId=null;c.setTimeout(function(){(function D(b,k){var p=b.messageId!==null,Q=h.getUrl(b,m.name,p,!k);d(b)!==!0&&(i.log("Attempting to connect to '"+
Q+"' using longPolling."),b.pollXhr=a.ajax({url:Q,global:!1,cache:!1,type:"GET",dataType:i.ajaxDataType,contentType:i.contentType,success:function(f){var g=0,i;(t=0,n!==null&&l(),r(),f&&(i=h.maximizePersistentResponse(f)),h.processMessages(b,f),i&&a.type(i.LongPollDelay)==="number"&&(g=i.LongPollDelay),i&&i.Disconnect)||d(b)!==!0&&(g>0?c.setTimeout(function(){D(b,!1)},g):D(b,!1))},error:function(d,k){(c.clearTimeout(n),n=null,k==="abort")?i.log("Aborted xhr requst."):(t++,i.state!==g.connectionState.reconnecting&&
(i.log("An error occurred using longPolling. Status = "+k+". "+d.responseText),a(b).triggerHandler(f.onError,[d.responseText])),h.ensureReconnectingState(b),m.init(b,function(){D(b,!0)}))}}),p&&k===!0&&(n=c.setTimeout(function(){l(b)},Math.min(1E3*(Math.pow(2,t)-1),36E5))))})(i);c.setTimeout(function(){r()},250)},250)})},lostConnection:function(){throw Error("Lost Connection not handled for LongPolling");},send:function(a,b){h.ajaxSend(a,b)},stop:function(a){a.pollXhr&&(a.pollXhr.abort(),a.pollXhr=
null,delete a.pollXhr)},abort:function(a,b){h.ajaxAbort(a,b)}}})(window.jQuery,window);
(function(a,c){function g(a,b,c){for(var d=a.length,f=[],h=0;h<d;h+=1)a.hasOwnProperty(h)&&(f[h]=b.call(c,a[h],h,a));return f}function f(b){return a.isFunction(b)?null:a.type(b)==="undefined"?null:b}function b(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function d(a,b){return new d.fn.init(a,b)}function h(b,c){var d={qs:null,logging:!1,useDefaultPath:!0};return a.extend(d,c),(!b||d.useDefaultPath)&&(b=(b||"")+"/signalr"),new h.fn.init(b,d)}var i=0,k={};d.fn=d.prototype={init:function(a,
b){this.state={};this.connection=a;this.hubName=b;this._={callbackMap:{}}},hasSubscriptions:function(){return b(this._.callbackMap)},on:function(b,c){var d=this,f=d._.callbackMap;return b=b.toLowerCase(),f[b]||(f[b]={}),f[b][c]=function(a,b){c.apply(d,b)},a(d).bind(b+".hubProxy",f[b][c]),d},off:function(c,d){var f=this._.callbackMap,h;return c=c.toLowerCase(),h=f[c],h&&(h[d]?(a(this).unbind(c+".hubProxy",h[d]),delete h[d],b(h)||delete f[c]):d||(a(this).unbind(c+".hubProxy"),delete f[c])),this},invoke:function(b){var d=
this,h=a.makeArray(arguments).slice(1),h=g(h,f),h={H:d.hubName,M:b,A:h,I:i},t=a.Deferred();return k[i.toString()]={scope:d,method:function(b){b=d._maximizeHubResponse(b);a.extend(d.state,b.State);b.Error?(b.StackTrace&&d.connection.log(b.Error+"\n"+b.StackTrace),t.rejectWith(d,[b.Error])):t.resolveWith(d,[b.Result])}},i+=1,a.isEmptyObject(d.state)||(h.S=d.state),d.connection.send(c.JSON.stringify(h)),t.promise()},_maximizeHubResponse:function(a){return{State:a.S,Result:a.R,Id:a.I,Error:a.E,StackTrace:a.T}}};
d.fn.init.prototype=d.fn;h.fn=h.prototype=a.connection();h.fn.init=function(b,c){var d={qs:null,logging:!1,useDefaultPath:!0},f=this;a.extend(d,c);a.signalR.fn.init.call(f,b,d.qs,d.logging);f.proxies={};f.received(function(b){var c,d,h,g,i,m;b&&(typeof b.I!="undefined"?(h=b.I.toString(),g=k[h],g&&(k[h]=null,delete k[h],g.method.call(g.scope,b))):(c=this._maximizeClientHubInvocation(b),f.log("Triggering client hub event '"+c.Method+"' on hub '"+c.Hub+"'."),i=c.Hub.toLowerCase(),m=c.Method.toLowerCase(),
d=this.proxies[i],a.extend(d.state,c.State),a(d).triggerHandler(m+".hubProxy",[c.Args])))})};h.fn._maximizeClientHubInvocation=function(a){return{Hub:a.H,Method:a.M,Args:a.A,State:a.S}};h.fn._registerSubscribedHubs=function(){this._subscribedToHubs||(this._subscribedToHubs=!0,this.starting(function(){var b=[];a.each(this.proxies,function(a){this.hasSubscriptions()&&b.push({name:a})});this.data=c.JSON.stringify(b)}))};h.fn.createHubProxy=function(a){var a=a.toLowerCase(),b=this.proxies[a];return b||
(b=d(this,a),this.proxies[a]=b),this._registerSubscribedHubs(),b};h.fn.init.prototype=h.fn;a.hubConnection=h})(window.jQuery,window);(function(a){a.signalR.version="1.1.2"})(window.jQuery);window.onerror=function(a,c,g){logT5PusherError("onerror",a,c,g,"","")};function T5Error(a){this.errordesc=a;this.origin="JS"}function logT5PusherError(a,c,g,f,b,d){try{logErrorExtra(a,c+":"+b+":"+d,g,f,0)}catch(h){alert("ex")}}function JSONPCallback(){}
function PushQueueItem(a,c,g){this.processName=a;this.messageList=c;this.groupName=g}PushQueueItem.prototype.GetProcessName=function(){return this.processName};PushQueueItem.prototype.GetMessageList=function(){return this.messageList};PushQueueItem.prototype.GetGroupName=function(){return this.groupName};
var T5Pusher=function(){function a(){try{var a=navigator.userAgent.toLowerCase();a.indexOf("android")>-1&&(ta=1,a.indexOf("gt-")>-1&&(Ha=1));a.indexOf("safari")!=-1&&(Ka=a.indexOf("chrome")>-1||a.indexOf("crios")>-1?1:0)}catch(b){logT5PusherError("DetermineIfSafari",ex,null,0,P,B)}}function c(a){var b;try{var c="3PG:"+P;b=a.indexOf(c)==0?a.substring(c.length+1,a.length):a}catch(d){b=a}return b}function g(){try{return K.transport.name}catch(a){logT5PusherError("GetCurrentConnectionMethod",a,null,0,
P,B)}}function f(){try{var a=0;if(!(H==null||y==0)){var c=(new Date).getTime(),d=parseInt((c-H)/1E3);d>w?(i("ManageConnection_TimeTooGreat!!!!!"),logT5PusherError("ManageConnection","ManageConnection - about to call RestartSignalRConnection! - TimeSinceLastInteraction is "+d+" and timeBetweenConnections is "+w,null,0,P,B),b("ManageConnection_TimeTooGreat"),a=1):V!=-101&&V!=-102&&typeof W!="undefined"&&W!=null&&W.length>0&&V<W.length&&(logT5PusherError("ManageConnection","T5Pusher ManageConnection - we have joined groups BUT we DONT have any groups set up with signalr (well accoring to DB we dont anyway!!!) - so REjoining groups now!!!",
null,0,P,B),i("ManageConnection_GroupsNotAllThere!!!!!"),u()<=0&&(logT5PusherError("ManageConnection","CheckConnection - unable to rejoin groups - so restarting entire connection",null,0,P,B),b("ManageConnection_NoGroups"),a=1))}}catch(h){logT5PusherError("CheckConnection",h,null,0,P,B)}a==0&&(i("setting manageConnection in "+w/2*1E3+" seconds"),V==-101&&k(K.id),window.setTimeout(function(){f()},w/2*1E3))}function b(a){try{i("in RestartSignalRConnection - restarting connection Origin is "+a+"!!!!!"),
o=s=0,U+=1,U==2&&ia&&ia.call(),U==4&&z&&z.call(),K.stop(),ca=null,R=0,O.connectionstatus="reconnecting",V=-101,d()}catch(b){O.connectionstatus="reconnection attempt failed - "+b,Y&&Y.call(),logT5PusherError("RestartSignalRConnection",b,null,0,P,B)}}function d(){try{K=$.hubConnection();K.logging=!0;K.url=ha+"/signalr";ca=K.createHubProxy("T5Pusher");K.qs={ur:P};ca.on("rtpm",function(a,b){U=0;H=(new Date).getTime();var c=X.indexOf(a);c>-1&&E[c].call(void 0,b)});ca.on("invalidsendattempt",function(a){alert(a)});
ca.on("keepalive",function(){U=0;H=(new Date).getTime()});K.connectionSlow(function(){ia&&ia.call()});K.stateChanged(function(a){if(va!=a.newState)if(va=a.newState,a.newState===$.signalR.connectionState.connected){O.connectionstatus="connected";q&&(clearTimeout(q),q=null);if(B!=$.connection.hub.id)B=$.connection.hub.id,V=-101;v&&v.call(void 0,O.connectionstatus)}else if(a.newState===$.signalR.connectionState.disconnected)O.connectionstatus="disconnected",v&&v.call(void 0,O.connectionstatus);else if(a.newState===
$.signalR.connectionState.connecting)O.connectionstatus=y==1?"reconnecting":"connecting",v&&v.call(void 0,O.connectionstatus)});if(s==0){s=1;var a=["webSockets","longPolling"];try{Ka==0&&ta==1&&Ha==1&&(a=["longPolling"],logError("SamsungSwitch","ua is "+navigator.userAgent.toLowerCase()))}catch(b){logError("UAIdentifyError",b)}K.start({transport:a}).done(function(){R==0&&(R=1);n(K.id)}).fail(function(a){O.connectionstatus=y==0?"connection attempt failed - "+a:"reconnection attempt failed - "+a;Y&&
Y.call()})}o==0&&(i("setting manageConnection in "+w*1E3+" seconds"),window.setTimeout(function(){f()},w*1E3),o=1)}catch(c){logT5PusherError("Connect",c,null,0,P,B);if(R==0)O.connectionstatus=y==0?"connection attempt failed - "+c:"reconnection attempt failed - "+c,Y&&Y.call();return!1}}function h(){for(var a=0;a<ra.length;a++)try{A(ra[a].GetProcessName(),ra[a].GetMessageList(),ra[a].GetGroupName())}catch(b){}ra=[]}function i(a){typeof console==="undefined"||typeof i==="undefined"||console.log(a)}
function k(a){$.ajax({url:ha+"/Connection/CheckGroups",dataType:"jsonp",data:"connectionid="+a,success:function(a){V=parseInt(a,10)}})}function m(){try{y==0||qa==1?(qa=0,Q("InternalDefaultGroupJoin_T5I",function(a){if(a)a.joined==1?(sa&&sa.call(),y=1,O.connectionstatus="connected",h()):(O.connectionstatus=y==0?"connection attempt failed - unable to join the default group ":"reconnection attempt failed - unable to join the default group ",Y&&Y.call())}),T("3P:"+P,"InternalDefaultGroupJoin_T5I",1)):
(u(),h())}catch(a){logT5PusherError("CompleteConnection",a,null,0,P,B),O.connectionstatus=y==0||qa==1?"connection attempt failed - "+a:"reconnection attempt failed - "+a,Y&&Y.call()}}function p(a,b,c){try{if(a&&a.auth)ca.invoke("dsg",a.auth,b).done(function(a){if(a==1){if(c){var d=X.indexOf(c);d>-1&&(a={groupName:b,deleted:1,status:"deleted"},E[d].call(void 0,a))}}else c&&(d=X.indexOf(c),d>-1&&(a=a==0?{groupName:b,deleted:-1,status:"DeleteSecureGroup failed authorization"}:{groupName:b,deleted:-1,
status:"DeleteSecureGroup failed on T5 server"},E[d].call(void 0,a)))});else if(c){var d=X.indexOf(c);d>-1&&E[d].call(void 0,{groupName:b,deleted:-1,status:"DeleteSecureGroup - client authorization return data not valid - data is "+h})}}catch(f){logT5PusherError("DeleteSecureGroupReturn",f,null,0,P,B);if(c&&(d=X.indexOf(c),d>-1)){var h=JSON.stringify(a);E[d].call(void 0,"DeleteSecureGroup - error processing client authorization return data - data is "+h+", error is "+f.toString())}return!1}}function r(a,
b,c,d){try{if(a&&a.auth)ca.invoke("csg",a.auth,b,c).done(function(a){if(a==1){if(d&&(a=X.indexOf(d),a>-1)){var c={groupName:b,created:1,status:"created"};E[a].call(void 0,c)}}else d&&(a=X.indexOf(d),a>-1&&(c={groupName:b,created:-1,status:"failed authorization"},E[a].call(void 0,c)))});else if(d){var f=X.indexOf(d);if(f>-1){var h=JSON.stringify(a),c={groupName:b,created:-1,status:"failed - client authorization return data not valid - data is "+h};E[f].call(void 0,c)}}}catch(g){return logT5PusherError("CreateSecureGroupReturn",
g,null,0,P,B),d&&(f=X.indexOf(d),f>-1&&(h=JSON.stringify(a),c={groupName:b,created:-1,status:"failed - error processing client authorization return data - data is "+h},E[f].call(void 0,c))),!1}}function t(a,b){try{var c;c=da?da:ea;za==!1?$.ajax({url:c,type:"POST",data:{connectionid:K.id,groupName:a,broadcast:0},dataType:"json",error:function(){},success:function(c){try{var d;d=c||c!="object"?JSON.parse(c):c;D(a,d,b)}catch(f){D(a,c,b)}}}):$.ajax({url:c,dataType:"jsonp",data:{connectionid:K.id,groupName:a,
broadcast:0},error:function(){},success:function(c){c=JSON.parse(c);D(a,c,b)}})}catch(d){return logT5PusherError("joinGroupFinalStep",d,null,0,P,B),!1}}function n(a){try{S==!0?za==!1?$.ajax({url:ea,type:"POST",data:"connectionid="+a,dataType:"json",error:function(){O.connectionstatus="unauthorized - error calling client authorization URL - "+ea;j&&j.call()},success:function(a){try{var b;b=a||a!="object"?JSON.parse(a):a;l(b)}catch(c){l(a)}}}):$.ajax({url:ea,dataType:"jsonp",data:"connectionid="+a,
error:function(a,b,c){O.connectionstatus="unauthorized - error calling client authorization URL - "+c;j&&j.call()},success:function(a){a=JSON.parse(a);l(a)}}):m()}catch(b){return logT5PusherError("ValidateConnection",b,null,0,P,B),O.connectionstatus="unauthorized - error calling client authorization URL - "+b.toString(),Y&&Y.call(),!1}return Pa}function l(a){try{a&&a.auth?ca.invoke("vtp",a.auth).done(function(a){a==1?m():(O.connectionstatus="unauthorized - failed authorization",j&&j.call())}):(O.connectionstatus=
"unauthorized - client authorization return data not valid",j&&j.call())}catch(b){return logT5PusherError("ClientValidationReturn",b,null,0,P,B),O.connectionstatus="unauthorized - error validating clients authorisation return data - data is "+dataAsJSON+",error is "+b.toString(),Y&&Y.call(),!1}}function A(a,b,c){try{if(R==1)return b&&b.length>0?(ca.invoke("stpm",b,c?"3PG:"+P+":"+c:"3P:"+P,a),!0):!1;else{var d=new PushQueueItem(a,b,c);ra.push(d);return!0}}catch(f){return logT5PusherError("PushMessage",
f,null,0,P,B),!1}}function D(a,b,d){try{var f="",h=0;if(b)try{f=b.auth?b.auth:b}catch(g){f=b}else f="";b&&(h=1);ca.invoke("thirdPartyJoinGroupV2",a,h,f).done(function(b){if(b==1){if(W.indexOf(a)<0){W.push(a);I.push(h);if(d){if(b=X.indexOf(d),b>-1){var f={groupName:c(a),joined:1,status:"joined",secure:h};E[b].call(void 0,f)}}else d="";ja.push(d);fa.push(new Date);i("rejoining group - "+a)}V=-101;return 1}else b=X.indexOf(d),b>-1&&(c(a),E[b].call(void 0,"failed!!"))});return 1}catch(j){return logT5PusherError("joinGroupFinalStep",
j,null,0,P,B),-1}}function G(){var a=0;try{for(var b=new Date,c=0;c<fa.length;c++){var d=fa[c];(b.getTime()-d.getTime())/1E3<=5&&(a+=1)}}catch(f){logT5PusherError("GetNumGroupsJoinedInLast5Seconds",f,null,0,P,B)}return a}function T(a,b,c,d){try{var f=0,h="",h=c?a:a?"3PG:"+P+":"+a:"3P:"+P;R==1?G()<5||g()!="longPolling"?d==1?(t(h,b),f=1):f=D(h,null,b):(window.setTimeout(function(){T(a,b,c,d)},5500),f=-2):(W.indexOf(h)<0&&(W.push(h),d||(d=0),I.push(d),b||(b=""),ja.push(b)),f=-3)}catch(i){logT5PusherError("JoinGroupPrivate",
i,null,0,P,B),f=-1}return f}function u(){var a=0;try{if(W.length>0)for(var b=W.length,c=0;c<b;c++)if(a=T(W[c],ja[c],!0,I[c]),a<0)return a}catch(d){logT5PusherError("RejoinGroups",d,null,0,P,B),a=-1}return a}function Q(a,b){try{a&&b&&X.indexOf(a)<0&&(X.push(a),E.push(b))}catch(c){logT5PusherError("T5Bind",c,null,0,P,B)}}var ca,K,ha="",V=-101,W=[],fa=[],I=[],ja=[],U=0,H,q,o=0,s=0,R=0,w=14,y=0,Pa=0,P,qa=0,O=function(){return{connectionstatus:void 0}},ra=[],B,va=-1,X=[],E=[],sa=null,j=null,Y=null,ia=
null,v=null,z=null,S=!1,ea="AuthHandler.ashx",da="",za=!1,Ka=0,ta=0,Ha=0;return{start:function(c){try{O.connectionstatus="connecting",P=c,R==0?(a(),Ka==0&&ta==1?window.setTimeout(function(){d()},2E3):d()):(qa=1,W=[],fa=[],I=[],ja=[],b("Initialise"))}catch(f){return logT5PusherError("Initialise",f,null,0,P,B),O.connectionstatus="error starting connection - error is "+f.toString(),Y&&Y.call(),!1}},joinGroup:T,push:A,bind:Q,connectionbind:function(a,b){if(a)if(a.toLowerCase()=="connected")sa=b;else if(a.toLowerCase()==
"connectionattemptfailed")Y=b;else if(a.toLowerCase()=="connectionslow")ia=b;else if(a.toLowerCase()=="statechanged")v=b;else if(a.toLowerCase()=="connectionlost")z=b;else if(a.toLowerCase()=="unauthorised"||a.toLowerCase()=="unauthorized")j=b},useSecureConnection:function(){S=!0},useJSONPAuthorisation:function(){za=!0},setClientAuthorisationURL:function(a){ea=a},connection:O,GetCurrentConnectionMethod:g,GetCurrentTimeStamp:function(){return(new Date).getTime()},stopBrowserLoading:function(){alert("isbl");
var a=$('<iframe style="height:0;width:0;display:none" src=""></iframe>');$("body").append(a);a.remove()},CreateSecureGroup:function(a,b,c){try{c||(c=0);var d;d=da?da:ea;za==!1?$.ajax({url:d,type:"POST",data:{connectionid:K.id,groupName:a,broadcast:c},dataType:"json",error:function(){if(b){var c=X.indexOf(b);c>-1&&E[c].call(void 0,{groupName:a,created:-1,status:"error calling CreateSecureGroup authorization URL - "+ea})}},success:function(d){try{var f;f=d||d!="object"?JSON.parse(d):d;r(f,a,c,b)}catch(h){r(d,
a,c,b)}}}):$.ajax({url:d,dataType:"jsonp",data:{connectionid:K.id,groupName:a,broadcast:c},error:function(a,b,c){Failure&&(a=X.indexOf(Failure),a>-1&&E[a].call(void 0,"unauthorized - error calling CreateSecureGroup JSONP authorization URL - "+c))},success:function(d){d=JSON.parse(d);r(d,a,c,b)}})}catch(f){return logT5PusherError("CreateSecureGroup",f,null,0,P,B),b&&(d=X.indexOf(b),d>-1&&E[d].call(void 0,{groupName:a,created:-1,status:"error calling CreateSecureGroup JSONP authorization URL - "+ea+
", error is "+f.toString()})),!1}},JoinSecureGroup:function(a,b){T(a,b,null,1)},restartTest:b,DeleteSecureGroup:function(a,b){try{za==!1?$.ajax({url:ea,type:"POST",data:"connectionid="+encodeURIComponent(K.id)+"&d=1&groupName="+encodeURIComponent(a),dataType:"json",error:function(){if(b){var c=X.indexOf(b);c>-1&&E[c].call(void 0,{groupName:a,deleted:-1,status:"error calling DeleteSecureGroup authorization URL - "+ea})}},success:function(c){try{var d;d=c||c!="object"?JSON.parse(c):c;p(d,a,b)}catch(f){p(c,
a,b)}}}):$.ajax({url:ea,dataType:"jsonp",data:"connectionid="+encodeURIComponent(K.id)+"&d=1&groupName="+encodeURIComponent(a),error:function(){if(b){var c=X.indexOf(b);c>-1&&E[c].call(void 0,{groupName:a,deleted:-1,status:"error calling DeleteSecureGroup authorization URL - "+ea})}},success:function(c){JSON.parse(c);p(c,a,b)}})}catch(c){logT5PusherError("DeleteSecureGroup",c,null,0,P,B);if(b){var d=X.indexOf(b);d>-1&&E[d].call(void 0,{groupName:a,deleted:-1,status:"error calling DeleteSecureGroup JSONP authorization URL - "+
ea+", error is "+c.toString()})}return!1}},SetPusherURL:function(a){ha=a},setGroupAuthorisationURL:function(a){da=a}}};var League=function(){IsThisLeagueTableUptoDate=function(a,c){var g=1,f=typeof a!="object"?JSON.parse(a):a,b;try{if(b=f[0].T){var d=new Date(b),h;try{h=JSON.parse(window.sessionStorage.getItem("LeaderboardLog"))}catch(i){}if(h&&h!="null"&&h!=""){var k=h[0];h[1]==c&&k&&(new Date(k)>d?g=0:updateThisLeaderboardLog(b,c))}else updateThisLeaderboardLog(b,c)}}catch(m){logError("IsThisLeagueTableUptoDate",m)}return g};updateThisLeaderboardLog=function(a,c){var g=[];g.push(a);g.push(c);window.sessionStorage.setItem("LeaderboardLog",
$.toJSON(g))};DisplayListOfLeagues=function(a,c,g){$(".leaguepanel").hide();$(".leaguestandings").hide();for(var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),a=typeof a!="object"?JSON.parse(a):a,b="",d=0;d<a.length;d++){var h=a[d].Name,i=a[d].ID,k=a[d].nummembers,m=a[d].CreaterFBID,p=a[d].ismember,r=a[d].defaultleague,t=a[d].allowinvites;p>0?(b+=r==1?"<div class='league_title_highlight' id='1' onClick='userLeague.GetLeagueTable("+i+',"'+h+'",null,'+m+","+k+",null,1); return false;'>":
"<div class='league_title' id='1' onClick='userLeague.GetLeagueTable("+i+',"'+h+'",null,'+m+","+k+",null,1); return false;'>",b+="<span>"+h+"</span> <span class='league_population'>"+k+"</span>"):b+="<div class='league_title' id='1'><span>"+h+"</span> <span class='league_population'>"+k+"</span>";p>0&&r!=1&&m!=f.id&&(b+="<a class='join_league' onClick='userLeague.LeaveLeague("+i+',"'+h+"\"); DontContinue(); return false;'>Leave</a>");g&&g==!0&&p<=0?b+="<a class='join_league' onClick='userLeague.JoinLeague("+
i+',"'+h+'",null,'+m+","+k+"); DontContinue(); return false;'>Join</a>":m==f.id?b+="<a class='join_league' onClick='userLeague.ManageLeague("+i+',"'+c+"\"); DontContinue(); return false;'>Manage</a>":p>0&&t==1&&(b+="<a class='join_league' onClick='userLeague.LeagueInvite("+i+',"'+c+"\",false); DontContinue(); return false;'>Invite</a>");b+="</div>"}$("#"+displaymode+"_league_view_1").html(b);$("#"+displaymode+"_league_view_1").show();refreshScroller(leaderboardScroller,"LeagueLeaderboard2");window.sessionStorage.setItem(c,
$.toJSON(a))};return{name:void 0,desc:void 0,id:void 0,type:void 0,num_MembersInLeague:void 0,creater_Id:void 0,positions_array:void 0,mobile_APICall_Needed:1,OutputScores:function(a,c,g,f){JSON.parse(window.sessionStorage.getItem("facebookuser"));a=typeof a!="object"?JSON.parse(a):a;c=f?"<div class='league_title'  id='"+displaymode+g+"'><span>"+c+"</span> <span class='league_population'>"+f+"</span></div>":"<div class='league_title'  id='"+displaymode+g+"'><span>"+c+"</span></div>";for(g=0;g<a.length;g++)(f=
a[g].P)||(f="?"),c+='<div class="standing"><span class="pos">'+f+'</span><img src="'+(a[g].I?facebookprofilepicurl+a[g].I:"/images/profile-pic.png")+'" /><span class="usr">'+a[g].U+'</span><span class="creditstotal">'+a[g].S+"</span></div>";return c},Set_mobile_APICallStatus:function(a){this.mobile_APICall_Needed=a},LeaveLeague:function(a,c){var g=getRandomNumber();$("#"+displaymode+"_league_messages").prepend("<div id="+g+">Are you sure you want to leave league '<strong>"+c+"</strong>' <br> <span class='button' onClick='userLeague.ConfirmLeaveLeague("+
g+","+a+',"'+c+"\"); return false;'>Yes</span><span class='button' onclick='hideLeagueExtraDetails("+g+"); return false'>No</span></div>");showLeagueExtraDetails();refreshScroller(leagueMessageScroller,"invitepanel");_gaq.push(["_trackEvent","Clicks","LeaveLeague"])},ConfirmLeaveLeague:function(a,c,g){hideLeagueExtraDetails(a);var a=getRandomNumber(),f="",b=JSON.parse(window.sessionStorage.getItem("facebookuser")),d=GetCurrentfixtureID();$.ajax({url:WS_URL_ROOT+"/League/LeaveLeague",type:"POST",data:"leagueid="+
c+"&fixtureid="+d+"&userid="+b.id,error:function(b,c,d){AjaxFail("LeaveLeague",b,c,d);f="<div id="+a+">Error removing you from league '<strong>"+g+"</strong>'. Please Try again. <br> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>";$("#"+displaymode+"_league_messages").prepend(f);showLeagueExtraDetails();refreshScroller(leagueMessageScroller,"invitepanel")},success:function(b){var c=typeof objArray!="object"?JSON.parse(b):b;try{c&&c.length>0?(DisplayListOfLeagues(b,
"ListOfUsersLeagues_"+d,!1),f="<div id="+a+">You have been removed from league '<strong>"+g+"</strong>' <br> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>"):f="<div id="+a+">Error removing you from league '<strong>"+g+"</strong>'. Please Try again. <br> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>"}catch(k){f="<div id="+a+">Error removing you from league '<strong>"+g+"</strong>'. Please Try again. <br> <span class='button' onclick='hideLeagueExtraDetails("+
a+"); return false'>OK</span></div>"}$("#"+displaymode+"_league_messages").prepend(f);showLeagueExtraDetails();refreshScroller(leagueMessageScroller,"invitepanel")}});_gaq.push(["_trackEvent","Clicks","LeaveLeague_confirm"])},GetLeagueInvites:function(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));a&&a.id>0&&$.ajax({url:WS_URL_ROOT+"/League/GetLeagueInvites",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id+"&fu="+a.fbuserid,error:function(a,g,f){AjaxFail("GetLeagueInvites",
a,g,f)},success:function(a){try{if(a){var g=typeof a!="object"?JSON.parse(a):a;if(g.length>0){showLeagueExtraDetails();for(var a="",f=0;f<g.length;f++)a+="<div class='linv_"+g[f].lid+"'><strong>"+g[f].iname+"</strong> has invited you to join league <strong>"+g[f].ln+"</strong> <br clear='all' /><span class='button' onClick='userLeague.acceptLeagueInvitation("+g[f].iid+","+g[f].lid+',"'+g[f].ln+'",'+g[f].iuid+"); return false;'>Join</span> <span class='button' onclick='userLeague.rejectLeagueInvitation("+
g[f].iid+","+g[f].lid+"); return false'>Decline</span></div>";$("#"+displaymode+"_league_messages").html(a);refreshScroller(leagueMessageScroller,"invitepanel")}}}catch(b){}}})},ManageLeague:function(a,c){var g=0,f;if(c){var b;try{b=JSON.parse(window.sessionStorage.getItem(c))}catch(d){}if(b){b=typeof b!="object"?JSON.parse(b):b;for(var h=0;h<b.length;h++)b[h].ID==a&&(f=b[h])}f&&(b=JSON.parse(window.sessionStorage.getItem("facebookuser")),f.CreaterFBID==b.id&&(g=1))}g==1?($("#"+displaymode+"_edit_leaguename").val(f.Name),
$("#"+displaymode+"_edit_lid").val(f.ID),f.leaguetype==1?($("[name="+displaymode+"_edit_LeagueType]").filter("[value=1]").prop("checked",!0),$("[name="+displaymode+"_edit_LeagueType]").filter("[value=2]").prop("checked",!1)):($("[name="+displaymode+"_edit_LeagueType]").filter("[value=1]").prop("checked",!1),$("[name="+displaymode+"_edit_LeagueType]").filter("[value=2]").prop("checked",!0)),f.allowinvites==1?$("#"+displaymode+"_edit_allowinvites").prop("checked",!0):$("#"+displaymode+"_edit_allowinvites").prop("checked",
!1),showleaguepanel(4),_gaq.push(["_trackEvent","Clicks","ManageLeague_click"])):(showLeagueExtraDetails(),g=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+g+"><strong>You don't have permission to edit this league. </strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+g+"); return false'>OK</span></div>"),refreshScroller(leagueMessageScroller,"invitepanel"))},EditLeagueDetails:function(){var a=$("#"+displaymode+"_edit_lid").val(),c=$("#"+displaymode+"_edit_leaguename").val(),
g=parseInt($("#"+displaymode+"_league_view_4 input:checked").val()),f=0;$("#"+displaymode+"_edit_allowinvites").is(":checked")==!0&&(f=1);var b=GetCurrentfixtureID(),d=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/League/UpdateLeagueDetails",type:"POST",data:"leagueid="+a+"&fixtureID="+b+"&userid="+d.id+"&leagueName="+c+"&LeagueType="+g+"&allowinvites="+f,dataType:"html",error:function(a,b,c){AjaxFail("EditLeagueDetails",a,b,c);hideleaguepanel(4);showLeagueExtraDetails();
a=getRandomNumber();$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>Unable to Edit League. Please try again later </strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>");refreshScroller(leagueMessageScroller,"invitepanel")},success:function(b){if(b>0){hideleaguepanel(4);showLeagueExtraDetails();var f=getRandomNumber();$("#"+displaymode+"_league_messages").prepend("<div id="+f+"><strong>League Updated!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+
f+"); return false'>OK</span></div>");refreshScroller(leagueMessageScroller,"invitepanel");userLeague.GetLeagueTable(a,c,null,d.id,b)}else hideleaguepanel(4),showLeagueExtraDetails(),f=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+f+"><strong>Unable to Edit League.</strong> <br /> Please try again later <br /><span class='button' onclick='hideLeagueExtraDetails("+f+"); return false'>OK</span></div>"),refreshScroller(leagueMessageScroller,"invitepanel")}});_gaq.push(["_trackEvent",
"Clicks","ManageLeague_edit"])},SendInvitesFromManageLeaguePopup:function(){var a=$("#"+displaymode+"_edit_lid").val(),c="ListOfUsersLeagues_"+GetCurrentfixtureID();userLeague.LeagueInvite(a,c,!1);hideleaguepanel(4);_gaq.push(["_trackEvent","Clicks","ManageLeague_invite"])},LeagueInvite:function(a,c,g){var f;if(c){var b;try{b=JSON.parse(window.sessionStorage.getItem(c))}catch(d){}if(b){c=typeof b!="object"?JSON.parse(b):b;for(b=0;b<c.length;b++)c[b].ID==a&&(f=c[b])}}else if(UsersLastCreatedLeague&&
(UsersLastCreatedLeague.ID=a))f=UsersLastCreatedLeague;if(f){var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));(f.CreaterFBID==h.id||f.ismember>0&&f.allowinvites==1)&&FB.ui({method:"apprequests",message:"You've been invited to join a LiveGames league by "+h.name+"!!"},function(a){if(a&&a.request&&a.to)try{for(var b="",c=0;c<a.to.length;c++)c==0?b=a.to[c]:b+=","+a.to[c];$.ajax({url:WS_URL_ROOT+"/League/LogLeagueInvites",type:"POST",data:"userid="+h.id+"&fbREquest="+a.request+"&FBUserID_List="+
b+"&LeagueID="+f.ID,dataType:"html",error:function(a,b,c){AjaxFail("LeagueInvite",a,b,c);g&&g==!0?(userLeague.GetLeagueTable(f.ID,f.Name,f.Description,f.CreaterFBID,f.nummembers),showLeagueExtraDetails(),a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>League was created but no invites were sent!!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>")):(showLeagueExtraDetails(),a=getRandomNumber(),$("#"+
displaymode+"_league_messages").prepend("<div id="+a+"><strong>Invites were not sent! Please try again later.</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>"));refreshScroller(leagueMessageScroller,"invitepanel")},success:function(a){a=typeof a!="object"?JSON.parse(a):a;userLeague.sendLeagueInvitesViaSignalR(a,f.ID,f.Name);g&&g==!0?(userLeague.GetLeagueTable(f.ID,f.Name,f.Description,f.CreaterFBID,f.nummembers),showLeagueExtraDetails(),a=
getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>League Created!!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>")):(showLeagueExtraDetails(),a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>Invites Sent!!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>"));refreshScroller(leagueMessageScroller,"invitepanel")}})}catch(d){}else g&&
g==!0?(userLeague.GetLeagueTable(f.ID,f.Name,f.Description,f.CreaterFBID,f.nummembers),showLeagueExtraDetails(),a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>League was created but no invites were sent !!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>")):(showLeagueExtraDetails(),a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>Invites were not sent! Please try again later.</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+
a+"); return false'>OK</span></div>")),refreshScroller(leagueMessageScroller,"invitepanel")})}else g&&g==!0?(userLeague.GetLeagueTable(f.ID,f.Name,f.Description,f.CreaterFBID,f.nummembers),showLeagueExtraDetails(),a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>League was created but no invites were sent !!</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>")):(showLeagueExtraDetails(),a=getRandomNumber(),
$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>Invites were not sent! Please try again later.</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+a+"); return false'>OK</span></div>")),refreshScroller(leagueMessageScroller,"invitepanel")},sendLeagueInvitesViaSignalR:function(a,c,g){for(var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),b=0;b<a.length;b++){var d="UD"+a[b].uid,h=a[b].iid;if(h>0)if(LiveEventMethod=="T5P"){if(UserHasFriendsPlayingThisGame()==
1){var i=[];i.push(h);i.push(c);i.push(g);i.push(f.id);i.push(f.name);i.push(GetCurrentfixtureID());sp==1?FriendPusher.push("DisplayLeagueInvite",i,d):AdminPusher.push("DisplayLeagueInvite",i,d);_gaq.push(["_trackEvent","T5Pusher","LeagueInvite"])}}else liveGamesSignalRConnection.server.sendleagueinvite(h,c,g,f.name,GetCurrentfixtureID(),d)}},sendLeagueInvitesViaFacebookPost:function(a,c,g){c=JSON.parse(window.sessionStorage.getItem("facebookuser"));GetCurrentfixtureID();for(var f=0;f<a.length;f++)try{FB.api("/"+
a[f].uid+"/feed","post",{name:g,message:"You've been invited to join  "+c.name+"'s LiveGames league -  "+g+" - http://apps.facebook.com/tfivelive",picture:"http://profile.ak.fbcdn.net/hprofile-ak-snc4/373028_169134899848595_616111560_n.jpg",link:"http://apps.facebook.com/tfivelive"},function(){})}catch(b){logError("sendLeagueInvitesViaFacebookPost",b)}},DisplayLeagueInvite:function(a,c,g,f,b){$("#"+displaymode+"_league_messages").prepend("<div style='display:block;' class='linv_"+c+"'><strong>"+b+
"</strong> has invited you to join league <strong>"+g+"</strong> <br clear='all' /><span class='button' onClick='userLeague.acceptLeagueInvitation("+a+","+c+',"'+g+'",'+f+"); return false;'>Join</span> <span class='button' onclick='userLeague.rejectLeagueInvitation("+a+","+c+"); return false'>Decline</span></div>");refreshScroller(leagueMessageScroller,"invitepanel");showLeagueExtraDetails()},rejectLeagueInvitation:function(a,c){hideInvites(c);var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));
$.ajax({url:WS_URL_ROOT+"/League/updateLeagueInvitation",type:"POST",data:"inviteID="+a+"&leagueid=-1&userid="+g.id+"&status=-1&fu="+g.fbuserid,error:function(a,b,c){AjaxFail("rejectLeagueInvitation",a,b,c)},success:function(){}})},acceptLeagueInvitation:function(a,c,g,f){hideInvites(c);$(".leaguepanel").hide();$(".leaguestandings").hide();$(".loadingpanel").show();var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/League/updateLeagueInvitation",type:"POST",
data:"inviteID="+a+"&leagueID="+c+"&userid="+b.id+"&status=1&fu="+b.fbuserid,error:function(a,b,c){AjaxFail("rejectLeagueInvitation",a,b,c)},success:function(a){userLeague.DisplayTheLeagueTable(a,c,g,null,f,0)}})},MakeSureFriendsTableIsTheSameAsLeagueTable:function(a){try{var c=typeof a!="object"?JSON.parse(a):a,g;try{g=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(f){}a=0;if(g&&g.length>0){for(var b=0;b<c.length;b++)for(var d=c[b].S,h=c[b].F,i=0;i<=g.length-1;i++){var k=
g[i];if(k.F==h){if(k.S!=d&&(k.B==null||k.B.status!=0))k.S=d,a=1;break}}a==1&&(window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(g)),ReOrderFriendsScoresBasedOnCurrentScore())}}catch(m){logError("MakeSureFriendsTableIsTheSameAsLeagueTable",m)}},DisplayTheLeagueTable:function(a,c,g,f,b,d,h){if(IsThisLeagueTableUptoDate(a,c)==1)$("#"+displaymode+"_leaguestandings_1").html(userLeague.OutputScores(a,g,c,d)),window.sessionStorage.setItem("leaderboard",$.toJSON(a)),$(".leaguepanel").hide(),$(".leaguestandings").hide(),
$("#"+displaymode+"_leaguestandings_1").show(),$(".loadingpanel").hide(),this.mobile_APICall_Needed=0,refreshScroller(leaderboardScroller,"LeagueLeaderboard2"),userLeague.StoreLeagueDetails(a,c,g,f,b,d),c==thisFixture.defaultleagueid?(this.currentlyShowingDefaultLeague=c,h||SetTickerContent("LeagueStandings_ticker",GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame(a,d)),this.MakeSureFriendsTableIsTheSameAsLeagueTable(a)):this.currentlyShowingDefaultLeague=-1},GetLeagueTable:function(a,
c,g,f,b,d,h,i){var k=JSON.parse(window.sessionStorage.getItem("facebookuser"));$(".loadingpanel").hide();d||($(".leaguepanel").hide(),$(".leaguestandings").hide(),$(".loadingpanel").show());h&&(a==thisFixture.defaultleagueid?_gaq.push(["_trackEvent","Clicks","ViewLeaderBoard_DefaultLeague"]):_gaq.push(["_trackEvent","Clicks","ViewLeaderBoard_NOTDefaultLeague"]));$.ajax({url:WS_URL_ROOT+"/LeaderBoard/GetleagueLeaderboard",type:"POST",data:"LeagueID="+a+"&u="+k.id+"&fu="+k.fbuserid,dataType:"html",
error:function(b,c,d){AjaxFail("GetLeagueTable additional info LeagueID="+a+"&u="+k.id+"&fu="+k.fbuserid,b,c,d)},success:function(d){d&&userLeague.DisplayTheLeagueTable(d,a,c,g,f,b,i)}})},createNewLeague:function(){var a=$("#"+displaymode+"_leaguename").val(),c=parseInt($("#"+displaymode+"_league_view_2 input:checked").val()),g=0;$("#"+displaymode+"_allowinvites").is(":checked")==!0&&(g=1);var f=GetCurrentfixtureID();if(a&&c>0){var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));b&&(b=
window.sessionStorage.getItem("facebookuser"),$.ajax({url:WS_URL_ROOT+"/League/LeagueCreateHandler",type:"POST",data:"name="+a+"&fixtureID="+f+"&allowinvites="+g+"&LeagueType="+c+"&description=&user="+b,dataType:"html",error:function(a,b,c){AjaxFail("createNewLeague",a,b,c)},success:function(a){JSON.parse(a).ID>0?(UsersLastCreatedLeague=JSON.parse(a),userLeague.LeagueInvite(UsersLastCreatedLeague.ID,null,!0)):(a=getRandomNumber(),$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>League was not created! Please try again.</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+
a+"); return false'>OK</span></div>"),refreshScroller(leagueMessageScroller,"invitepanel"),showLeagueExtraDetails())}}));_gaq.push(["_trackEvent","Clicks","CreateLeague_step2"])}else $("#"+displaymode+"_CreateLeagueError").html("You must give the league a name!")},GetUserLeaguesLinkedToThisFixture:function(){$(".loadingpanel").hide();var a=JSON.parse(window.sessionStorage.getItem("facebookuser")),c=GetCurrentfixtureID(),g="ListOfUsersLeagues_"+c,f;try{f=JSON.parse(window.sessionStorage.getItem(g))}catch(b){}f&&
DisplayListOfLeagues(f,g,!1);$.ajax({url:WS_URL_ROOT+"/League/GetUserLeaguesLinkedToThisFixture",type:"POST",data:"fixtureid="+c+"&userid="+a.id,dataType:"html",error:function(a,b,c){AjaxFail("GetUserLeaguesLinkedToThisFixture",a,b,c)},success:function(a){DisplayListOfLeagues(a,g,!1)}});_gaq.push(["_trackEvent","Clicks","ViewMyLeagues"])},GetOfficialLeagues:function(a){$(".loadingpanel").hide();var c=JSON.parse(window.sessionStorage.getItem("facebookuser")),g=GetCurrentfixtureID(),f="ListOfOfficialLeagues_"+
g,b;try{b=JSON.parse(window.sessionStorage.getItem(f))}catch(d){}b&&DisplayListOfLeagues(b,f,!0);$.ajax({url:WS_URL_ROOT+"/League/GetOfficialLeagues",type:"POST",data:"fixtureid="+g+"&userid="+c.id,dataType:"html",error:function(a,b,c){AjaxFail("GetOfficialLeagues",a,b,c)},success:function(a){DisplayListOfLeagues(a,f,!0)}});a&&_gaq.push(["_trackEvent","Clicks","ViewOfficialLeagues"])},JoinLeague:function(a,c,g,f,b){var d=JSON.parse(window.sessionStorage.getItem("facebookuser"));$(".leaguepanel").hide();
$(".leaguestandings").hide();$(".loadingpanel").show();$.ajax({url:WS_URL_ROOT+"/League/JoinLeague",type:"POST",data:"leagueid="+a+"&u="+d.id+"&fu="+d.fbuserid,dataType:"html",error:function(a,b,c){AjaxFail("JoinLeague",a,b,c);$(".loadingpanel").hide();userLeague.GetOfficialLeagues();showLeagueExtraDetails();a=getRandomNumber();$("#"+displaymode+"_league_messages").prepend("<div id="+a+"><strong>Failed to join the league! Please try again.</strong> <br /> <span class='button' onclick='hideLeagueExtraDetails("+
a+"); return false'>OK</span></div>");refreshScroller(leagueMessageScroller,"invitepanel")},success:function(d){userLeague.DisplayTheLeagueTable(d,a,c,g,f,b)}});_gaq.push(["_trackEvent","Clicks","JoinOfficialLeague"])},StoreLeagueDetails:function(a,c,g,f,b,d){this.name=g;this.desc=f;this.id=c;this.num_MembersInLeague=d;this.creater_Id=b;this.positions_array=a},GetDefaultLeague:function(){thisFixture&&userLeague.GetLeagueTable(thisFixture.defaultleagueid,thisFixture.defaultleaguename,null,thisFixture.defaultleaguecreator,
thisFixture.defaultleaguenummembers)},UpdateCurrentLeaderboard:function(a){this.id>0&&$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&(a?userLeague.GetLeagueTable(this.id,this.name,null,this.creater_Id,this.num_MembersInLeague,a):userLeague.GetLeagueTable(this.id,this.name,null,this.creater_Id,this.num_MembersInLeague))},GetFriendsLeaderBoard:function(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(c){}var g="";if(a)for(var f=0;f<a.length;f++)g=
f==0?a[f].id:g+","+a[f].id;var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Leaderboard/GetFriendsLeaderboard",type:"POST",data:"FriendList="+g+"&f="+fixture+"&u="+b.id+"&fu="+b.fbuserid,dataType:"html",error:function(a,b,c){AjaxFail("GetFriendsLeaderBoard",a,b,c)},success:function(a){try{if(a){var b=typeof a!="object"?JSON.parse(a):a;window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(b));$(".FriendsLeaderboard").html(userLeague.DisplayFriendsLeaderBoard(a,
"ff",!0));refreshScroller(friendsScoreScroller,"FriendsLeaderboard");SetTickerContent("friendDetails_ticker",null,"friendsFirst")}}catch(c){logError("DisplayFriendsLeaderBoard",c+"response is "+a)}}})}catch(d){logError("GetFriendsLeaderBoard",d)}},DisplayFriendsLeaderBoard:function(a,c,g){c===void 0&&(c="mediumTable");g=!1;g===void 0&&(g=!0);var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),a=typeof a!="object"?JSON.parse(a):a,c='<table class="'+c+'">';if(g){c+="<thead><tr>";for(var b in a[0])c+=
'<th scope="col" class="'+b.toString()+'">'+b+"</th>";c+="</tr></thead>"}c+="<tbody>";for(g=0;g<a.length;g++){b=a[g].P;var d=a[g].U.replace(/'/g,"'"),d=a[g].U,h=a[g].S,i=a[g].F,k=a[g].I;k&&k.indexOf("http")<0&&(k=facebookprofilepicurl+k);var m;try{m=a[g].B}catch(p){}var r="";m&&m.status==0&&m.betid>0&&(r=" beton");c+=f.fbuserid==i?'<tr class="alt_me'+r+'">':'<tr class="alt'+r+'">';c+='<td class="P">'+b+'</td><td class="U"><img src="'+k+'" /><span class="uname">'+d+'</span></td><td class="S">'+h+"</td>";
c+="</tr>"}c+="</tbody>";c+="</table>";return c}}};var Store=function(){function a(a,g){try{var f=typeof g!="object"?JSON.parse(g):g,b={USD:"$",EUR:"\u20ac",GBP:"\u00a3"}[f.currency.user_currency]||f.currency.user_currency,d=f.currency.currency_offset,h=String(Math.round(a*f.currency.currency_exchange_inverse*d)),d={1:0,10:-1,100:-2,1E3:-3}[d],i=h.substr(d),k=h.substring(0,h.length+d)||"0",m=(1.1).toLocaleString()[1];return b+String(k)+(i?m+i:"")}catch(p){return"price unknown"}}return{storeitems:void 0,ubbillingobject:void 0,resetinventory:function(){$("#"+
displaymode+"_checkout").hide();$("#"+displaymode+"_billing").hide();$("#"+displaymode+"_inventory").show()},showstore:function(){$(".storepopup").is(":visible")==!0?($(".storepopup").fadeOut("fast"),Store.resetinventory()):(_gaq.push(["_trackEvent","Clicks","ShowStore"]),Store.GetStoreItems(),$(".storepopup").fadeIn("fast"))},GetMyStorePurchases:function(){var c=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/GetStorePurchases",type:"POST",data:"&u="+c.id+
"&fu="+c.fbuserid,error:function(a,c,b){AjaxFail("GetMyStorePurchases",a,c,b)},success:function(c){for(var c=typeof c!="object"?JSON.parse(c):c,f="",b=0;b<c.length;b++){if(c[b].p==4){var d=JSON.parse(window.sessionStorage.getItem("facebookuser")),d=a(c[b].price.toFixed(2),d.CurrencyData);f+="<p class='purchasehistory_row'><span class='time'>"+c[b].time+"</span> - <span class='name'>"+c[b].name+" </span> for <span class='price'>"+d+"</span>"}else f+="<p class='purchasehistory_row'><span class='time'>"+
c[b].time+"</span> - <span class='name'>"+c[b].name+" </span> for <span class='price'>"+c[b].cs+""+c[b].price+"</span>";c[b].status==1?f+=" <span class='status complete'>Purchase Complete</span>":c[b].status==-1?f+=" <span class='status fail'>Purchase Failed - Not Billed</span>":c[b].status==0&&(f+=" <span class='status processing'>Purchase Processing....</span>");f+="</p>"}$("#"+displaymode+"_storepurchases").html(f);refreshScroller(myStorePurchasesScroller,"storepurchases")}})},GetStoreItems:function(a){var g=
JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/GetStoreItems",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+"&userid="+g.id+"&p="+getPlatform(),error:function(a,b,c){AjaxFail("GetStoreItems",a,b,c)},success:function(f){Store.storeitems=typeof f!="object"?JSON.parse(f):f;if(a)for(f=0;f<Store.storeitems.length;f++)Store.storeitems[f].name.toLowerCase().indexOf(a)>0&&Store.confirmPurchase(f,!0);else Store.DisplayStoreItems(f)}})},DisplayStoreItems:function(){for(var c=
"",g=0;g<Store.storeitems.length;g++)if(getPlatform()==2)c+='<div style="width:25%; float:left; text-align:center;"> <img src="https://d2q72sm6lqeuqa.cloudfront.net/images/'+Store.storeitems[g].imgurl+'" border="0" alt="200"  /><br /><strong>'+Store.storeitems[g].cs+Store.storeitems[g].price.toFixed(2)+'</strong><br /> <div class="button" onclick="Store.DisplayStoreItem('+g+'); return false;">More Info</div></div>';else if(getPlatform()==4){var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),
f=a(Store.storeitems[g].price.toFixed(2),f.CurrencyData);c+='<div style="width:25%; float:left; text-align:center;"> <img src="https://d2q72sm6lqeuqa.cloudfront.net/images/'+Store.storeitems[g].imgurl+'" border="0" alt="200"  /><br /><strong>'+f+'</strong><br /> <div class="button" onclick="Store.DisplayStoreItem('+g+'); return false;">More Info</div></div>'}else c+='<div style="width:25%; float:left; text-align:center;"> <img src="https://d2q72sm6lqeuqa.cloudfront.net/images/'+Store.storeitems[g].imgurl+
'" border="0" alt="200"  /><br /> <div class="button" onclick="Store.DisplayStoreItem('+g+'); return false;">More Info</div></div>';$("#"+displaymode+"_inventory").html(c)},DisplayStoreItem:function(a,g){_gaq.push(["_trackEvent","Clicks","ShowStoreItem_"+Store.storeitems[a].name]);if(getPlatform()==2){$(".itemdescriptiondetails").html("<p><strong>"+Store.storeitems[a].name+"</strong> <br />"+Store.storeitems[a].description+"</p><br />");$("#"+displaymode+"_inventory").fadeOut("fast",function(){$("#"+
displaymode+"_checkout").fadeIn("fast")});var f="<p>Price "+Store.storeitems[a].price+" <div class='button' onclick='Store.confirmPurchase("+a+"); return false;'>Buy</div></p>";$(".itempurchasedetails").html(f)}else Store.confirmPurchase(a,g)},confirmPurchase:function(a,g){var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),b=Store.storeitems[a].id;$.ajax({url:WS_URL_ROOT+"/Game/LogPurchaseRequest",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+"&userid="+f.id+"&si="+b+"&p="+getPlatform()+
"&fu="+uiUser.fbuserid+"&c="+Store.storeitems[a].c,error:function(a,b,c){AjaxFail("confirmPurchase",a,b,c)},success:function(b){if(b.id>0)if(getPlatform()==2)Store.DoIOSBilling(b);else if(getPlatform()==4){var f={method:"pay",action:"buy_item",order_info:{item_id:"'"+b.fboi+"'"},dev_purchase_params:{oscif:!0}};Store.lastfbid=b.id;FB.ui(f,Store.HandleFacebookBilingResponse)}else $(".itemdescriptiondetails").html("<p><strong>"+Store.storeitems[a].name+"</strong> <br />"+Store.storeitems[a].description+
"</p><br />"),$("#"+displaymode+"_inventory").fadeOut("fast",function(){$("#"+displaymode+"_checkout").fadeIn("fast")}),Store.InitiateUBBillingV2(b,Store.storeitems[a].price,a),$(".itempurchasedetails").html("<p>Retrieving purchase details........</p>"),g&&Store.DisplayStoreItems(Store.storeitems);else $(".itemdescriptiondetails").html("<p>Error displaying item details. Please try again later</p><br />")}})},HandleFacebookBilingResponse:function(a){var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));
a.order_id?$.ajax({url:WS_URL_ROOT+"/Game/CompleteFBStorePurchase",type:"POST",data:"fboid="+a.order_id+"&u="+g.id+"&fu="+uiUser.fbuserid,error:function(a,b,c){AjaxFail("UpdateFBStorePurchase",a,b,c)},success:function(a){a&&a.id>0&&Store.CompletePurchase(a)}}):a.error_code&&Store.lastfbid&&$.ajax({url:WS_URL_ROOT+"/Game/LogFailedFBStorePurchase",type:"POST",data:"u="+g.id+"&spid="+Store.lastfbid+"&ec="+a.error_code+"&em="+encodeURIComponent(a.error_message)+"&fu="+uiUser.fbuserid,error:function(a,
b,c){AjaxFail("CompleteFailedFBStorePurchase",a,b,c)},success:function(a){a&&a.id>0&&Store.CompletePurchase(a)}})},InitiateUBBilling:function(a,g){var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),b=a.id;$.ajax({url:WS_URL_ROOT+"/Game/CallUBBillRequest",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+"&userid="+f.id+"&si="+a.storeitemid+"&pid="+a.id+"&price="+g,error:function(a,b,c){AjaxFail("InitiateUBBilling",a,b,c)},success:function(a){a=a.replace(/@/g,"");Store.ubbillingobject=
typeof a!="object"?JSON.parse(a):a;if(!f.sak&&f.sak!=Store.ubbillingobject.Billing.SAK)f.sak=Store.ubbillingobject.Billing.SAK;a="<p>Price "+Store.ubbillingobject.Billing.BillOptions.Billoption.BillingPrice+" <div class='button' onclick='Store.DoUBBilling("+Store.ubbillingobject.Billing.BillOptions.Billoption.BillOptionID+","+Store.ubbillingobject.Billing.BillOptions.Billoption.BillingPrice+","+b+"); return false;'>Buy</div></p>";$(".itempurchasedetails").html(a)}})},InitiateUBBillingV2:function(a,
g,f){var b=JSON.parse(window.sessionStorage.getItem("facebookuser")),d=a.id;$.ajax({url:WS_URL_ROOT+"/Game/CallUBBillRequestV2",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+"&userid="+b.id+"&si="+a.storeitemid+"&pid="+a.id+"&price="+g+"&title= "+encodeURIComponent(Store.storeitems[f].name)+"&sak="+b.sak,error:function(a,b,c){AjaxFail("InitiateUBBillingV2",a,b,c)},success:function(a){if(a=="-1"||a=="-2")$(".itempurchasedetails").html("Error retrieving purchase details. Please try again later. <br />");
else{a=a.replace(/@/g,"");Store.ubbillingobject=typeof a!="object"?JSON.parse(a):a;a={USD:"$",EUR:"\u20ac",GBP:"\u00a3"};if(Store.ubbillingobject.Billing.BillOptions.BillOption.BillingPrice){var b;try{b=Store.ubbillingobject.Billing.BillOptions.BillOption.BillingCurrencyDisplay}catch(c){b=a[Store.ubbillingobject.Billing.BillOptions.BillOption.BillingCurrency]}b||(b="");b="<p>Price "+b+Store.ubbillingobject.Billing.BillOptions.BillOption.BillingPrice+" <div class='button' onclick='Store.DoUBBilling("+
Store.ubbillingobject.Billing.BillOptions.BillOption.BillOptionID+","+Store.ubbillingobject.Billing.BillOptions.BillOption.BillingPrice+","+d+"); return false;'>Buy</div></p>"}else{try{b=Store.ubbillingobject.Billing.BillOptions.BillOption[0].BillingCurrencyDisplay}catch(f){b=a[Store.ubbillingobject.Billing.BillOptions.BillOption[0].BillingCurrency]}b||(b="");b="<p>Price "+b+Store.ubbillingobject.Billing.BillOptions.BillOption[0].BillingPrice+" <div class='button' onclick='Store.DoUBBilling("+Store.ubbillingobject.Billing.BillOptions.BillOption[0].BillOptionID+
","+Store.ubbillingobject.Billing.BillOptions.BillOption[0].BillingPrice+","+d+"); return false;'>Buy</div></p>"}$(".itempurchasedetails").html(b)}}})},DoUBBilling:function(a,g,f){var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/LogUsersSelectedUBBillOption",type:"POST",data:"&userid="+b.id+"&pid="+f+"&ubboid="+a+"&ubp="+g+"&fu="+uiUser.fbuserid,error:function(a,b,c){AjaxFail("DoUBBilling",a,b,c)},success:function(a){if(a>0){var b;try{b=Store.ubbillingobject.Billing.BillOptions.BillOption.InstructionSet.IS.Step.URI}catch(c){}if(!b)try{b=
Store.ubbillingobject.Billing.BillOptions.BillOption.InstructionSet.IS.Step[0].URI}catch(f){}if(!b)try{b=Store.ubbillingobject.Billing.BillOptions.BillOption[0].InstructionSet.IS.Step[0].URI}catch(g){}if(!b)try{b=Store.ubbillingobject.Billing.BillOptions.BillOption[0].InstructionSet.IS.Step.URI}catch(p){}window.location.href=b}else a==-999?$(".itemdescriptiondetails").html("<p>Error - invalid user</p><br />"):$(".itemdescriptiondetails").html("<p>Error. Please try again later</p><br />")}})},DoIOSBilling:function(a){try{window.location=
"livegames:BuyItem:"+a.storeitemid+":"+a.id}catch(g){logError("DoIOSBilling",g)}},LogIOSBillingError:function(a,g,f){$.ajax({url:WS_URL_ROOT+"/Game/LogIOSReceiptError",type:"POST",data:"&errorText="+a+"&purchaseID="+g+"&errorCode="+f,error:function(a,c,f){AjaxFail("DoUBBilling",a,c,f)},success:function(){}})},DoAndroidBilling:function(){},CheckForOpenStorePurchases:function(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));a&&a.id>0&&(getPlatform()==1?$.ajax({url:WS_URL_ROOT+"/Game/CheckForSuccessfullUBPurchases",
type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id+"&fu="+a.fbuserid,error:function(g,f,b){AjaxFail("CheckForOpenStorePurchases additional data we sent was f="+GetCurrentfixtureID()+"&u="+a.id+"&fu="+a.fbuserid,g,f,b)},success:function(a){if(a){for(var a=typeof a!="object"?JSON.parse(a):a,c=0,b=0;b<=a.length-1;b++)a[b].ubresultid<0||a[b].ubresultid==2?Store.CompletePurchase(a[b]):c+=1;c>0&&setTimeout("Store.CheckForOpenStorePurchases();",3E4)}}}):getPlatform())},GetStorePurchase:function(a){$.ajax({url:WS_URL_ROOT+
"/Game/GetStorePurchase",type:"POST",data:"&id="+a,error:function(a,c,b){AjaxFail("LogIOSReceiptID",a,c,b)},success:function(a){return a}})},UpdateIOSPurchases:function(a,g){try{var f=Store.GetStorePurchase(g);$.ajax({url:WS_URL_ROOT+"/Game/LogIOSReceiptID",type:"POST",data:"&receiptID="+a+"&purchaseID="+g,error:function(a,b,c){AjaxFail("LogIOSReceiptID",a,b,c)},success:function(){$.ajax({url:WS_URL_ROOT+"/Game/ValidateReceipt",type:"POST",data:'&jsonString={"receipt-data": "'+a+'"}',error:function(a,
b,c){AjaxFail("LogIOSReceiptID",a,b,c)},success:function(a){a=JSON.parse(a);try{$.ajax({url:WS_URL_ROOT+"/Game/LogIOSReceiptInfo",type:"POST",data:"&transactionID="+a.receipt.transaction_id+"&purchaseDate="+a.receipt.purchase_date+"&purchaseID="+g+"&quantity="+a.receipt.quantity+"&productID="+a.receipt.product_id+"&originalPurchaseDate="+a.receipt.original_purchase_date+"&appItemID="+a.receipt.app_item_id+"&versionExternalId="+a.receipt.version_external_id+"&bid="+a.receipt.bid+"&bvrs="+a.receipt.bvrs+
"&originalTransactionID="+a.receipt.original_transaction_id+"&result="+a.status,error:function(a,b,c){AjaxFail("LogIOSReceiptID",a,b,c)},success:function(){CompletePurchase(f)}})}catch(b){logError("DoIOSBilling",b),Store.LogIOSBillingError(a.exception,g,a.status)}}})}})}catch(b){logError("DoIOSBilling",b)}},UpdateAndroidPurchases:function(){},CompletePurchase:function(a){var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/completeStorePurchase",type:"POST",
data:"fixtureID="+GetCurrentfixtureID()+"&userid="+g.id+"&id="+a.id+"&fu="+uiUser.fbuserid,error:function(a,b,c){AjaxFail("CompletePurchase",a,b,c)},success:function(a){if(a.purchaseresult>0)switch($(".storepopup").fadeOut("fast"),$(".tooltip-shade").hide(),Store.resetinventory(),$(".popup-notify-purchase > h1").text("Purchase Complete!"),$(".popup-notify-purchase > span").text(a.purchaseresult),$(".popup-notify-purchase").fadeIn(200).delay(3E3).fadeOut(200),a.storeitemid){case 1:thisFixture.unlockcredits=
a.purchaseresult;DisplayHigherCreditsAvailabilityToUserV2(a.purchaseresult,0,0,"updateTicker");break;case 2:var b="<span>"+a.purchaseresult+"</span>Power Play";a.purchaseresult>1&&(b+="s");$("#"+displaymode+"_powerplayclickbtn").html(b);$("#powerplayclickbtn2 span").html(a.purchaseresult);$(".powerplayclick").removeClass("off");thisFixture.remainingpowerplays+=1;break;case 3:$("#"+displaymode+"_forfeitnum").html(a.purchaseresult);try{b=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(c){}b!=
null&&b.status==0&&($("#"+displaymode+"_forfeitnum").show(),$(".forfeitclick").show());remainingforfeits=a.purchaseresult;break;case 4:$(".credits").html(a.purchaseresult)}}})}}};var Administrator=function(a){var c=0,g=0,f="";return{user:a,secureGroupName:0,isAdmin:function(){var b=!1;try{a&&a.level=="trust5"&&(b=!0)}catch(c){logError("isAdmin",c)}return b},SendKeepAlive:function(){try{keepAliveStarted=1}catch(a){}},SetUpRefereesSecureGroup:function(){try{f="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;return(a=="x"?b:b&3|8).toString(16)}),AdminPusher.CreateSecureGroup(f,"CreateBroadcastGroupReturn",1)}catch(a){alert("error creating broadcast group!!! ex is "+
a.toString())}},DisplayAdminDivs:function(){$("#AdminButtons").show();$("#AdminExtraButtons").show();$("#slide5").show();$("#gameoptions").hide();$("#slide2").hide()},showFreeze:function(){$("#EventID22").show();$("."+displaymode+"_pitch-icons").hide()},freezeBets:function(){freezeInDB=0;admin.putEventDetailsInDB(22,0,"","");lastEventSent=22;admin.populateListOfGoalScorers();$("#EventID22").hide();$("#EventID23").show();$("."+displaymode+"_pitch-icons").show()},ResetBackup:function(){try{if(admin&&
admin.isAdmin()){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Admin/RB",type:"POST",data:"u="+a.id+"&fu="+a.fbuserid,error:function(a,b,c){AjaxFail("RB",a,b,c)},success:function(a){a>0?$(".GameFeedInfo").prepend("DB Backup values reset!!!<br />"):$(".GameFeedInfo").prepend("DB Backup values NOT reset - contact DBA!!!<br />")}})}}catch(c){logError("ResetBackup",c)}},putEventDetailsInDB:function(a,c,f,g){try{if(admin&&admin.isAdmin())if(currentlyConnected==
1){var k=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Admin/LogEvent",type:"POST",data:"eventID="+a+"&FixtureID="+GetCurrentfixtureID()+"&FBOID="+c+"&BroadCastMessage="+f+"&EventTimeStamp="+g+"&u="+k.id+"&fu="+k.fbuserid,error:function(a,b,c){AjaxFail("setLive",a,b,c)},success:function(a){a&&admin.pushEventDetailsToPlayers(a)}})}else alert("you are NOT connected to T5Pusher!!!!! - reload page to establish connection - then - send message again!!!!!!!")}catch(m){logError("putEventDetailsInDB",
m)}},pushEventDetailsToPlayers:function(a){try{if(admin&&admin.isAdmin()){a.c&&admin.confirmEventSent(a.c);if(a.ne){var c=[];c.push(a.f);c.push(a.e);c.push(a.ne);c.push(a.h);c.push(a.a);c.push(a.d);c.push(a.t);c.push(a.et);c.push(a.p);c.push(a.s);AdminPusher.push("UpdateGameEvent",c,f)}a.o&&(c=[],c.push(a.o),c.push(GetCurrentfixtureID()),AdminPusher.push("UpdateGameOdds",c,f));a.i&&(c=[],c.push(a.l),c.push(a.i),c.push(a.f),c.push(a.ne),c.push(a.n),AdminPusher.push("UpdateLeaderboard",c,f))}}catch(h){logError("confirmEventSent",
h)}},confirmEventSent:function(a){try{if(admin&&admin.isAdmin()){var c=a.split(":"),f=c[1];c[0]==22&&(freezeInDB=f,lastEventSent!=22&&lastEventSent!=23&&(admin.thawBets(),logError("FreezeIssue","We had to send a thaw!!!! - lastEventSent is "+lastEventSent+", newEventID is "+f)))}}catch(g){logError("confirmEventSent",g)}},thawBets:function(){JSON.parse(window.sessionStorage.getItem("facebookuser"));admin.putEventDetailsInDB(23,0,"","");freezeInDB=1;lastEventSent=23;$("#EventID22").show();$("#EventID23").hide();
$("."+displaymode+"_pitch-icons").hide()},confirmEvent:function(a){freezeInDB==0?(setTimeout("admin.SendEvent("+a+");",500),logError("FreezeIssue","We had to delay sending the actual event. eventid is "+a)):(logError("NoFreezeIssue","We did NOT have to delay sending the actual event. eventid is "+a),admin.SendEvent(a))},SendEvent:function(a){JSON.parse(window.sessionStorage.getItem("facebookuser"));admin.putEventDetailsInDB(a,0,"","");lastEventSent=a;$("#EventID22").show();$("#EventID23").hide();
$("."+displaymode+"_pitch-icons").hide();$("#confirmevent").hide()},GetEventTimeStamp:function(){return(new Date).getTime()},confirmGoal:function(a){var c=parseInt($("#betoptionselect9").val());c>=0?(JSON.parse(window.sessionStorage.getItem("facebookuser")),admin.putEventDetailsInDB(a,c,"",""),lastEventSent=a,$("#confirmgoal").hide(),$("#EventID22").show(),$("#EventID23").hide(),$("."+displaymode+"_pitch-icons").hide()):alert("YOU MUST SELECT WHO SCORED!!!!")},sendEvent:function(a,c){a==4||a==6?($("#confirmgoal").show(),
$("#confirmgoal").animate({top:"55px"},300),$("#confirmgoal").attr("style","display:block;z-index:900;"),$("#confirmgoal h4").html("You have selected <span style='color:#FFFFCC;'>"+c+"</span><br />Select the GoalScorer and confirm the event."),$("#confirmgoalbutton").attr("onClick","admin.confirmGoal("+a+")")):($("#confirmevent").show(),$("#confirmevent").animate({top:"55px"},300),$("#confirmevent").attr("style","display:block;z-index:900;"),$("#confirmevent h4").html("You have selected <span style='color:#FFFFCC;'>"+
c+"</span><br />Are you sure?"),$("#confirmeventbutton").attr("onClick","admin.confirmEvent("+a+")"))},sendBroadcastMessage:function(a,c){if(a==27)if((c=$("#broadcastmessagetext").val())&&c.length>0){if(confirm("You have selected to send out the message \n'"+c+"' \nAre you sure?"))JSON.parse(window.sessionStorage.getItem("facebookuser")),admin.putEventDetailsInDB(a,0,c,""),lastEventSent=a,$("#broadcastmessagetext").value=""}else alert("You can't send empty broadcast messages!!!!!!");else confirm("You have selected "+
c+"\nAre you sure?")&&(JSON.parse(window.sessionStorage.getItem("facebookuser")),admin.putEventDetailsInDB(a,0,"",""),lastEventSent=a)},configureStartButtons:function(){if(thisFixture){switch(thisFixture.currenthalf){case -101:admin.notStartedSetup();break;case -102:admin.halfTimeSetup();break;case -103:admin.fullTimeSetup();break;case 1:admin.firstHalfSetup();break;case 2:admin.secondHalfSetup()}thisFixture.live==0&&$("#setLive").show()}},setLive:function(){if(confirm("Are you sure?")){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));
$.ajax({url:WS_URL_ROOT+"/Game/SetLive",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id,error:function(a,b,c){AjaxFail("setLive",a,b,c)},success:function(a){a==1&&($("#setLive").hide(),alert("Game is now live!"))}})}},notStartedSetup:function(){$("."+displaymode+"_pitch-icons").hide();$("#EventID22").hide();$("#EventID11").show();$("#EventID12").hide();$("#EventID13").hide();$("#EventID14").hide();$("#EventFullTime").hide()},halfTimeSetup:function(){$("."+displaymode+"_pitch-icons").hide();
$("#EventID22").hide();$("#EventID11").hide();$("#EventID12").hide();$("#EventID13").show();$("#EventID14").hide();$("#EventFullTime").hide();$("#previewpitchdiv").hide()},fullTimeSetup:function(){$("."+displaymode+"_pitch-icons").hide();$("#EventID22").hide();$("#EventID11").hide();$("#EventID12").hide();$("#EventID13").hide();$("#EventID14").hide();$("#previewpitchdiv").hide();$("#BackupToDisk").show()},firstHalfSetup:function(){$("."+displaymode+"_pitch-icons").hide();$("#EventID22").show();$("#EventID11").hide();
$("#EventID12").show();$("#EventID13").hide();$("#EventID14").hide();$("#EventFullTime").hide()},secondHalfSetup:function(){$("."+displaymode+"_pitch-icons").hide();$("#EventID22").show();$("#EventID11").hide();$("#EventID12").hide();$("#EventID13").hide();$("#EventID14").show();$("#EventFullTime").hide();$("#previewpitchdiv").show()},startGame:function(){$("."+displaymode+"_pitch-icons").hide();$("#EventID22").show();$("#EventID11").hide();$("#EventID12").hide();$("#EventID13").hide();$("#EventID14").show();
$("#EventFullTime").hide()},previewPitch:function(){c==0?($(".match-notstarted").hide(),c=1,$("."+displaymode+"_pitch-icons").show(),$(".pitch-container").show(),$(".pitch").show()):(c=0,$("."+displaymode+"_pitch-icons").hide(),$("#EventID11").is(":visible")&&($(".pitch-container").hide(),$(".pitch").hide()))},inPreview:function(){return c},CleanupDBMidMatch:function(){g==0&&confirm("Are you sure?")&&($.ajax({url:WS_URL_ROOT+"/Game/MidGameDBCleanUp",type:"POST",data:"fixtureID="+GetCurrentfixtureID(),
error:function(a,c,f){AjaxFail("GetLastEvent",a,c,f)},success:function(a){g=0;a?a.result==1&&$(".GameFeedInfo").prepend("<span class='losetext'>DB cleaned up <br />"+a.details+"</span><br />"):$(".GameFeedInfo").prepend("<span class='losetext'>Error cleaning up DB!!! <br /></span>")}}),g=1,$(".GameFeedInfo").prepend("DB Clean up started!<br />"))},BackupDBToDisk:function(){confirm("Are you sure you want to Back up the memory tables to disk now??!")&&($.ajax({url:WS_URL_ROOT+"/Game/BackupToDisk",type:"POST",
data:"fixtureID="+GetCurrentfixtureID(),error:function(a,c,f){AjaxFail("BackupToDisk",a,c,f)},success:function(a){a?a.backupresult>0?($(".GameFeedInfo").prepend("<span class='losetext'>Data Backed up to Disk!<br /> "+replaceAll("brk","<br />",a.backupdetails)+"</span>"),refreshScroller(GameFeedScroller,"GameFeedInfo")):a.backupresult==-4?$(".GameFeedInfo").prepend("Unable to back up to disk - awaiting previous MEMORY backup to complete - this can take up to 5 minutes - if this function still does not run in  max 10 minutes - contact administrator!!!!<br />"):
a.backupresult==-5?$(".GameFeedInfo").prepend("Unable to back up to disk - awaiting previous LEAGUE backup to complete - if this function still does not run in  max 10 minutes - contact administrator!!!!<br />"):$(".GameFeedInfo").prepend("Error backing up data to disk!!!!<br />"):$(".GameFeedInfo").prepend("Error backing up data to disk!!!!<br />")}}),$(".GameFeedInfo").prepend("Starting backing up memory tables to disk ..this may take a number of minutes....<br />"))},RebootMemoryTables:function(){confirm("Are you sure you want to reboot the memory tables now??!")&&
confirm("This will kill any games currently running????!!??!")&&($.ajax({url:WS_URL_ROOT+"/Game/RebootMemoryTables",type:"POST",data:"fixtureID="+GetCurrentfixtureID(),error:function(a,c,f){AjaxFail("RebootMemoryTables",a,c,f)},success:function(a){a?a.resetresult>0?($(".GameFeedInfo").prepend("<span class='wintext'>System Rebooted!<br /> "+replaceAll("brk","<br />",a.resetdetails)+"</span>"),refreshScroller(GameFeedScroller,"GameFeedInfo")):$(".GameFeedInfo").prepend("Error rebooting memory tables!!!<br />"):
$(".GameFeedInfo").prepend("Error rebooting memory tables!!!!<br />")}}),$(".GameFeedInfo").prepend("Starting memory tables reboot to disk ..this may take a number of minutes....<br />"))},CompareMemoryTables:function(){confirm("Are you sure you want to Compare the disk and memory table contents for this fixture????!")&&($.ajax({url:WS_URL_ROOT+"/Game/CompareMemoryTables",type:"POST",data:"fixtureID="+GetCurrentfixtureID(),error:function(a,c,f){AjaxFail("CompareMemoryTables",a,c,f)},success:function(a){a&&
($(".GameFeedInfo").prepend("<span class='losetext'>"+replaceAll("brk","<br />",a)+"</span>"),refreshScroller(GameFeedScroller,"GameFeedInfo"))}}),$(".GameFeedInfo").prepend("Starting the comparisson of the disk and memory table contents for this fixture ..this may take a number of minutes....<br />"))},PopulateEditTeamColourDropDowns:function(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));teamcolours?admin.PopulateEditTeamColourDropDowns_DisplayHTML(teamcolours):$.ajax({url:WS_URL_ROOT+
"/Game/GetTeamColours",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id,error:function(a,b,c){AjaxFail("GetTeamColours",a,b,c)},success:function(a){teamcolours=typeof a!="object"?JSON.parse(a):a;window.sessionStorage.setItem("teamcolours",teamcolours);admin.PopulateEditTeamColourDropDowns_DisplayHTML(teamcolours)}})},PopulateEditTeamColourDropDowns_DisplayHTML:function(a){for(var c="<select id='edithometeamcolour' name='edithometeamcolour'>",f="<select id='editawayteamcolour' name='editawayteamcolour'>",
g=0;g<a.length;g++)c=thisFixture.hometeamcolour==a[g]?c+"<option selected value='"+a[g]+"'>"+a[g]+"</option>":c+"<option value='"+a[g]+"'>"+a[g]+"</option>",f=thisFixture.awayteamcolour==a[g]?f+"<option selected value='"+a[g]+"'>"+a[g]+"</option>":f+"<option value='"+a[g]+"'>"+a[g]+"</option>";c+="</select>";f+="</select>";$("#hometeamcolourdiv").html(c);$("#awayteamcolourdiv").html(f)},DisplayEditMatchPopUp:function(){try{$("#editmatchdetails").show();$("#hometeamname").val(thisFixture.hometeam);
$("#awayteamname").val(thisFixture.awayteam);$("#homecrest").val(thisFixture.homecrest);$("#awaycrest").val(thisFixture.awaycrest);$("#fixturedescription").val(thisFixture.fd);$("#fixturecrest").val(thisFixture.fc);$("#kotime").val(thisFixture.starttime);thisFixture.hp==1?$("#hp_1").attr("checked","checked"):$("#hp_0").attr("checked","checked");var a="<select id='editteamdirection' name='editteamdirection'>",a=thisFixture.firsthalfleftteam==thisFixture.hometeam?a+"<option value='1'>"+thisFixture.hometeam+
"</option><option value='2'>"+thisFixture.awayteam+"</option>":a+"<option value='2'>"+thisFixture.awayteam+"</option><option value='1'>"+thisFixture.hometeam+"</option>";a+="</select>";$("#teamDirectionhtml").html(a);$("#editvoid").val(thisFixture.voidOffset);admin.PopulateEditTeamColourDropDowns()}catch(c){alert(c)}},EditMatchDetails:function(){try{var a=$("#hometeamname").val(),c=$("#awayteamname").val(),h=$("#homecrest").val(),g=$("#awaycrest").val(),k=$("#fixturecrest").val(),m=$("#fixturedescription").val(),
p=$("#kotime").val(),r="0",t=$("input[type='radio'][name='HomePageFixture']:checked");t.length>0&&(r=t.val());if(r==1&&(!k||!p))return $("#editstatus").html("You MUST set the image and ko Time for the homepage fixture!!!!!!"),-1;var n=$("#edithometeamcolour").val(),l=$("#editawayteamcolour").val(),A=$("#editteamdirection").val(),A=A==1?a:c,D=$("#editvoid").val();if(isNaN(D))D=thisFixture.voidOffset;var G=JSON.parse(window.sessionStorage.getItem("facebookuser"));a&&c&&a!=c?$.ajax({url:WS_URL_ROOT+
"/Game/EditMatchDetails",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+G.id+"&htn="+encodeURIComponent(a)+"&atn="+encodeURIComponent(c)+"&atc="+encodeURIComponent(l)+"&htc="+encodeURIComponent(n)+"&fhlt="+encodeURIComponent(A)+"&v="+D+"&hc="+encodeURIComponent(h)+"&ac="+encodeURIComponent(g)+"&fc="+encodeURIComponent(k)+"&fb="+encodeURIComponent(m)+"&tsko="+encodeURIComponent(p)+"&hp="+encodeURIComponent(r),error:function(a,b,c){AjaxFail("EditMatchDetails",a,b,c)},success:function(a){parseInt(a)>
0?($("#editmatchdetails").hide(),confirm("Match Details Updated!")&&thisFixture.currenthalf>0&&(a=[],a.push(n+"^"+l+"^"+A+"^"+D),AdminPusher.push("updateGameDetails",a,f)),GetGameDetails(GetCurrentfixtureID(),GameDetailsComplete)):$("#editstatus").html("Error editing details!!")}}):$("#editstatus").html("You must enter a valid names for the teams!!")}catch(T){alert(T)}},DisplayEditTickerText:function(){$.ajax({url:WS_URL_ROOT+"/Game/GetTickerText",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+
a.id+"&fu="+a.fbuserid,dataType:"html",error:function(a,c,f){AjaxFail("UpdateMiscellaneousTickerText",a,c,f)},success:function(a){var a=a.split("^"),c="";if(a.length>0){for(var f=0;f<a.length;f++)a[f].length>0&&(c=c+a[f]+"\n");$("#pregametickertext").val(c)}$("#edittickertext").show()}})},EditTickerText:function(){for(var a=JSON.parse(window.sessionStorage.getItem("facebookuser")),c=$("#pregametickertext").val().split("\n"),f="",g=0;g<c.length;g++)g>0&&(f+="^"),f+=c[g];$.ajax({url:WS_URL_ROOT+"/Game/UpdateTickerText",
type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id+"&fu="+a.fbuserid+"&tt="+encodeURIComponent(f)+"&mp=-101",error:function(a,b,c){AjaxFail("UpdateTickerText",a,b,c)},success:function(a){parseInt(a)>0?$("#pregametickereditstatus").html("Details Updated!!"):$("#pregametickereditstatus").html("Error updating ticker details!!")}})},ShowAddGoalScorerPanel:function(){try{admin.populateListOfGoalScorers(),admin.populateListOfPlayers(),$("#addgoalscorer").show(),$("#AddGoalScorerDetails").html("")}catch(a){alert(a)}},
addGoalScorer:function(){try{var a=document.getElementById("NewGoalScorerOdds").value,c=document.getElementById("NewGoalScorerName").value,f=document.getElementById("playerList").value;f&&f>0&&c?$("#AddGoalScorerDetails").html("<br /><b>Unable to add goalscorer. <br />You can't add a player AND enter a goalscorer at the same time!!</b>"):!isNaN(a)&&a&&(f&&f>0||c)?($("#AddGoalScorerDetails").html("<br /><b>Adding goalscorer.....</b>"),$.ajax({url:WS_URL_ROOT+"/Game/AddNewGoalScorer",type:"POST",data:"fixtureid="+
GetCurrentfixtureID()+"&potentialwinnings="+a+"&goalscorer="+c+"&p="+f,error:function(a,b,c){AjaxFail("addGoalScorer",a,b,c)},success:function(a){parseInt(a)>0?($("#AddGoalScorerDetails").html("<br /><b>Goalscorer added.</b>"),document.getElementById("NewGoalScorerOdds").value="",document.getElementById("NewGoalScorerName").value="",admin.populateListOfGoalScorers()):$("#AddGoalScorerDetails").html("<br /><b>Goalscorer not added.</b>")}})):$("#AddGoalScorerDetails").html("<br /><b>Unable to add goalscorer. <br /> You must enter a goalscorer or player AND you must enter valid winnings!!</b>")}catch(g){alert(g)}},
removeGoalScorer:function(){var a=parseInt($("#betoptionselect_remove9").val());a>0?($("#AddGoalScorerDetails").html("<br /><b>Removing goalscorer.....</b>"),$.ajax({url:WS_URL_ROOT+"/Game/RemoveGoalScorer",type:"POST",data:"fixtureid="+GetCurrentfixtureID()+"&fboid="+a,error:function(a,b,c){AjaxFail("removeGoalScorer",a,b,c)},success:function(a){parseInt(a)>0?($("#AddGoalScorerDetails").html("<br /><b>Goalscorer removed.</b>"),admin.populateListOfGoalScorers()):$("#AddGoalScorerDetails").html("<br /><b>Goalscorer not removed</b>")}})):
$("#AddGoalScorerDetails").html("<br /><b>YOU MUST SELECT a goalscorer to remove!!!!!!!!</b>")},populateGoalScorers_HTML:function(a){try{var c=typeof a!="object"?JSON.parse(a):a,a="<select id='betoptionselect9' name='betoptionselect9'><option value='-1'></option>";if(c&&c.length>0)for(var f=0;f<c.length;f++)a=a+"<option value='"+c[f].oid+"'>"+c[f].d+" ("+c[f].w+")</option>";a+="<option value='0'>None Of The Above</option>";a+="</select>";var g=a.replace("betoptionselect9","betoptionselect_remove9"),
g=g.replace("betoptionselect9","betoptionselect_remove9");$("#goalscorersListhtml").html(g);$("#goalscorershtml").html(a)}catch(k){alert(k)}},populateListOfGoalScorers:function(){var a;try{a=JSON.parse(window.sessionStorage.getItem("listofscorers"))}catch(c){}a&&admin.populateGoalScorers_HTML(a);a=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/GetListOfGoalScorers",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id,error:function(a,b,c){AjaxFail("populateListOfGoalScorers",
a,b,c)},success:function(a){window.sessionStorage.setItem("listofscorers",$.toJSON(a));admin.populateGoalScorers_HTML(a)}})},populateListOfPlayers:function(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/GetListOfPlayers",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id,success:function(a){admin.populatePlayers_HTML(a)}})},populatePlayers_HTML:function(a){try{var c=typeof a!="object"?JSON.parse(a):a;if(c&&c.length>0){for(var a="<select id='playerList' name='playerList'><option value='-1'></option>",
f=0;f<c.length;f++)a=a+"<option value='"+c[f].id+"'>"+c[f].name+" ("+c[f].team+")</option>";a+="</select>";$("#playerListhtml").html(a)}}catch(g){alert(g)}},CreateNewFixture:function(){$("#creatematchdetails").show();var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));teamcolours?admin.PopulateCreateFixtureColourDropDowns_DisplayHTML(teamcolours):$.ajax({url:WS_URL_ROOT+"/Game/GetTeamColours",type:"POST",data:"f=-1&u="+a.id,error:function(a,b,c){AjaxFail("GetTeamColours",a,b,c)},success:function(a){teamcolours=
typeof a!="object"?JSON.parse(a):a;window.sessionStorage.setItem("teamcolours",teamcolours);admin.PopulateCreateFixtureColourDropDowns_DisplayHTML(teamcolours)}})},CreateNewMatch:function(){try{var a=$("#hometeamname").val(),c=$("#awayteamname").val(),f=$("#createhometeamcolour").val(),g=$("#createawayteamcolour").val(),k=$("#createteamdirection").val(),k=k==1?a:c,m="0",p=$("input[type='radio'][name='LiveFixture']:checked");p.length>0&&(m=p.val());var r=JSON.parse(window.sessionStorage.getItem("facebookuser"));
a&&c&&a!=c?(m==1&&$("#createstatus").html("You have selected to create a live game - this can take a minute or two to create as we are cleaning up the database bedfore creaing the Fixture!!!!!"),$.ajax({url:WS_URL_ROOT+"/Game/CreateMatch",type:"POST",data:"u="+r.id+"&htn="+encodeURIComponent(a)+"&atn="+encodeURIComponent(c)+"&atc="+encodeURIComponent(g)+"&htc="+encodeURIComponent(f)+"&fhlt="+encodeURIComponent(k)+"&l="+encodeURIComponent(m),error:function(a,b,c){AjaxFail("CreateNewMatch",a,b,c)},
success:function(a){a=parseInt(a);a>0?($("#creatematchdetails").hide(),confirm("MatchCreated! FixtureID is "+a),GetFixtures()):a==-2?$("#createstatus").html("Match not created - You can only have one live match in system at any time - Please wait until the current live game is finished before creating another live game!!!!!"):a==-3?$("#createstatus").html("Match not created - Can't create live fixture while Disk Backup is currently running - try again in a minute and if problem persists then contact administrator!!"):
a==-4?$("#createstatus").html("Match not created - Can't create live fixture while Memory Tables Backup is currently running - try again in a minute and if problem persists then contact administrator!!"):a==-5?$("#createstatus").html("Match not created - Can't create live fixture while League Memory Tables Backup is currently running - try again in a minute and if problem persists then contact administrator!!"):$("#createstatus").html("Error creating match!!")}})):$("#createstatus").html("You must enter a valid names for the teams!!")}catch(t){alert(t)}},
PopulateCreateFixtureColourDropDowns_DisplayHTML:function(a){for(var c="<select id='createhometeamcolour' name='createhometeamcolour' style='padding:0.5em;'>",f="<select id='createawayteamcolour' name='createawayteamcolour' style='padding:0.5em;'>",g=0;g<a.length;g++)c=c+"<option value='"+a[g]+"'>"+a[g]+"</option>",f=f+"<option value='"+a[g]+"'>"+a[g]+"</option>";c+="</select>";f+="</select>";$("#hometeamcolourdiv").html(c);$("#awayteamcolourdiv").html(f)}}};window.Modernizr=function(a,c,g){function f(a,b){for(var c in a)if(k[a[c]]!==g)return b=="pfx"?a[c]:!0;return!1}function b(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),h=(a+" "+p.join(d+" ")+d).split(" ");if(typeof b==="string"||typeof b==="undefined")b=f(h,b);else{h=(a+" "+r.join(d+" ")+d).split(" ");a:{var a=h,i;for(i in a)if(d=b[a[i]],d!==g){b=c===!1?a[i]:typeof d==="function"?d.bind(c||b):d;break a}b=!1}}return b}var d={},h=c.documentElement,i=c.createElement("modernizr"),k=i.style,m=" -webkit- -moz- -o- -ms- ".split(" "),
p="Webkit Moz O ms".split(" "),r="webkit moz o ms".split(" "),i={},t=[],n=t.slice,l,A=function(a,b,d,f){var g,i,k,l=c.createElement("div"),n=c.body,m=n?n:c.createElement("body");if(parseInt(d,10))for(;d--;)k=c.createElement("div"),k.id=f?f[d]:"modernizr"+(d+1),l.appendChild(k);return g=["&#173;<style>",a,"</style>"].join(""),l.id="modernizr",m.innerHTML+=g,m.appendChild(l),n||h.appendChild(m),i=b(l,a),n?l.parentNode.removeChild(l):m.parentNode.removeChild(m),!!i},D={}.hasOwnProperty,G;typeof D!==
"undefined"&&typeof D.call!=="undefined"?G=function(a,b){return D.call(a,b)}:G=function(a,b){return b in a&&typeof a.constructor.prototype[b]==="undefined"};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=n.call(arguments,1),d=function(){if(this instanceof d){var f=function(){};f.prototype=b.prototype;var f=new f,g=b.apply(f,c.concat(n.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(n.call(arguments)))};
return d});i.canvas=function(){var a=c.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")};i.backgroundsize=function(){return b("backgroundSize")};i.cssgradients=function(){var a=("background-image:"+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+m.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);k.cssText=a;return!!~(""+k.backgroundImage).indexOf("gradient")};i.localstorage=function(){try{return localStorage.setItem("modernizr",
"modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}};for(var T in i)G(i,T)&&(l=T.toLowerCase(),d[l]=i[T](),t.push((d[l]?"":"no-")+l));k.cssText="";return i=null,function(a,b){function c(){var a=l.elements;return typeof a=="string"?a.split(" "):a}function d(a){var b,f={},g=a.createElement;b=a.createDocumentFragment;for(var i=c(),k=b(),n=i.length;n--;)b=i[n],f[b]=g(b),k.createElement(b);a.createElement=function(a){var b=(f[a]||(f[a]=g(a))).cloneNode(!1);return l.shivMethods&&!h.test(a)?
k.appendChild(b):b};a.createDocumentFragment=function(){var a=k.cloneNode(!1);return l.shivMethods?(d(a),a):a}}function f(a){var b;if(!a.documentShived){if(l.shivCSS&&!i){b=a.createElement("p");var c=a.getElementsByTagName("head")[0]||a.documentElement;b=!!(b.innerHTML="x<style>article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}</style>",
c.insertBefore(b.lastChild,c.firstChild))}a=(l.shivMethods&&!k&&(b=!d(a)),b&&(a.documentShived=b),a)}return a}var g=a.html5||{},h=/^<|^(?:button|iframe|input|script|textarea)$/i,i,k;(function(){var c,d=b.createElement("a"),f=a.getComputedStyle,g=b.documentElement,h=b.body||(c=g.insertBefore(b.createElement("body"),g.firstChild));h.insertBefore(d,h.firstChild);d.hidden=!0;d.innerHTML="<xyz></xyz>";i=(d.currentStyle||f(d,null)).display=="none";k=d.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=
b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}();h.removeChild(d);c&&g.removeChild(c)})();var l={elements:g.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),shivCSS:g.shivCSS!==!1,shivMethods:g.shivMethods!==!1,type:"default",shivDocument:f};a.html5=l;f(b)}(this,c),d._version=
"2.5.2",d._prefixes=m,d._domPrefixes=r,d._cssomPrefixes=p,d.mq=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return A("@media "+b+" { #modernizr { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position=="absolute"}),d},d.testProp=function(a){return f([a])},d.testAllProps=b,d.testStyles=A,h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+t.join(" ")),d}(this,this.document);
(function(a,c,g){function f(a){return l.call(a)=="[object Function]"}function b(a){return typeof a=="string"}function d(){}function h(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function i(){var a=A.shift();D=1;a?a.t?t(function(){(a.t=="c"?I.injectCss:I.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),i()):D=0}function k(a,b,d,f,g,k,l){function m(c){if(!r&&h(p.readyState)&&(K.r=r=1,!D&&i(),p.onload=p.onreadystatechange=null,c)){a!="img"&&t(function(){u.removeChild(p)},50);for(var d in V[b])V[b].hasOwnProperty(d)&&
V[b][d].onload()}}var l=l||I.errorTimeout,p={},r=0,G=0,K={t:d,s:b,e:g,a:k,x:l};V[b]===1&&(G=1,V[b]=[],p=c.createElement(a));a=="object"?p.data=b:(p.src=b,p.type=a);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){m.call(this,G)};A.splice(f,0,K);a!="img"&&(G||V[b]===2?(u.insertBefore(p,T?null:n),t(m,l)):V[b].push(p))}function m(a,c,d,f,g){return D=0,c=c||"j",b(a)?k(c=="c"?ca:Q,a,c,this.i++,d,f,g):(A.splice(this.i++,0,a),A.length==1&&i()),this}function p(){var a=I;return a.loader=
{load:m,i:0},a}var r=c.documentElement,t=a.setTimeout,n=c.getElementsByTagName("script")[0],l={}.toString,A=[],D=0,G="MozAppearance"in r.style,T=G&&!!c.createRange().compareNode,u=T?r:n.parentNode,r=!!c.attachEvent,Q=G?"object":r?"script":"img",ca=r?"script":Q,K=Array.isArray||function(a){return l.call(a)=="[object Array]"},ha=[],V={},W={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},fa,I;I=function(a){function c(a){var a=a.split("!"),b=ha.length,d=a.pop(),f=a.length,d={url:d,origUrl:d,
prefixes:a},g,h,i;for(h=0;h<f;h++)i=a[h].split("="),(g=W[i.shift()])&&(d=g(d,i));for(h=0;h<b;h++)d=ha[h](d);return d}function h(a,b,d,k,l){var q=c(a),o=q.autoCallback;q.url.split(".").pop().split("?").shift();q.bypass||(b&&(b=f(b)?b:b[a]||b[k]||b[a.split("/").pop().split("?")[0]]||i),q.instead?q.instead(a,b,d,k,l):(V[q.url]?q.noexec=!0:V[q.url]=1,d.load(q.url,q.forceCSS||!q.forceJS&&"css"==q.url.split(".").pop().split("?").shift()?"c":g,q.noexec,q.attrs,q.timeout),(f(b)||f(o))&&d.load(function(){p();
b&&b(q.origUrl,l,k);o&&o(q.origUrl,l,k);V[q.url]=2})))}function k(a,c){function g(a,d){if(a)if(b(a))d||(q=function(){var a=[].slice.call(arguments);o.apply(this,a);n()}),h(a,q,c,0,i);else{if(Object(a)===a)for(s in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(s)&&(!d&&!--m&&(f(q)?q=function(){var a=[].slice.call(arguments);o.apply(this,a);n()}:q[s]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);n()}}(o[s])),h(a[s],q,c,s,
i))}else!d&&n()}var i=!!a.test,l=a.load||a.both,q=a.callback||d,o=q,n=a.complete||d,m,s;g(i?a.yep:a.nope,!!l);l&&g(l)}var l,n,m=this.yepnope.loader;if(b(a))h(a,0,m,0);else if(K(a))for(l=0;l<a.length;l++)n=a[l],b(n)?h(n,0,m,0):K(n)?I(n):Object(n)===n&&k(n,m);else Object(a)===a&&k(a,m)};I.addPrefix=function(a,b){W[a]=b};I.addFilter=function(a){ha.push(a)};I.errorTimeout=1E4;c.readyState==null&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",fa=function(){c.removeEventListener("DOMContentLoaded",
fa,0);c.readyState="complete"},0));a.yepnope=p();a.yepnope.executeStack=i;a.yepnope.injectJs=function(a,b,f,g,k,l){var m=c.createElement("script"),p,r,g=g||I.errorTimeout;m.src=a;for(r in f)m.setAttribute(r,f[r]);b=l?i:b||d;m.onreadystatechange=m.onload=function(){!p&&h(m.readyState)&&(p=1,b(),m.onload=m.onreadystatechange=null)};t(function(){p||(p=1,b(1))},g);k?m.onload():n.parentNode.insertBefore(m,n)};a.yepnope.injectCss=function(a,b,f,g,h,k){var g=c.createElement("link"),l,b=k?i:b||d;g.href=a;
g.rel="stylesheet";g.type="text/css";for(l in f)g.setAttribute(l,f[l]);h||(n.parentNode.insertBefore(g,n),t(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};var fbid="276786905679012",timeBetweenLightstreamConnections=12,srstarted=0,thisFixture=null,LSBound=0,ReTryBetAttempts=0,FriendScoresUpdating=0,LoginClick=0,loginFixtureID=0,listOfPreGameBetScrollers=[],listOfPreGameBetScrollerNames=[],pregamescroller=null,numPreGameplaced=0,lastInteractionTime=null,DateHelper=new Date,lastEventReceivedTime=null,CreditsWon=0,KeepAliveCount=0,displayFriendsDetals=0,WS_URL_ROOT="",gameOver=0,remainingforfeits=0,LastGoalScorer="",teamcolours,alreadycalledGameDetails=
0,connection,liveGamesSignalRProxy,liveGamesSignalRConnection,admin,keepAliveStarted=0,LastEventReceived=0,DisplayedFreezeAndThawEventIDs=[],DisplayedLeagueEventIDs=[],BetNumberJustDisplayed=0,correctedBetsNeeded=0,displaymode="w",screenwidth=-1,screenheight=-1,isFaceBookSession;
$(document).ready(function(){(isFaceBookSession=parent!==window)&&$("#"+displaymode+"_changepass").hide();screenwidth=$(window).width();screenheight=$(window).height();displaymode=screenwidth<=799?"m":"w";Login.FaceBookElementsLoaded();(function(){var a=document.createElement("script");a.async=!0;a.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(a)})();window.fbAsyncInit=function(){FB.init({appId:fbid,status:!0,cookie:!0,oauth:!0,
xfbml:!0,channelUrl:"http://"+location.host+"/channel.html"});checkIfUserInPrivateBrowsing();FB.getLoginStatus(Login.DoLoginFlow);FB.Event.subscribe("auth.login",function(a){Login.DoLoginFlow(a)});FB.Event.subscribe("auth.logout",function(){Login.SetUpSiteForLoggedOutUser(0)})};setTimeout(function(){window.scrollTo(0,1)},100);Login.DoEmailLoginChecks();if(homepagefixtureid){var a=$(window).height();$("#mobileview .promo").height(a);$(window).resize(function(){var a=$(window).height();$("#mobileview .promo").height(a)});
new Date>startDate?($("#m_kickoffcountdown").hide(),$("#w_kickoffcountdown").hide()):($("#matchcountdown").countdown({until:startDate,format:"dHMS",layout:"<span>{dn} {dl}</span><span>{hn} {hl}</span><span>{mn} {ml}</span><span>{sn} {sl}</span>"}),$("#m_matchcountdown").countdown({until:startDate,format:"HMS",layout:"<span>{hn} {hl}</span><span>{mn} {ml}</span><span>{sn} {sl}</span>"}));$(".fcrest").show()}});
try{var canvasOK=Modernizr.canvas,backgroundsizeOK=Modernizr.backgroundsize,MediaQueriesOK=Modernizr.mq("only all and (min-width: 200px)"),localStorageOK=Modernizr.localstorage;if(!canvasOK||!backgroundsizeOK||!MediaQueriesOK)window.location=location.protocol+"//"+location.host+"/Support";else if(!localStorageOK){var privatebrowsingOn=0,testKey="qeTest",storage=window.sessionStorage;try{storage.setItem(testKey,"1"),storage.removeItem(testKey)}catch(error$$4){error$$4.code===DOMException.QUOTA_EXCEEDED_ERR&&
storage.length===0&&(privatebrowsingOn=1)}window.location=privatebrowsingOn==1?location.protocol+"//"+location.host+"/Support?ei=pb":location.protocol+"//"+location.host+"/Support"}}catch(error$$5){}
function postToFeed(){FB.ui({method:"feed",link:"http://play.t5livegames.com",picture:"http://content.t5livegames.com.s3.amazonaws.com/intro-crests.png",name:"T5Live Games",caption:"Predict What Happens Next!",description:"I'm Playing Germany V Greece at T5Live Games -  Join me!"},function(a){document.getElementById("msg").innerHTML="Post ID: "+a.post_id})}var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-28469603-2"]);_gaq.push(["_trackPageview"]);
function showslide(a){$(".howtoslide").hide();$("#"+displaymode+"_howtoslide"+a).fadeIn("slow");$("body").scrollTop(0)}function replaceAll(a,c,g){return g.replace(RegExp(a,"g"),c)}function WeAreCurrentlyShowingLeagueTable(){var a=!1;displaymode=="m"?$("#panel4").is(":visible")==!0&&$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&(a=!0):$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&(a=!0);return a}
function WeAreCurrentlyShowingFriendsLeagueTable(){var a=!1;displaymode=="m"?$("#panel3").is(":visible")==!0&&$(".FriendsLeaderboard").css("display")=="block"&&(a=!0):a=!0;return a}
var freezeInDB=0,lastEventSent=0,BetValidCount=0,gameisLive=1,userLeague=new League,Store=new Store,LiveEventMessaging,schema=["Ball","EventID","timestamp","Adapter","Admin","FixtureID","HomeScore","AwayScore","EventDescription","EventLogID","EventOdds","UBD","UserID","BD","EventTime","KeepAlive","EventEndTime","BM","PE"],LSEngine,page,group,pushTable,UsersLastCreatedLeague,thisEventId,thisFixtureId,thisDescription,thisHomeScore,thisAwayScore,thisEventLogID,userBetDetails,timestamp,friendUserID,newOdds,
eventTime,eventEndTime,PreviousEvents,LastPlayerDisplayed=1,LastTeamDisplayed=1,PreGamesBetsToPlace=0,numPreGamesBetsJustPlaced=0,tempArray=[];window.sessionStorage.setItem("listOfFriendsBets",tempArray);window.sessionStorage.setItem("listOfDisplayedEvents",tempArray);window.sessionStorage.setItem("leagueview",null);window.sessionStorage.setItem("listOfFriendsScores",tempArray);window.sessionStorage.setItem("pregamebets",tempArray);
window.sessionStorage.setItem("listOfAlreadyReceivedPreGameBetOptionDetails",tempArray);window.sessionStorage.setItem("leaderboard",tempArray);window.sessionStorage.setItem("Currentbet",null);window.sessionStorage.setItem("tempBet",null);window.sessionStorage.setItem("timeOutBet",null);window.sessionStorage.setItem("fbs",0);window.sessionStorage.setItem("LeaderboardLog",null);window.sessionStorage.setItem("usersOneClickCreditValue",0);var inPowerPlay=0,betJustComplete=0,FriendsAddedToLSSchema=0;
window.sessionStorage.setItem("tempBet",null);function GetRequestParam(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return a==null?"":a[1]}function getRandomNumber(a,c){!c&&!a&&(c=1E3,a=0);return Math.floor(Math.random()*(c-a+1))+a}function iOSAppTrue(){iosApp=!0}function getPlatform(){return iosApp?2:isFaceBookSession&&(isFaceBookSession==!0||isFaceBookSession=="true"||isFaceBookSession=="True")?4:1};var isSafari=0,isChrome=0,IOSversion=-1;function LogThisInteractionTime(){numReconnectsSinceWeLastReceivedASignalRMessage=0;lastInteractionTime=(new Date).getTime()}function ReloadPage(){window.location.reload(!1)}function GetCurrentTimeStamp(){return(new Date).getTime()}function DetermineClientDetails(){DetermineIfSafari();DetermineIOSVersion()}
function DetermineIfSafari(){try{var a=navigator.userAgent.toLowerCase();a.indexOf("safari")!=-1&&(a.indexOf("chrome")>-1||a.indexOf("crios")>-1?(isSafari=0,isChrome=1):(isSafari=1,isChrome=0))}catch(c){logError("DetermineIfSafari",ex)}}
function DetermineIOSVersion(){try{IOSversion=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}catch(a){logError("DetermineIOSVersion",a)}}function HaveWeReceviedThisFreezeOrThawEventBefore(a){return DisplayedFreezeAndThawEventIDs.indexOf(a)>-1?!0:(DisplayedFreezeAndThawEventIDs.push(a),!1)}
function HaveWeReceviedThisLeagueTableBefore(a){return DisplayedLeagueEventIDs.indexOf(a)>-1?!0:(DisplayedLeagueEventIDs.push(a),!1)}DetermineClientDetails();function DoHomePageLoadLogic(){CheckGameLimits();try{var a,c=-1;try{a=JSON.parse(window.sessionStorage.getItem("facebookuser")),c=a.id}catch(g){}$.ajax({url:WS_URL_ROOT+"/Game/GetGameTrackerDetails",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+c,error:function(a,c,f){AjaxFail("GetGameTrackerDetails",a,c,f)},success:function(a){DisplayGameTracker(a)}})}catch(f){logError("GetGameTrackerDetails",f)}IOSWebViewWarning()}
function DoGamePageLoadLogic(){GetGameDetails(GetCurrentfixtureID(),GameDetailsComplete);alreadycalledGameDetails==1&&($(".pregameclick").show(),$("#BeforeMatchPreGame").show(),userLeague.GetLeagueInvites())}
function GetGameDetails(a,c){try{var g=-1;if((uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")))&&uiUser.id>0){g=uiUser.id;$.ajax({url:WS_URL_ROOT+"/Game/GetGameDetails",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+g+"&fu="+uiUser.fbuserid,error:function(a,b,c){AjaxFail("GetGameDetails",a,b,c)},success:function(a){c instanceof Function&&c(a)}});alreadycalledGameDetails=1;var f;try{f=window.sessionStorage.getItem("lim"),f==2&&($("#menubtn2").hide(),$(".FriendFeedInfo").html("<p>You have no Friends playing.</p><p style='background:#3b5998;color:#fff;border-radius:10px;-webkit-border-radius:10px;-moz-border-radius:10px;'><strong>Login using Facebook</strong> to compete against your Facebook friends that are playing.</p>"))}catch(b){}}else logError("GetGameDetails",
"calling getgame details - no user!!");IOSWebViewWarning()}catch(d){logError("GetGameDetails",d)}}
function GameDetailsComplete(a){try{if(thisFixture=a,thisFixture.v==-999)Login.ClearSessionDetails(),logError("GetGameDetailsError","-999");else if(thisFixture.a==1)$("#"+displaymode+"_leavepagemessage").html("Game has been archived! Returning to home page!!"),$("#"+displaymode+"_leavepagestatus").fadeIn(50).delay(500).fadeOut(50),setTimeout("Login.goHome();",500),logError("GetGameDetailsError","Archive");else if(thisFixture.tmp>0)window.location.href="http://liveplayfootballterms.s3-website-eu-west-1.amazonaws.com/full.html",
logError("GetGameDetailsError","PlayerLimit");else{if(PushConnectionStarted==0&&thisFixture.fixtureid>0)sp=thisFixture.sp,ap=thisFixture.ap,fp=thisFixture.fp,EstablishPushConnection();else if(PushConnectionStarted==0){window.location.href=location.protocol+"//"+location.host+"/";logError("GetGameDetailsError","DontHaveAllDetails");return}gameisLive=thisFixture.live;UpdatePreGameTickerTickerText();thisFixture.sound==1?displaymode=="m"?($("#soundbadge-off").show(),$("#soundbadge-on").hide()):$("#soundlink").html("&#10006; Turn Off Sound"):
displaymode=="m"?($("#soundbadge-off").hide(),$("#soundbadge-on").show()):$("#soundlink").html("&#10004; Turn On Sound");$(".credits").html(a.credits);$(".credits").show();if(a.currenthalf==-101){HideNonPitchDisplays();populatePitch(a);if(!admin||!admin.isAdmin())$(".match-notstarted").show(),$(".match_desc").html("<span class='home_team_desc'>"+a.hometeam+"</span><span class='seperator'>V</span><span class='away_team_desc'>"+a.awayteam+"</span>"),$(".game-desc-image").attr({src:"https://d2q72sm6lqeuqa.cloudfront.net/images/game-intro.png",
alt:a.hometeam+" V "+a.awayteam});HidePitch()}else a.currenthalf==-102?DisplayHalfTime(a.hometeam,a.awayteam,a.homescore,a.awayscore,a.fixtureid):a.currenthalf==-103?(DisplayFullTime(a.hometeam,a.awayteam,a.homescore,a.awayscore,a.fixtureid),admin&&admin.isAdmin()):populatePitch(a);remainingforfeits=a.remainingforfeits;DisplayHigherCreditsAvailabilityToUserV2(a.unlockcredits,a.numbetsplaced,a.numbetstounlockhigherlevel);LiveHelper.SavePowerPlayTimeRemaining(a.remainingPowerPlaySecs);if(LiveHelper.GetPowerPlayTimeRemaining()>
0)showPowerPlayTimer(),inPowerPlay=1;else if(a.remainingpowerplays==0)RemovePowerPlayTimer(-1);else{var c="<span>"+a.remainingpowerplays+"</span>Power Play";a.remainingpowerplays>1&&(c+="s");$("#"+displaymode+"_powerplayclickbtn").html(c)}oneClickBetValue=a.oneClickBetValue;oneClickBetValue>0&&(localStorage.getItem("usersOneClickCreditValue")!=null&&localStorage.removeItem("usersOneClickCreditValue"),localStorage.setItem("usersOneClickCreditValue",GetCurrentfixtureID()+"-"+oneClickBetValue));voidOffset=
a.voidOffset;if(a.activebet){Currentbet=a.activebet;try{Currentbet.odds=Currentbet.odds.toFixed(2)}catch(g){}window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet));remainingforfeits>0&&($(".forfeitclick").show(),$("#"+displaymode+"_forfeitnum").html(remainingforfeits))}else Currentbet=null,window.sessionStorage.setItem("Currentbet",Currentbet);populatePitchOdds(a);Currentbet!=null&&Currentbet.status==0&&($("#"+displaymode+"_bubble"+Currentbet.eventid).removeClass("bubble"),$("#"+displaymode+
"_bubble"+Currentbet.eventid).addClass("bubble_active"),$("#"+displaymode+"_bubble"+Currentbet.eventid).html(""+Currentbet.amount+""));a.events&&DisplayGameTracker(a.events);a.justjoinedgame>0?NotifyFriendsThatUserHasJoinedGame(friendsNotified)<0&&setTimeout("NotifyFriendsThatUserHasJoinedGame(friendsNotified,1);",5E3):GetPreGameBetDetails(!0,1);userLeague.GetDefaultLeague();admin&&admin.isAdmin()&&admin.configureStartButtons()}}catch(f){logError("GameDetailsComplete",f)}}
function CheckGameLimits(){try{var a,c=-1,g="";try{a=JSON.parse(window.sessionStorage.getItem("facebookuser")),c=a.id,g=a.fbuserid}catch(f){}$.ajax({url:WS_URL_ROOT+"/Game/CheckGameLimits",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+c+"&fu="+g,error:function(a,b,c){EstablishPushConnection();AjaxFail("CheckGameLimits",a,b,c)},success:function(a){a>0||EstablishPushConnection()}})}catch(b){EstablishPushConnection(),logError("GetGameTrackerDetails",b)}}
var LiveHelper=function(){var a;return{SavePowerPlayTimeRemaining:function(c){a=c},GetPowerPlayTimeRemaining:function(){return a}}}(),uiUser,Currentbet,lastUpdateID,teamPlayingFromLeftToRight,teamPlayingFromRightToLeft,iosApp=!1;function GetCurrentfixtureID(){var a=GetRequestParam("f");!a&&homepagefixtureid&&(a=homepagefixtureid);return a}function CastToDecimal(a){try{return(""+a).indexOf(".")>0?a:a.toFixed(2)}catch(c){logError("CastToDecimal",c)}}
function IOSWebViewWarning(){if(IOSversion>0&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)){var a=0;try{localStorage.getItem("IOSWebViewWarning")!=null&&(a=1)}catch(c){}a==0&&window.setTimeout(function(){alert("For the best gaming experience open this page in Safari using the 'Open in Safari' link in the app menu");localStorage.setItem("IOSWebViewWarning",1)},100)}}
function HidePitch(){try{$(".headline").hide(),$(".pitch-container").hide(),$(".pitch-icons").hide(),$(".pitch").hide(),$(".headline").hide(),$(".helpclick").hide(),$(".forfeitclick").hide(),$(".powerplayclick").hide(),displaymode!="m"?($("#"+displaymode+"_phonepowerplay").hide(),$("#"+displaymode+"_powerplaytimertext").hide(),$("#"+displaymode+"_powerplaytimerlabel").hide()):$("#"+displaymode+"_powerplaytimertext").hide()}catch(a){logError("HidePitch",a)}}
function HideNonPitchDisplays(){try{$(".match-notstarted").hide(),$(".halftime").hide(),$(".fulltime").hide()}catch(a){logError("HideNonPitchDisplays",a)}}
function ShowPitch(){try{$(".headline").show(),$(".pitch-container").show(),$(".pitch-icons").show(),$(".pitch").show(),$(".headline").show(),$(".helpclick").show(),$(".powerplayclick").show(),$("#"+displaymode+"_phonepowerplay").show(),$("#"+displaymode+"_powerplaytimertext").show(),$("#"+displaymode+"_powerplaytimerlabel").show(),$("#powerplayclickbtn2 span").html(thisFixture.remainingpowerplays)}catch(a){logError("ShowPitch",a)}}
function GetLastEvent(a){try{$.ajax({url:WS_URL_ROOT+"/Game/GetLastEventFixture",type:"POST",data:"fixtureID="+GetCurrentfixtureID(),error:function(a,c,b){AjaxFail("GetLastEvent",a,c,b)},success:function(c){a instanceof Function&&a(c)}})}catch(c){logError("GetLastEvent",c)}}function DisplayLastEvent(a){try{a.eventid&&a.eventid>0&&UpdateGameEvent(a.f,a.e,a.u,a.h,a.a,a.d,new Date(a.et),new Date(a.eet))}catch(c){logError("DisplayLastEvent",c)}}
function powerplaypopup(){try{if(inPowerPlay!=1)if(thisFixture.remainingpowerplays<=0)$(".storepopup").fadeIn("fast"),Store.GetStoreItems("power");else{var a;try{a=JSON.parse(window.sessionStorage.getItem("dontShowPowerPlayPopup"))}catch(c){}var g=-1,f=-1;if(a){var b=a.split("-"),g=parseInt(b[0]);g==GetCurrentfixtureID()&&(f=parseInt(b[1]))}f!=1&&(a='<h4 class=\'PPStart\'>Start Power Play now?</h4><br clear="all"/><br clear="all"/>',a+='<h4>Your odds are going to double for the next 10 minutes! <br clear="all"/><br clear="all"/>',
thisFixture.remainingpowerplays==1?a+="You currently have only 1 power play - but remember you can buy more in the store at any time!!</h4>":thisFixture.remainingpowerplays>1&&(a+="You currently have "+thisFixture.remainingpowerplays+" power plays remaining!!</h4>"),$("#"+displaymode+"_powerplaypopup").animate({top:"5%"},300),$("#"+displaymode+"_powerplaypopup").attr("style","display:block;z-index:900;"),$("#"+displaymode+"_powerplaypopup .text").html(a),$("#"+displaymode+"_powerplayconfirmbutton").attr("onClick",
"startpowerplay()"))}}catch(d){logError("powerplaypopup",d)}}
function startpowerplay(){try{if(thisFixture.currenthalf<0)closepowerplaypopup(),displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>You can only start a power play when the game is on!!!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("You can only start a power play when the game is on!"),$(".popup-notify > span").text(""),
$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200));else{var a=-1;if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")))a=uiUser.id,$.ajax({url:WS_URL_ROOT+"/Game/StartPowerPlay",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+"&userid="+a+"&fu="+uiUser.fbuserid,error:function(a,c,b){AjaxFail("startpowerplay",a,c,b)},success:function(a){powerplayused=1;var c=a.inPowerPlay;if(c==0||c==1)inPowerPlay=1,GameDetailsComplete(a),_gaq.push(["_trackEvent","Clicks","PowerPlay"]),$(".popup-notify-powerplay > h1").text("Power Play Started!"),
$(".popup-notify-powerplay").fadeIn(200).delay(3E3).fadeOut(200)}});closepowerplaypopup();$("#powerplayclickbtn2 span").html(thisFixture.remainingpowerplays)}}catch(c){logError("startpowerplay",c)}}function powerplaypopupTest(){$("#m_powerplaytimertest").countdown({until:20,compact:!0,format:"MS"})}
function showPowerPlayTimer(){try{$("#"+displaymode+"_powerplaytimertext").is(":visible")==!0?logError("ppDebug","_powerplaytimertext IS visible - "+$("#"+displaymode+"_powerplaytimertext").is(":visible")):logError("ppDebug","_powerplaytimertext is NOT visible - "+$("#"+displaymode+"_powerplaytimertext").is(":visible"));logError("ppDebug","about to start pp!!!");logError("ppDebug","html is "+$("#"+displaymode+"_powerplaytimertext").html()+" remainingPowerPlaySecs is "+LiveHelper.GetPowerPlayTimeRemaining());
$("#"+displaymode+"_powerplaytimertext").countdown({until:LiveHelper.GetPowerPlayTimeRemaining(),compact:!0,onExpiry:RemovePowerPlayTimer,format:"MS"});logError("ppDebug","PP1!");try{slider(0)}catch(a){}logError("ppDebug","PP2!");var c="<span>"+thisFixture.remainingpowerplays+"</span>Activated!";$("#"+displaymode+"_powerplayclickbtn").html(c);$("#powerplayclickbtn2 span").html(thisFixture.remainingpowerplays);logError("ppDebug","PP3!")}catch(g){logError("ShowPowerPlayTimer",g)}}
function RemovePowerPlayTimer(a){try{if(inPowerPlay=0,$(".pitch").is(":visible")){var c;c="<span>"+thisFixture.remainingpowerplays+"</span>Power Play";thisFixture.remainingpowerplays!=1&&(c+="s");$("#"+displaymode+"_powerplayclickbtn").html(c);$("#powerplayclickbtn2 span").html(thisFixture.remainingpowerplays);$("#"+displaymode+"_powerplayclickbtn").html(c);$("#"+displaymode+"_powerplaytimertext").countdown("destroy");$("#"+displaymode+"_powerplaytimertext").html("10.00");c=-1;if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")))if(c=
uiUser.id,a!=-1){try{slider(0)}catch(g){}$(".popup-notify-powerplay > h1").text("Power Play Ended!");$(".popup-notify-powerplay").fadeIn(200).delay(3E3).fadeOut(200);displaymode=="m"&&thisFixture.remainingpowerplays>0&&$("#phonepowerplaybadge").attr("style","opacity:1;");$.ajax({url:WS_URL_ROOT+"/Game/GetGameDetails",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+c+"&fu="+uiUser.fbuserid,error:function(a,c,f){AjaxFail("GetGameDetails",a,c,f)},success:function(a){GameDetailsComplete(a)}})}}else $("#"+
displaymode+"_powerplaytimertext").countdown("destroy")}catch(f){logError("RemovePowerPlayTimer",f)}}
function DisplayGameTracker(a){var c=[],g="";window.sessionStorage.setItem("listOfDisplayedEvents",c);for(var f="",b=0;b<a.length;b++)try{try{a[b].d=a[b].d.replace("^","<span class='min'>"),a[b].d=a[b].d.replace("~","</span>")}catch(d){}if(a[b].d.toLowerCase().indexOf("ref says")>0)f=f+a[b].d+"<br />";else if(a[b].d.toLowerCase().indexOf("win")>0||a[b].d.toLowerCase().indexOf("won")>0)f=f+"<b class='wintext'>"+a[b].d+"</b><br />";else if(a[b].d.toLowerCase().indexOf("lose")>0||a[b].d.toLowerCase().indexOf("lost")>
0||a[b].d.toLowerCase().indexOf("too late")>0)f=f+"<b class='losetext'>"+a[b].d+"</b><br />";else if(a[b].d.toLowerCase().indexOf("made")>0)f=f+"<b class='bettext'>"+a[b].d+"</b><br />";else if(a[b].d.toLowerCase().indexOf("invite")>0)a[b].d.toLowerCase().indexOf("accept_0")>0&&(g+=a[b].d);else try{f=a[b].e==19||a[b].e==20?f+AddPredictionsToEvents(null,a[b].d,a[b].e,a[b].c)+"<br />":f+a[b].d+"<br />"}catch(h){f=f+a[b].d+"<br />"}c.push(a[b].u)}catch(i){}window.sessionStorage.setItem("listOfDisplayedEvents",
$.toJSON(c));$(".GameFeedInfo").html(f);refreshScroller(GameFeedScroller,"GameFeedInfo");GetRequestParam("f")&&($("#"+displaymode+"_MyleagueInvites").html(g),refreshScroller(leaderboardScroller,"MyleagueInvites"))}
function DisplayHigherCreditsAvailabilityToUserV2(a,c,g,f){try{a>100?($(".unlockcreditsDiv_locked").fadeOut("slow"),$(window).width()>=799?$(".unlockcreditsDiv").fadeIn("slow").animate({top:"150px"},1E3):($("#lockedcreditsbadge").fadeOut("slow"),$("#lockedcreditsbadge").fadeOut("slow",function(){$("#unlockedcreditsbadge").fadeIn("slow")})),displaymode=="w"&&$("#"+displaymode+"_unlockcreditsSpan").html("You unlocked the <strong>"+a+"</strong> Credit Limit!"),f&&SetTickerContent("creditLimit_ticker",
GetCreditLimitTickerText(0)),a==200&&($("#"+displaymode+"_BonusCredits200").show(),$("#"+displaymode+"_StoreBonusCredits200").show())):(c==0?$("#"+displaymode+"_UnlockNumBetsSpan").html("<strong>"+g+"</strong> predictions"):(a=g-c,a==1?$("#"+displaymode+"_UnlockNumBetsSpan").html("<strong>1</strong> more prediction!!"):$("#"+displaymode+"_UnlockNumBetsSpan").html("<strong>"+a+"</strong> more predictions"),betJustComplete==1&&(betJustComplete=0,$(".betnum").html(a),$(".betnum").show(),$(".betnum").animate({position:"absolute",
top:"100px",right:"40px",fontSize:"45px",opacity:"0.0"},2E3,function(){$(".betnum").hide();$(".betnum").css({top:"",fontSize:"",opacity:""})}),BetNumberJustDisplayed=a),f&&SetTickerContent("creditLimit_ticker",GetCreditLimitTickerText(a))),$(".unlockcreditsDiv_locked").show())}catch(b){logError("DisplayHigherCreditsAvailabilityToUserV2",b)}}
function DisplayHigherCreditsAvailabilityToUser(a){try{a>100&&($(".unlockcreditsDiv_locked").fadeOut("slow"),$(window).width()>=799?$(".unlockcreditsDiv").fadeIn("slow").animate({top:"150px"},1E3):($(".unlockcreditsDiv").fadeIn("slow").animate({top:"0px"},1E3),$("#lockedcreditsbadge").fadeOut("slow",function(){$("#unlockedcreditsbadge").fadeIn("slow")})),$("#"+displaymode+"_unlockcreditsSpan").html("You unlocked the <strong>"+a+"</strong> Credit Limit!"),a==200&&($("#"+displaymode+"_BonusCredits200").show(),
$("#"+displaymode+"_StoreBonusCredits200").show()))}catch(c){logError("DisplayHigherCreditsAvailabilityToUser",c)}}
function AddPredictionsToEvents(a,c,g,f){try{if(g==19)if(f==1){a&&(a.numfreesfirsthalf+=1);var b=localStorage.getItem("predictedFirstHalfFrees");if(b){var d=b.split("_"),h=d[0],i=GetRequestParam("f");i==h&&(c=c+" - You predicted between "+d[1].replace("-"," and "))}}else{a&&(a.numfreessecondhalf+=1);var k=localStorage.getItem("predicted2ndHalfFrees");k&&(d=k.split("_"),h=d[0],i=GetRequestParam("f"),i==h&&(c=c+" - You predicted between "+d[1].replace("-"," and ")))}else if(g==20)if(f==1){a&&(a.numthrowsfirsthalf+=
1);var m=localStorage.getItem("predictedFirstHalfThrows");m&&(d=m.split("_"),h=d[0],i=GetRequestParam("f"),i==h&&(c=c+" - You predicted between "+d[1].replace("-"," and ")))}else{a&&(a.numthrowssecondhalf+=1);var p=localStorage.getItem("predicted2ndHalfThrows");p&&(d=p.split("_"),h=d[0],i=GetRequestParam("f"),i==h&&(c=c+" - You predicted between "+d[1].replace("-"," and ")))}}catch(r){logError("AddPredictionsToEvents",ex)}return c}
function DisplayHalfTime(a,c,g,f){HideNonPitchDisplays();$(".halftime").show();$(".match_desc").html("<span class='home_team_desc'>"+a+"</span><span class='score_desc'>"+g+" - "+f+"</span><span class='away_team_desc'>"+c+"</span>");$(".game-desc-image").attr({src:"https://d2q72sm6lqeuqa.cloudfront.net/images/game-intro.png",alt:a+" V "+c});HidePitch();admin&&admin.isAdmin()&&admin.halfTimeSetup()}
function DisplayFullTime(a,c,g,f){gameOver=1;HideNonPitchDisplays();$(".fulltime").show();$(".match_desc").html("<span class='home_team_desc'>"+a+"</span><span class='score_desc'>"+g+" - "+f+"</span><span class='away_team_desc'>"+c+"</span>");$(".game-desc-image").attr({src:"https://d2q72sm6lqeuqa.cloudfront.net/images/game-intro.png",alt:a+" V "+c});HidePitch();admin&&admin.isAdmin()&&admin.fullTimeSetup()}
function populatePitchOdds(a){if(a.eventodds)for(var c=0;c<a.eventodds.length;c++)if($("#"+displaymode+"_bubble"+a.eventodds[c].e).html(a.eventodds[c].o+"/1"),Currentbet&&Currentbet.eventid==a.eventodds[c].e&&Currentbet.odds!=a.eventodds[c].o)Currentbet.newodds=a.eventodds[c].o,window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet))}
function populatePitch(a){try{var c="",g,f,b,d,h,i,k,m,p,r;a.currenthalf==1||a.currenthalf==-101?a.firsthalfleftteam==a.hometeam?(teamPlayingFromLeftToRight=a.hometeam,teamPlayingFromRightToLeft=a.awayteam,k=a.hometeamcolour,m=a.awayteamcolour):(teamPlayingFromLeftToRight=a.awayteam,teamPlayingFromRightToLeft=a.hometeam,m=a.hometeamcolour,k=a.awayteamcolour):a.firsthalfleftteam==a.hometeam?(teamPlayingFromLeftToRight=a.awayteam,teamPlayingFromRightToLeft=a.hometeam,m=a.hometeamcolour,k=a.awayteamcolour):
(teamPlayingFromLeftToRight=a.hometeam,teamPlayingFromRightToLeft=a.awayteam,k=a.hometeamcolour,m=a.awayteamcolour);$("#"+displaymode+"_home_team").html(a.hometeam);$("#"+displaymode+"_away_team").html(a.awayteam);teamPlayingFromLeftToRight==a.hometeam?(g=1,f=4,b=5,d=3,h=6,i=7,RightSaveEventID=17,LeftSaveEventID=18,p=15,r=16):(g=3,f=6,b=7,d=1,h=4,i=5,LeftSaveEventID=17,RightSaveEventID=18,r=15,p=16);$("#"+displaymode+"_home_score").html(a.homescore);$("#"+displaymode+"_away_score").html(a.awayscore);
c=c+'<div class="home-corner icon-corner-'+m+'" onClick="betpupup(\'CORNER FOR '+teamPlayingFromRightToLeft+"', "+g+');"></div><div id="'+displaymode+"_bubble"+g+'" class="bubble-home-corner bubble"></div>';c=c+'<div class="home-goal icon-goal-'+m+'" onClick="betpupup(\'GOAL FOR '+teamPlayingFromRightToLeft+"', "+f+');"></div><div id="'+displaymode+"_bubble"+f+'" class="bubble-home-goal bubble"></div>';c=c+'<div class="home-wide icon-wide-'+m+'"  onClick="betpupup(\'WIDE BY '+teamPlayingFromRightToLeft+
"', "+b+');"></div><div id="'+displaymode+"_bubble"+b+'" class="bubble-home-wide bubble"></div>';c=c+'<div class="away-save icon-save-'+k+'"  onClick="betpupup(\'SAVE BY '+teamPlayingFromLeftToRight+"', "+RightSaveEventID+');"></div><div id="'+displaymode+"_bubble"+RightSaveEventID+'" class="bubble-away-save bubble"></div>';admin&&admin.isAdmin()&&(c=c+'<div class="home-peno icon-goal-'+m+'"  onClick="betpupup(\'Peno For '+teamPlayingFromRightToLeft+"', "+r+');"></div><div id="'+displaymode+"_bubble"+
r+'" class="bubble-home-peno bubble"></div>');c=c+'<div class="gen-free icon-free-gen" onClick="betpupup(\'FREE-KICK\', 19);"></div><div id="'+displaymode+'_bubble19" class="bubble-free bubble"></div>';c=c+'<div class="gen-throw icon-throw-gen" onClick="betpupup(\'THROWIN\', 20);"></div><div id="'+displaymode+'_bubble20" class="bubble-throw bubble"></div>';admin&&admin.isAdmin()&&(c=c+'<div class="away-peno icon-goal-'+k+'"  onClick="betpupup(\'Peno For '+teamPlayingFromLeftToRight+"', "+p+');"></div><div id="'+
displaymode+"_bubble"+p+'" class="bubble-away-peno bubble"></div>');c=c+'<div class="home-save icon-save-'+m+'"  onClick="betpupup(\'SAVE BY '+teamPlayingFromRightToLeft+"', "+LeftSaveEventID+');"></div><div id="'+displaymode+"_bubble"+LeftSaveEventID+'" class="bubble-home-save bubble"></div>';c=c+'<div class="away-corner icon-corner-'+k+'" onClick="betpupup(\'CORNER FOR '+teamPlayingFromLeftToRight+"', "+d+');"></div><div id="'+displaymode+"_bubble"+d+'" class="bubble-away-corner bubble"></div>';
c=c+'<div class="away-goal icon-goal-'+k+'" onClick="betpupup(\'GOAL FOR '+teamPlayingFromLeftToRight+"', "+h+');"></div><div id="'+displaymode+"_bubble"+h+'" class="bubble-away-goal bubble"></div>';c=c+'<div class="away-wide icon-wide-'+k+'" onClick="betpupup(\'WIDE BY '+teamPlayingFromLeftToRight+"', "+i+');"></div><div id="'+displaymode+"_bubble"+i+'" class="bubble-away-wide bubble"></div>';HideNonPitchDisplays();$("."+displaymode+"_pitch-icons").html(c);ShowPitch();$(".gameinfo").show()}catch(t){logError("populatePitch",
t)}}
function updateFixtureDetails(a){a=a.split("^");thisFixture.hometeamcolour=a[0];thisFixture.awayteamcolour=a[1];thisFixture.firsthalfleftteam=a[2];thisFixture.voidOffset=parseInt(a[3]);voidOffset=thisFixture.voidOffset;populatePitch(thisFixture);populatePitchOdds(thisFixture);var c;try{c=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(g){}c!=null&&c.status==0&&($("#"+displaymode+"_bubble"+c.eventid).removeClass("bubble"),$("#"+displaymode+"_bubble"+c.eventid).addClass("bubble_active"),$("#"+
displaymode+"_bubble"+c.eventid).html(""+c.amount+""))}
function MatchStartEvents(a,c,g,f,b){try{if(a==11){playsound("gamestart");$(".helpclick").show();admin&&admin.isAdmin()?GetGameDetails(GetCurrentfixtureID(),GameDetailsComplete):(thisFixture.currenthalf=1,updateFixtureDetails(b),UpdatePreGameTickerTickerText());if(displaymode=="m"){var d=1;$(".panel").hide();$(".coda-nav a").removeAttr("class");$("#panel"+d).fadeIn("fast");$(".tab"+d+" a").attr("class","current")}return!1}else if(a==12){try{if($("#"+displaymode+"_powerplaytimertext").is(":visible")==
!0){var h=$("#"+displaymode+"_powerplaytimertext").countdown("getTimes"),i=h[5],k=h[6];if(i>0||k>0)LiveHelper.SavePowerPlayTimeRemaining(i*60+k),$("#"+displaymode+"_powerplaytimertext").countdown("destroy")}}catch(m){}thisFixture.currenthalf=-102;$(".GameFeedInfo").prepend("<b>Half Time</b> <br />");refreshScroller(GameFeedScroller,"GameFeedInfo");DisplayHalfTime(thisFixture.hometeam,thisFixture.awayteam,c,g,thisFixture.fixtureid);var p;try{p=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(r){}if(p&&
p.status==0){$(".forfeitclick").hide();$(".GameFeedInfo").prepend("<span class='losetext'>BET VOID [Half-Time] - CREDITS RETURNED</span><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var t=JSON.parse(window.sessionStorage.getItem("facebookuser"));t.credits+=p.amount;window.sessionStorage.setItem("facebookuser",$.toJSON(t));$(".credits").html(t.credits);p.status=-102;UpdateFriendScoresWithBetResult(p);ReOrderFriendsScoresBasedOnCurrentScore();window.sessionStorage.setItem("Currentbet",$.toJSON(p))}else playsound("halftime");
updateFriendsBetStatus(a,null);return!1}else if(a==13){playsound("secondhalf");try{LiveHelper.GetPowerPlayTimeRemaining()>0&&showPowerPlayTimer()}catch(n){}$(".GameFeedInfo").prepend("<b>And we're off again!!</b> <br />");refreshScroller(GameFeedScroller,"GameFeedInfo");admin&&admin.isAdmin()?GetGameDetails(GetCurrentfixtureID(),GameDetailsComplete):(thisFixture.currenthalf=2,populatePitch(thisFixture),populatePitchOdds(thisFixture));displaymode=="m"&&(d=1,$(".panel").hide(),$(".coda-nav a").removeAttr("class"),
$("#panel"+d).fadeIn("fast"),$(".tab"+d+" a").attr("class","current"));$(".helpclick").show();return!1}else return a==21?!1:a==24||a==26||a==15||a==16||a==27?(f!=null&&($(".GameFeedInfo").prepend(f+"<br />"),refreshScroller(GameFeedScroller,"GameFeedInfo")),!1):!0}catch(l){logError("MatchStartEvents",l)}}
function ChangeSound(){var a;thisFixture.sound==1?(a=0,displaymode=="m"?($("#soundbadge-off").hide(),$("#soundbadge-on").show()):$("#soundlink").html("&#10004; Turn On Sound")):(a=1,displaymode=="m"?($("#soundbadge-on").hide(),$("#soundbadge-off").show()):$("#soundlink").html("&#10006; Turn Off Sound"));thisFixture.sound=a;try{var c=JSON.parse(window.sessionStorage.getItem("facebookuser"));c&&$.ajax({url:WS_URL_ROOT+"/Game/SetSound",type:"POST",data:"fu="+c.fbuserid+"&u="+c.id+"&s="+a,error:function(a,
b,c){AjaxFail("SetSound",a,b,c)},success:function(){}})}catch(g){logError("SetSound",g)}}
function playsound(a){try{if(thisFixture.sound==1){var c;switch(a){case "gamestart":c="whistle.mp3";break;case "halftime":c="whistle.mp3";break;case "secondhalf":c="whistle.mp3";break;case "gameover":c="whistle.mp3";break;case "win":c="cheer_8k.mp3";break;case "lose":c="sadtrombone.mp3";break;case "void":c="pan.mp3"}var g;g=document.getElementById("audio");g.load();g.src="/Content/sounds/"+c;g.play()}}catch(f){logError("playsound",f)}}
function storeOneClickCreditValue(){try{var a=parseInt($("#"+displaymode+"_creditsmanager input:checked").val());a||(a=0);localStorage.getItem("usersOneClickCreditValue")!=null&&localStorage.removeItem("usersOneClickCreditValue");localStorage.setItem("usersOneClickCreditValue",GetCurrentfixtureID()+"-"+a);var c=-1;if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")))c=uiUser.id,$.ajax({url:WS_URL_ROOT+"/Game/StoreOneClickCreditValue",type:"POST",data:"fixtureID="+GetCurrentfixtureID()+
"&userid="+c+"&oneClickVlaue="+a,error:function(a,b,c){AjaxFail("StoreOneClickCreditValue",a,b,c)},success:function(){}});_gaq.push(["_trackEvent","Clicks","SetOneClickBet","",parseInt(a)])}catch(g){logError("storeOneClickCreditValue",g)}ToggleCreditsmanager()}function getUsersOneClickCreditValue(){var a=0;try{var c=localStorage.getItem("usersOneClickCreditValue");if(c){var g=c.split("-"),f=g[0];GetRequestParam("f")==f&&(a=parseInt(g[1]))}}catch(b){}return a}
function MakeSurePitchIsDisplayed(a){if(a!=24&&a!=26&&a!=27&&displaymode=="w"&&$(".pitch").is(":visible")!=!0){var c=GetRequestParam("f");GetGameDetails(c,GameDetailsComplete);logError("MakeSurePitchIsDisplayed","MatchEventReceived while pitch not displayed!!!!!! eventid is  "+a,"","")}}function UpdateLatestEventReceived(a){lastEventReceivedTime?a>lastEventReceivedTime&&(lastEventReceivedTime=a):lastEventReceivedTime=a}
function FriendsBetIsUpToDate(a){return lastEventReceivedTime?new Date(a.eventtime)>lastEventReceivedTime?!0:!1:!0}
function CheckWeHaveReceivedAllRecentMessages(a){try{for(var c=!0,g=a.split(","),a=0;a<g.length;a++)if(!HaveWeDisplayedThisEventBefore(g[a])){c=!1;logError("CheckWeHaveReceivedAllRecentMessages","We missed at least one event. Reloading GameDetails!!!!!!!","","");GetGameDetails(GetCurrentfixtureID(),GameDetailsComplete);break}}catch(f){logError("CheckWeHaveReceivedAllRecentMessages",f)}return c}
function UpdateGameEvent(a,c,g,f,b,d,h,i,k,m){try{if(GetCurrentfixtureID()==a&&a>0){var p=HaveWeDisplayedThisEventBefore(g),r=CheckWeHaveReceivedAllRecentMessages(k);if(!p&&g>0&&r){UpdateLatestEventReceived(h);if(MatchStartEvents(c,f,b,d,m)){$("#"+displaymode+"_home_score").html(f);$("#"+displaymode+"_away_score").html(b);if(checkBetStatusNew(c,h,i)==-200)setTimeout("GetGameDetails("+a+", GameDetailsComplete);",500);else if(d!=null){if(c==19||c==20)d=AddPredictionsToEvents(thisFixture,d,c,thisFixture.currenthalf);
$(".GameFeedInfo").prepend(d+"<br />");refreshScroller(GameFeedScroller,"GameFeedInfo")}updateFriendsBetStatus(c,h,i);if(c==14)DisplayFullTime(thisFixture.hometeam,thisFixture.awayteam,f,b,thisFixture.fixtureid),thisFixture.currenthalf=-103;else if(c==4||c==6){var t=d.indexOf(" - ");LastGoalScorer=t>0?d.substring(t+3):""}c!=14&&MakeSurePitchIsDisplayed(c)}updatePreGamebets(c,f,b);userLeague.id==thisFixture.defaultleagueid&&AddMyScoreToOverAllLeaderBoard()}else{var n=JSON.parse(window.sessionStorage.getItem("facebookuser"));
logError("Event Debug",n.name+" is Not showing event.updateId is '"+g+"' ,WeDisplayedThisEventBefore '"+p+"' ,WeHaveReceivedAllRecentMessages is '"+r+"'")}}}catch(l){logError("UpdateGameEventFromLightStreamer",l)}}
function HaveWeDisplayedThisEventBefore(a){try{var c;try{c=window.sessionStorage.getItem("listOfDisplayedEvents")}catch(g){}var f;if(typeof c!="undefined"&&c!=null&&c!="")if(f=typeof c!="object"?JSON.parse(c):c,a="e"+a,typeof f!="undefined"&&f!=null)for(c=0;c<=f.length-1;c++){if(f[c]==a)return!0}else f=[];else f=[];f.push(a);window.sessionStorage.setItem("listOfDisplayedEvents",$.toJSON(f))}catch(b){logError("listOfDisplayedEvents",b)}return!1}
function forfeitpopup(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("dontShowForfeitPopup"))}catch(c){}if(a==1)forfeitbet();else{var g;try{g=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(f){}var b;g!=null&&g.status==0?(b="Are you sure that you want to cancel your prediction and lose your "+g.amount+" credits?",b+='<br clear="all"/>',b+=remainingforfeits>1?'<br clear="all"/> You have '+remainingforfeits+" forfeits remaining!":'<br clear="all"/> You only have '+remainingforfeits+
" forfeit remaining!",$("#"+displaymode+"_forfeitconfirm").animate({top:"55px"},300),$("#"+displaymode+"_forfeitconfirm").attr("style","display:block;z-index:903;"),$("#"+displaymode+"_forfeitconfirm h4").html(b),$("#"+displaymode+"_forfeitconfirmbutton").attr("onClick","forfeitbet()")):$(".forfeitclick").hide()}}catch(d){logError("forfeitpopup",d)}}
function betpupup(a,c){try{uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));if(uiUser==null)return displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>Sign in with Facebook to Play!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("Sign in with Facebook to Play!"),
$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)),!1;if(admin&&admin.isAdmin())admin.inPreview()!=1&&admin.sendEvent(c,a);else{var g;try{g=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(f){}if(g!=null&&g.status==0)return LastEventReceived==22?displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>Can't place a bet right now - waiting for the referee's decision!!!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),
$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("Can't place a bet right now - waiting for the referee's decision!!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)):displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>You have already made a prediction!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),
$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("You have already made a prediction!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)),!1;var b;try{b=JSON.parse(window.sessionStorage.getItem("tempBet"))}catch(d){}if(b!=null)return displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>You must wait until your previous prediction has finished processing!!!</strong>!"),
$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("You must wait until your previous prediction has finished processing!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)),!1;getUsersOneClickCreditValue()>0?prepareBet(c):($("#"+displaymode+"_popupplacebet").animate({top:"55px"},
300),$("#"+displaymode+"_popupplacebet").attr("style","display:block;z-index:900;"),$("#"+displaymode+"_popupplacebet h4").html("You have selected <span style='color:#FFFFCC;'>'"+a+"'</span>, How many credits do you want to risk?"),$("#"+displaymode+"_confirm").attr("onClick","prepareBet("+c+")"))}}catch(h){logError("betpupup",h)}}
function prepareBet(a){try{var c=10,g=getUsersOneClickCreditValue();if((c=g>0?g:parseInt($("#"+displaymode+"_popupplacebet input:checked").val()))&&c>0){uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));var f=new Bet(a,GetCurrentfixtureID(),c,uiUser.id);f.user=uiUser;window.sessionStorage.setItem("tempBet",$.toJSON(f));$("#"+displaymode+"_bubble"+a).removeClass("bubble");$("#"+displaymode+"_bubble"+a).addClass("bubble_loading");$("#"+displaymode+"_popupplacebet").hide();ReTryBetAttempts=
0;placeBet(BetComplete,f)}else displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>You must select an amount!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("You must select an amount!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200))}catch(b){logError("prepareBet",
b)}}
function placeBet(a,c,g){if(g==1)try{c=JSON.parse(window.sessionStorage.getItem("timeOutBet"))}catch(f){}else if(!c||typeof c=="undefined")try{c=JSON.parse(window.sessionStorage.getItem("tempBet"))}catch(b){}try{var d=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/PlaceBet",type:"POST",timeout:7E3,data:"u="+d.id+"&e="+c.eventid+"&f="+GetCurrentfixtureID()+"&a="+c.amount+"&fu="+d.fbuserid,success:function(b){a instanceof Function&&a(b)},error:function(a,b){b==
"timeout"?ReTryBetAttempts<1?(ReTryBetAttempts+=1,window.sessionStorage.setItem("timeOutBet",$.toJSON(c)),setTimeout("placeBet(BetComplete,null,1);",1500)):(logError("placeBet","Failed to place bet - 2 times in a row. Reloading page!!!!!!!","",""),location.reload(!1)):BetNotPlaced(c)}});window.sessionStorage.setItem("tempBet",null);window.sessionStorage.setItem("Currentbet",$.toJSON(c))}catch(h){logError("placeBet",h)}}
function BetComplete(a){try{if(ReTryBetAttempts=0,a.betid>0){StartBetCountDown();try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(c){}Currentbet.betdescription=a.betdescription;Currentbet.eventdesc=a.eventdesc;Currentbet.betid=a.betid;Currentbet.creditsremaining=a.creditsremaining;Currentbet.odds=a.odds;Currentbet.eventtime=a.eventtime;Currentbet.existingBetId=a.existingBetId;Currentbet.unlockcredits=a.unlockcredits;Currentbet.numbetsplaced=a.numbetsplaced;Currentbet.numbetstounlockhigherlevel=
a.numbetstounlockhigherlevel;if(a.existingBetId&&a.existingBetId>0)Currentbet.eventid=a.existingBetId;Currentbet.amount=a.amount;Currentbet.incorrectEventID=a.incorrectEventID;Currentbet.incorrectOdds=a.incorrectOdds;Currentbet.status=a.status;betJustComplete=1;DisplayHigherCreditsAvailabilityToUserV2(a.unlockcredits,a.numbetsplaced,a.numbetstounlockhigherlevel,"updateTicker");uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));uiUser.credits=a.creditsremaining;window.sessionStorage.setItem("facebookuser",
$.toJSON(uiUser));$(".credits").html(uiUser.credits);Currentbet.user=uiUser;Currentbet.odds=CastToDecimal(Currentbet.odds);window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet));window.sessionStorage.setItem("tempBet",null);NotifyFriendsOfBetPlaced(friendsNotified)<0&&setTimeout("NotifyFriendsOfBetPlaced(friendsNotified);",2E3);$("#"+displaymode+"_button"+Currentbet.eventid).hide();$("#"+displaymode+"_bubble"+Currentbet.eventid).removeClass("bubble_loading");$("#"+displaymode+"_bubble"+
Currentbet.eventid).addClass("bubble_active");$("#"+displaymode+"_bubble"+Currentbet.eventid).html(""+Currentbet.amount+"");Currentbet.incorrectEventID&&($("#"+displaymode+"_bubble"+Currentbet.incorrectEventID).removeClass("bubble_loading"),$("#"+displaymode+"_bubble"+Currentbet.incorrectEventID).addClass("bubble"),$("#"+displaymode+"_bubble"+Currentbet.incorrectEventID).html(Currentbet.incorrectOdds+"/1"));var g=a.betdescription;try{g=g.replace("^","<span class='min'>"),g=g.replace("~","</span>")}catch(f){}var b;
$(".GameFeedInfo").prepend("<b class='bettext'>"+g+"</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");WeAreCurrentlyShowingLeagueTable()==!0&&userLeague.UpdateCurrentLeaderboard(1);WeAreCurrentlyShowingFriendsLeagueTable==!0?userLeague.GetFriendsLeaderBoard():AddBetToFriendScores(Currentbet);remainingforfeits>0&&($(".forfeitclick").show(),$("#"+displaymode+"_forfeitnum").html(remainingforfeits));_gaq.push(["_trackEvent","Bets","BetPlaced",GetEventFromEventDescription(Currentbet.eventdesc),
parseInt(Currentbet.amount)])}else if(a.betid==-2)a.numattempts==0?(a.numattempts=1,placeBet(BetComplete,a)):($("#"+displaymode+"_bubble"+a.eventid).removeClass("bubble_loading"),$("#"+displaymode+"_bubble"+a.eventid).addClass("bubble"),$("#"+displaymode+"_bubble"+a.eventid).html(""+a.odds+"/1"),window.sessionStorage.setItem("Currentbet",null),window.sessionStorage.setItem("tempBet",null),b="<b class='bettext'>"+a.betdescription+"</b><br />",$(".GameFeedInfo").prepend(b),refreshScroller(GameFeedScroller,
"GameFeedInfo"),logError("BetComplete - BetFailed","Failed To connect to place bet in DB twice : -2"));else if(a.betid==-101)a.numattempts==0?(a.numattempts=1,placeBet(BetComplete,a)):($("#"+displaymode+"_bubble"+a.eventid).removeClass("bubble_loading"),$("#"+displaymode+"_bubble"+a.eventid).addClass("bubble"),$("#"+displaymode+"_bubble"+a.eventid).html(""+a.odds+"/1"),window.sessionStorage.setItem("Currentbet",null),window.sessionStorage.setItem("tempBet",null),b="<b class='bettext'>"+a.betdescription+
"</b><br />",$(".GameFeedInfo").prepend(b),refreshScroller(GameFeedScroller,"GameFeedInfo"),logError("BetComplete - BetFailed","Failed To connect to place bet in DB twice : -101"));else if(a.betid==-3)return $("#"+displaymode+"_bubble"+a.eventid).removeClass("bubble_loading"),$("#"+displaymode+"_bubble"+a.eventid).addClass("bubble"),$("#"+displaymode+"_bubble"+a.eventid).html(""+a.odds+"/1"),window.sessionStorage.setItem("Currentbet",null),window.sessionStorage.setItem("tempBet",null),_gaq.push(["_trackEvent",
"Bets","BetDeniedAwaitingDecision"]),displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>Can't make a prediction right now - Waiting for the LiveGames referee's decision!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("Can't make a prediction right now - Waiting for the LiveGames referee's decision!"),
$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)),!1;else a.betid==-104&&(displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>You have run out of credits! You can buy more in the store!!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("You have run out of credits! You can buy more in the store!!"),
$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200))),$(".GameFeedInfo").prepend("<b class='bettext'>"+a.betdescription+"</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),$("#"+displaymode+"_bubble"+a.eventid).removeClass("bubble_loading"),$("#"+displaymode+"_bubble"+a.eventid).addClass("bubble"),$("#"+displaymode+"_bubble"+a.eventid).html(""+a.odds+"/1"),window.sessionStorage.setItem("Currentbet",null),window.sessionStorage.setItem("tempBet",null)}catch(d){logError("BetComplete",
d)}}function BetNotPlaced(a){ReTryBetAttempts=0;$("#"+displaymode+"_bubble"+a.eventid).removeClass("bubble_loading");$("#"+displaymode+"_bubble"+a.eventid).addClass("bubble");window.sessionStorage.setItem("Currentbet",null);window.sessionStorage.setItem("tempBet",null);$(".GameFeedInfo").prepend("Unable to make a prediction... try again <br />");refreshScroller(GameFeedScroller,"GameFeedInfo");logError("BetNotPlaced")}
function forfeitbet(){$(".forfeitclick").hide();closeforfeitpopup();var a;try{a=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(c){}try{$("#"+displaymode+"_dontshowforfeit").prop("checked")&&window.sessionStorage.setItem("dontShowForfeitPopup",$.toJSON(1));var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/ForFeitBet",type:"POST",timeout:5E3,data:"u="+g.id+"&b="+a.betid+"&f="+GetCurrentfixtureID()+"&fu="+g.fbuserid,success:function(a){if(a.status==
-103){forfeitsUsed=1;BetValidCount>0&&(BetValidCount=-1,$("#"+displaymode+"_predictionpending").html("<strong>Bet Forfeit!</strong>!"),$("#"+displaymode+"_predictionpending").delay(1E3).fadeOut("slow"),$("#"+displaymode+"_count").hide(),$(".tooltip-shade").delay(1E3).fadeOut("slow"),$(".betcountdown").delay(1E3).fadeOut("slow"));NotifyFriendsOfBetForfeit()<0&&setTimeout("NotifyFriendsOfBetForfeit();",2E3);remainingforfeits-=1;remainingforfeits==0&&bouncenotification("Purchase more Forfeits from the Store!");
window.sessionStorage.setItem("Currentbet",null);var c=JSON.parse(window.sessionStorage.getItem("facebookuser"));RemoveForfeitBetFromFriendScores(c.fbuserid,a.betid);RemoveUsersForfeitBetFromLeaderboards(c.fbuserid,a.betid);remainingforfeits>1?$(".GameFeedInfo").prepend("<span class='losetext'>FORFEIT - CREDITS LOST - "+remainingforfeits+" forfeits left!</span><br />"):remainingforfeits==1?$(".GameFeedInfo").prepend("<span class='losetext'>FORFEIT - CREDITS LOST - ONLY "+remainingforfeits+" forfeit left!</span><br />"):
$(".GameFeedInfo").prepend("<span class='losetext'>FORFEIT - CREDITS LOST - NO forfeits left!</span><br />");$("#"+displaymode+"_bubble"+Currentbet.eventid).removeClass("bubble_active");$("#"+displaymode+"_bubble"+Currentbet.eventid).addClass("bubble");c=a.newodds?Math.round(a.newodds):Math.round(a.odds);$("#"+displaymode+"_bubble"+a.eventid).html(""+c+"/1");$("#"+displaymode+"_forfeitnum").html(remainingforfeits);_gaq.push(["_trackEvent","Clicks","Forfeit"])}else a.status==-1?displaymode=="w"?($("#"+
displaymode+"_predictionpending").html("<strong>Too late to forfeit - Waiting for the LiveGames referee's decision!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("Too late to forfeit - Waiting for the LiveGames referee's decision!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)):
($(".GameFeedInfo").prepend("We were unable to forfeit your prediction - please try again.<br />"),$(".forfeitclick").show())},error:function(a,c,f){AjaxFail("forfeitBet",a,c,f)}})}catch(f){logError("placeBet",f)}}function AjaxFail(a,c){var g="status: "+c.status+"; response-text:"+c.responseText;a&&logError("AjaxFail : "+a,g)}function FinishedProcessingFriendScores(){FriendScoresUpdating=0}
function RemoveForfeitBetFromFriendScores(a,c){try{var g;try{g=window.sessionStorage.getItem("lim")}catch(f){}if(g!=2){var b;try{b=window.sessionStorage.getItem("listOfFriendsBets")}catch(d){}var h;g=0;var i;typeof b!="undefined"&&b!=null&&b!=""&&(h=typeof b!="object"?JSON.parse(b):b);if(h)for(b=0;b<=h.length-1;b++){if(h[b].betid==c){h[b].status=-103;i=UpdateFriendScoresWithBetResult(h[b]);g=1;break}}else h=[],g=1;if(g==1)if(window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(h)),i+="",i.indexOf("sameasbefore")>=
0){ReOrderFriendsScoresBasedOnCurrentScore("BetObjectUpdatedButScoreNotChanged");var k=i.split(":")[1];UpdateLeaderboardWithNewBalance(a,k)}else ReOrderFriendsScoresBasedOnCurrentScore(),UpdateLeaderboardWithNewBalance(a,i)}}catch(m){logError("RemoveForfeitBetFromFriendScores",m)}}function FinishedProcessingFriendScores(){FriendScoresUpdating=0}
function RemoveUsersForfeitBetFromLeaderboards(a,c){try{var g,f=0,b;try{g=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(d){}if(g)for(var h=0;h<=g.length-1;h++){if(g[h].F==a&&g[h].B&&g[h].B.betid==c){g[h].B.status=-103;if(parseInt(g[h].B.addamount)==0)g[h].S=parseInt(g[h].S)-parseInt(g[h].B.amount);b=g[h].S;f=1;break}}else g=[],f=1;f==1&&(window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(g)),ReOrderFriendsScoresBasedOnCurrentScore(),UpdateLeaderboardWithNewBalance(a,
b))}catch(i){logError("RemoveForfeitBetFromFriendScores",i)}FinishedProcessingFriendScores()}
function AddBetToFriendScores(a){try{var c,g=0;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(f){}if(c)for(var b=0;b<=c.length-1;b++){if(c[b].F==a.user.fbuserid){c[b].B=a;var g=1,d=JSON.parse(window.sessionStorage.getItem("facebookuser"));c[b].F!=d.fbuserid&&(a="",a=c[b].U.indexOf("<span")>0?c[b].U.substring(0,c[b].U.indexOf("<span")).trim():c[b].U,friend_notification(c[b].I,a+" made a prediction"));break}}else c=[],g=1;g==1&&(window.sessionStorage.setItem("listOfFriendsScores",
$.toJSON(c)),ReOrderFriendsScoresBasedOnCurrentScore("BetObjectUpdatedButScoreNotChanged"))}catch(h){logError("AddBetToFriendScores",h)}FinishedProcessingFriendScores()}function Leaderboard(){this.F="";this.S=0;this.U="";this.P=-1;this.B=null;this.I=""}
function AddFriendToFriendScores(a,c,g){try{var f;try{f=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(b){}f==null&&(f=[]);var d=new Leaderboard;d.F=a;d.S=0;d.U=c;d.I=g;IsUserAlreadyInFriendsLeaderBoard(a)==0&&(f.push(d),window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(f)),ReOrderFriendsScoresBasedOnCurrentScore())}catch(h){logError("AddFriendToFriendScores",h)}FinishedProcessingFriendScores()}function friend(){this.id="";this.name=0}
function CheckAndAddFriendToFriendList(a,c){try{var g;try{g=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(f){}g==null&&(g=[]);for(var b=0,d=0;d<=g.length-1;d++)if(g[d].id==a){b=1;break}if(b==0){var h=new friend;h.id=a;h.name=c;g.push(h);window.sessionStorage.setItem("facebookfriendlist",$.toJSON(g));var i=JSON.parse(window.sessionStorage.getItem("facebookuser"));liveGamesSignalRConnection.server.joingroup("UBD"+a,i.firstname)}}catch(k){logError("AddFriendToFriendList",k)}}
function IsUserAlreadyInFriendsLeaderBoard(a){try{var c;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(g){}if(c!=null)for(var f=0;f<=c.length-1;f++)if(c[f].F==a)return 1;return 0}catch(b){logError("IsUserAlreadyInFriendsLeaderBoard",b)}}
function UpdateFriendScoresWithNewBalance(a,c){try{var g;try{g=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(f){}if(g){var b=typeof g!="object"?JSON.parse(g):g;for(g=0;g<=b.length-1;g++)if(b[g].F==a){if(b[g].S!=parseInt(c))b[g].S=parseInt(c),b[g].B=null,window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(b)),ReOrderFriendsScoresBasedOnCurrentScore();break}}}catch(d){logError("UpdateFriendScoresWithNewBalance",d)}UpdateLeaderboardWithNewBalance(a,c)}
function UpdateLeaderboardWithNewBalance(a,c){try{var g;try{g=JSON.parse(window.sessionStorage.getItem("leaderboard"))}catch(f){}if(g){var b=typeof g!="object"?JSON.parse(g):g;for(g=0;g<=b.length-1;g++)if(b[g].F==a&&b[g].S!=parseInt(c)){b[g].S=parseInt(c);window.sessionStorage.setItem("leaderboard",$.toJSON(b));var d=0;JSON.parse(window.sessionStorage.getItem("facebookuser")).fbuserid==b[g].F?(ReOrderLeaderBoardBasedOnCurrentScore("userJustUpdatedIsCurrentUser"),d=1):ReOrderLeaderBoardBasedOnCurrentScore();
userLeague.currentlyShowingDefaultLeague>0||(UpdateTickersLeaderboardWithNewBalance(a,c),d==1?ReOrderTickersOverallScoresBasedOnCurrentScore("userJustUpdatedIsCurrentUser"):ReOrderTickersOverallScoresBasedOnCurrentScore(),SetTickerContent("LeagueStandings_ticker",GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()));break}}}catch(h){logError("UpdateLeaderboardWithNewBalance",h)}}
function UpdateTickersLeaderboardWithNewBalance(a,c){try{var g;try{g=JSON.parse(lastOverallScoresList)}catch(f){}if(g){var b=typeof g!="object"?JSON.parse(g):g;for(g=0;g<=b.length-1;g++)if(b[g].F==a&&b[g].S!=parseInt(c)){b[g].S=parseInt(c);lastOverallScoresList=$.toJSON(b);break}}}catch(d){logError("UpdateTickersLeaderboardWithNewBalance",d)}}
function ReOrderLeaderBoardBasedOnCurrentScore(a){try{var c=JSON.parse(window.sessionStorage.getItem("leaderboard")),g=JSON.parse(window.sessionStorage.getItem("facebookuser")),f=[],b=1,d=0;if(c){for(d=c.length;c.length>0;){for(var h=-1,i=-1E8,k=0;k<=c.length-1;k++)if(c[k].S>i)i=c[k].S,h=k;c[h].P=c.length==1&&(c[0].P==""||c[0].P=="?"||c[0].P>d||c[0].F==g.fbuserid&&a)?a?"":c[0].P:b;b+=1;f.push(c[h]);c.splice(h,1)}window.sessionStorage.setItem("leaderboard",$.toJSON(f));userLeague.DisplayTheLeagueTable($.toJSON(f),
userLeague.id,userLeague.name,null,userLeague.creater_Id,userLeague.num_MembersInLeague)}}catch(m){logError("ReOrderLeaderBoardBasedOnCurrentScore",m)}}
function ReOrderTickersOverallScoresBasedOnCurrentScore(a){try{var c=typeof lastOverallScoresList!="object"?JSON.parse(lastOverallScoresList):lastOverallScoresList,g=[],f=1;if(c){for(;c.length>0;){for(var b=-1,d=-1E8,h=0;h<=c.length-1;h++)if(c[h].S>d)d=c[h].S,b=h;c[b].P=c.length==1&&(c[0].P==""||c[0].P=="?"||c[0].P>0)?a?"":c[0].P:f;f+=1;g.push(c[b]);c.splice(b,1)}lastOverallScoresList=$.toJSON(g)}}catch(i){logError("ReOrderTickersOverallScoresBasedOnCurrentScore",i)}}
function UpdateFriendScoresWithNewCredit(a,c,g,f,b){try{var d;try{d=window.sessionStorage.getItem("listOfAlreadyReceivedPreGameBetOptionDetails")}catch(h){}var i=1,c=a+"-"+c+"-"+f;if(typeof d!="undefined"&&d!=null&&d!=""){d=JSON.parse(window.sessionStorage.getItem("listOfAlreadyReceivedPreGameBetOptionDetails"));for(var k=0;k<=d.length-1;k++)if(d[k]==c){i=0;break}}else d=[];if(i==1){d.push(c);var m;try{m=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(p){}if(m)for(k=0;k<=m.length-
1;k++)if(m[k].F==f){var r=JSON.parse(window.sessionStorage.getItem("facebookuser"));b==1?(m[k].S=parseInt(m[k].S)+parseInt(g),m[k].F==r.fbuserid&&NotifyFriendsOfNewBalanceForThisGame(a,r.fbuserid,m[k].S)):m[k].S=parseInt(m[k].S)-parseInt(g);window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(m));ReOrderFriendsScoresBasedOnCurrentScore();break}}window.sessionStorage.setItem("listOfAlreadyReceivedPreGameBetOptionDetails",$.toJSON(d))}catch(t){logError("UpdateFriendScoresWithNewCredit",t)}}
function UpdateFriendScoresWithBetResult(a){try{var c="",g=0,f;try{f=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(b){}if(f){for(var d=0;d<=f.length-1;d++)if(f[d].B&&f[d].B.betid==a.betid){var h=parseInt(f[d].B.addamount);f[d].B=a;if(a.status==1){var i;i=h==1?parseInt(a.creditsearned)+parseInt(a.amount):parseInt(a.creditsearned);f[d].S=parseInt(f[d].S)+i}else if(a.status==-1)h==0?(g=parseInt(f[d].S)-parseInt(a.amount),g!=f[d].S?f[d].S=g:c="sameasbefore:"+f[d].S):c="sameasbefore:"+
f[d].S;else if(a.status==-102){if(h==1)f[d].S=parseInt(f[d].S)+parseInt(a.amount)}else if(a.status==-103)h==0?(g=parseInt(f[d].S)-parseInt(a.amount),g!=f[d].S?f[d].S=g:c="sameasbefore:"+f[d].S):c="sameasbefore:"+f[d].S;if(c.indexOf("sameasbefore")<0)c=f[d].S;break}window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(f))}}catch(k){logError("UpdateFriendScoresWithBetResult",k)}FinishedProcessingFriendScores();return c}
function ReOrderFriendsScoresBasedOnCurrentScore(a){try{var c;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(g){}var f=[],b=1;if(c){for(;c.length>0;){for(var d=-1,h=-1E8,i=0;i<=c.length-1;i++)if(c[i].S>h)h=c[i].S,d=i;c[d].P=b;b+=1;f.push(c[d]);c.splice(d,1)}window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(f));$(".FriendsLeaderboard").html(userLeague.DisplayFriendsLeaderBoard(f,"ff",!0));refreshScroller(friendsScoreScroller,"FriendsLeaderboard");a||SetTickerContent("friendDetails_ticker")}}catch(k){logError("ReOrderFriendsScoresBasedOnCurrentScore",
k)}}
function AddMyScoreToOverAllLeaderBoard(a,c){try{var g,f;try{g=window.sessionStorage.getItem("listOfFriendsScores")}catch(b){}try{f=window.sessionStorage.getItem("facebookuser")}catch(d){}if(g&&f){var h=typeof g!="object"?JSON.parse(g):g,i=typeof f!="object"?JSON.parse(f):f,k;for(g=0;g<=h.length-1;g++)if(h[g].F==i.fbuserid){k=h[g];break}if(k){var m;try{var p;p=c?lastOverallScoresList:JSON.parse(window.sessionStorage.getItem("leaderboard"));m=typeof p!="object"?JSON.parse(p):p}catch(r){}h=0;if(m){for(g=0;g<=
m.length-1;g++)if(m[g].F==i.fbuserid){h=1;break}if(h==0)k.P="",m.push(k),c?lastOverallScoresList=$.toJSON(p):window.sessionStorage.setItem("leaderboard",$.toJSON(m)),a?userLeague.DisplayTheLeagueTable(m,thisFixture.defaultleagueid,thisFixture.defaultleaguename,null,thisFixture.defaultleaguecreator,a):userLeague.DisplayTheLeagueTable(m,thisFixture.defaultleagueid,thisFixture.defaultleaguename,null,thisFixture.defaultleaguecreator,0)}}}}catch(t){logError("AddMyScoreToOverAllLeaderBoard",t)}}
function updateFriendsBetStatus(a,c,g){try{var f;try{f=window.sessionStorage.getItem("listOfFriendsBets")}catch(b){}var d,h=0;if(typeof f!="undefined"&&f!=null&&f!="")if(d=typeof f!="object"?JSON.parse(f):f,typeof d!="undefined"&&d!=null){for(f=0;f<=d.length-1;f++)if(d[f].status==0)if(a==12)d[f].status=-102,UpdateFriendScoresWithBetResult(d[f]),h=1;else{var i=new Date(d[f].eventtime),k=new Date;k.setTime(c.getTime()-voidOffset*1E3);i<=k?(d[f].status=d[f].eventid==a?1:-1,UpdateFriendScoresWithBetResult(d[f]),
h=1):i<g?(d[f].status=-102,UpdateFriendScoresWithBetResult(d[f]),h=1):logError("VoidFlow","not clearing friends bet due to LS latency","","")}h==1&&(ReOrderFriendsScoresBasedOnCurrentScore(),FinishedProcessingFriendScores());displayFriendsDetals=="1"&&$(".FriendFeedInfo").prepend("")}else d=[];else d=[];window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(d))}catch(m){logError("updateFriendsBetStatus",m)}}
function GetEventFromEventDescription(a){try{var c=a.indexOf(" ");c==-1&&(c=a.indexOf("-"));return a.substring(0,c)}catch(g){return logError("GetEventFromEventDescription",g),""}}
function checkBetStatusNew(a,c,g){try{try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(f){}if(Currentbet==null)return!1;else if(Currentbet.status!=0&&Currentbet.status!=-102)return window.sessionStorage.setItem("Currentbet",null),!1;else{var b="",d=new Date(Currentbet.eventtime),h=new Date;h.setTime(c.getTime()-voidOffset*1E3);if(d<=h)if(Currentbet.eventid==a){$(".forfeitclick").hide();closeforfeitpopup();var i=Math.round(Currentbet.amount*Currentbet.odds+Currentbet.amount),
b="<span class='wintext'>You win "+i+" credits!</span><br />";Currentbet.status=1;Currentbet.creditsearned=Math.round(Currentbet.amount*Currentbet.odds);uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));uiUser.credits+=i;window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser));$(".credits").html(uiUser.credits);playsound("win");try{slider(0)}catch(k){}$(".popup-notify > h1").text("WIN!");$(".popup-notify > span").text("You won "+i+" credits!");$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200);
UpdateFriendScoresWithBetResult(Currentbet);ReOrderFriendsScoresBasedOnCurrentScore();FinishedProcessingFriendScores();_gaq.push(["_trackEvent","Bets","Win",GetEventFromEventDescription(Currentbet.eventdesc),parseInt(i)])}else{$(".forfeitclick").hide();closeforfeitpopup();b="<span class='losetext'>YOU LOSE!!!!!!!</span><br />";Currentbet.status=-1;playsound("lose");UpdateFriendScoresWithBetResult(Currentbet);try{slider(0)}catch(m){}$(".popup-notify > h1").text("LOSE!");$(".popup-notify > span").text("You lost "+
Currentbet.amount+" credits!");$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200);ReOrderFriendsScoresBasedOnCurrentScore();FinishedProcessingFriendScores();_gaq.push(["_trackEvent","Bets","Lose",GetEventFromEventDescription(Currentbet.eventdesc),parseInt(Currentbet.amount)])}else if(!d||d<g)$(".forfeitclick").hide(),closeforfeitpopup(),b="<span class='losetext'>CREDITS RETURNED - PREDICTION WAS TOO LATE</span><br />",uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")),uiUser.credits+=
Currentbet.amount,window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser)),$(".credits").html(uiUser.credits),Currentbet.status=-102,UpdateFriendScoresWithBetResult(Currentbet),ReOrderFriendsScoresBasedOnCurrentScore(),FinishedProcessingFriendScores(),_gaq.push(["_trackEvent","Bets","Void",GetEventFromEventDescription(Currentbet.eventdesc),parseInt(Currentbet.amount)]);else return logError("VoidFlow","not clearing users bet due to LS latency","",""),-200;$("#"+displaymode+"_bubble"+Currentbet.eventid).removeClass("bubble_active");
$("#"+displaymode+"_bubble"+Currentbet.eventid).addClass("bubble");var p;p=Currentbet.newodds?Math.round(Currentbet.newodds):Math.round(Currentbet.odds);$("#"+displaymode+"_bubble"+Currentbet.eventid).html(""+p+"/1");var r=$(".GameFeedInfo").html();$(".GameFeedInfo").html(b+r);refreshScroller(GameFeedScroller,"GameFeedInfo");Currentbet.user=uiUser;Currentbet.odds=CastToDecimal(Currentbet.odds);Currentbet.status==-102?window.sessionStorage.setItem("Currentbet",null):window.sessionStorage.setItem("Currentbet",
$.toJSON(Currentbet))}}catch(t){logError("checkBetStatusNew",t)}return 1}
function DoBetVoidLogic(a,c){if(!a||a<c)$(".forfeitclick").hide(),closeforfeitpopup(),newFeedHTML="<span class='losetext'>CREDITS RETURNED - PREDICTION WAS TOO LATE</span><br />",uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")),uiUser.credits+=Currentbet.amount,window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser)),$(".credits").html(uiUser.credits),Currentbet.status=-102,UpdateFriendScoresWithBetResult(Currentbet),ReOrderFriendsScoresBasedOnCurrentScore(),FinishedProcessingFriendScores(),
_gaq.push(["_trackEvent","Bets","Void",GetEventFromEventDescription(Currentbet.eventdesc),parseInt(Currentbet.amount)]);else return logError("VoidFlow","not clearing users bet due to LS latency","",""),-200}
function NotifyFriendsThatUserHasJoinedGame(a,c){try{if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")),uiUser.currentfixtureid=GetCurrentfixtureID(),LiveEventMethod=="SR"){var g="UBD"+uiUser.fbuserid,f="";if(uiUser.profilepic)f=uiUser.profilepic;var b;b=uiUser.nn?"3;"+uiUser.name+" <span class='nick'>"+uiUser.nn+"</span>;"+f:"3;"+uiUser.name;liveGamesSignalRConnection.server.processfriendupdates(b,g,GetCurrentfixtureID());return 1}else if(LiveEventMethod=="T5P"&&UserHasFriendsPlayingThisGame()==
1){g="UBD"+uiUser.fbuserid;f="";if(uiUser.profilepic)f=uiUser.profilepic;b=uiUser.nn?"3;"+uiUser.name+" <span class='nick'>"+uiUser.nn+"</span>;"+f:"3;"+uiUser.name+";"+f;f=[];f.push(b);f.push(uiUser.fbuserid);f.push(GetCurrentfixtureID());sp==0?AdminPusher.push("processfriendupdates",f,g):FriendPusher.push("processfriendupdates",f,g);_gaq.push(["_trackEvent","T5Pusher","JoinGame"])}}catch(d){return c&&logError("NotifyFriendsThatUserHasJoinedGame - Second Call!",d),-1}}
function NotifyFriendsOfBetPlaced(a){try{try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(c){}if(LiveEventMethod=="LS")$.ajax({url:WS_URL_ROOT+"/Game/NotifyFriendsOfBetPlaced",type:"POST",data:JSON.stringify(Currentbet),dataType:"json",contentType:"application/json: charset=utf-8",error:function(a,b,c){AjaxFail("NotifyFriendsOfBetPlaced",a,b,c)},success:function(b){a instanceof Function&&a(b)}});else if(LiveEventMethod=="SR"){var g=Currentbet.amount*Currentbet.odds,f="1;"+
Currentbet.eventid+";"+Currentbet.betid+";"+Currentbet.amount+";"+g+";"+Currentbet.eventtime,b=JSON.parse(window.sessionStorage.getItem("facebookuser")),d="UBD"+b.fbuserid;liveGamesSignalRConnection.server.processfriendupdates(f,d,GetCurrentfixtureID());return 1}else LiveEventMethod=="T5P"&&UserHasFriendsPlayingThisGame()==1&&(g=Currentbet.amount*Currentbet.odds,f="1;"+Currentbet.eventid+";"+Currentbet.betid+";"+Currentbet.amount+";"+g+";"+Currentbet.eventtime,b=JSON.parse(window.sessionStorage.getItem("facebookuser")),
d="UBD"+b.fbuserid,g=[],g.push(f),g.push(b.fbuserid),g.push(GetCurrentfixtureID()),sp==0?AdminPusher.push("processfriendupdates",g,d):FriendPusher.push("processfriendupdates",g,d),_gaq.push(["_trackEvent","T5Pusher","BetPlaced"]))}catch(h){return logError("NotifyFriendsOfBetPlaced",h),-1}}
function NotifyFriendsOfBetForfeit(){try{try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(a){}if(LiveEventMethod=="LS")$.ajax({url:WS_URL_ROOT+"/Game/NotifyFriendsOfForfeit",type:"POST",data:JSON.stringify(Currentbet),dataType:"json",contentType:"application/json: charset=utf-8",error:function(a,b,c){AjaxFail("NotifyFriendsOfBetPlaced",a,b,c)},success:function(a){callback instanceof Function&&callback(a)}});else if(LiveEventMethod=="SR"){var c=JSON.parse(window.sessionStorage.getItem("facebookuser")),
g="UBD"+c.fbuserid,f="2;"+Currentbet.betid;liveGamesSignalRConnection.server.processfriendupdates(f,g,GetCurrentfixtureID());return 1}else if(LiveEventMethod=="T5P"&&UserHasFriendsPlayingThisGame()==1){var c=JSON.parse(window.sessionStorage.getItem("facebookuser")),g="UBD"+c.fbuserid,f="2;"+Currentbet.betid,b=[];b.push(f);b.push(c.fbuserid);b.push(GetCurrentfixtureID());sp==0?AdminPusher.push("processfriendupdates",b,g):FriendPusher.push("processfriendupdates",b,g);_gaq.push(["_trackEvent","T5Pusher",
"Forfeit"])}}catch(d){return logError("NotifyFriendsOfBetForfeit",d),-1}}
function NotifyFriendsOfNewBalanceForThisGame(a,c,g){try{if(LiveEventMethod=="LS")$.ajax({url:WS_URL_ROOT+"/Game/NotifyFriendsOfNewBalance",type:"POST",data:"fixtureID="+a+"&fbuserid="+c+"&newBalance="+g,error:function(a,b,c){AjaxFail("NotifyFriendsOfBetPlaced",a,b,c)},success:function(){}});else if(LiveEventMethod=="SR"){var f,b;liveGamesSignalRConnection.server.processfriendupdates("4;"+g,"UBD"+c,GetCurrentfixtureID())}else LiveEventMethod=="T5P"&&UserHasFriendsPlayingThisGame()==1&&(f="UBD"+c,
b="4;"+g,a=[],a.push(b),a.push(uiUser.fbuserid),a.push(GetCurrentfixtureID()),sp==0?AdminPusher.push("processfriendupdates",a,f):FriendPusher.push("processfriendupdates",a,f),_gaq.push(["_trackEvent","T5Pusher","NewBalance"]))}catch(d){logError("NotifyFriendsOfNewBalanceForThisGame",d)}}function friendsNotified(){}
function updateOdds(a){try{var c=1;inPowerPlay==1&&(c=2);var g=a.split(",");if(g&&g.length>0){try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(f){}for(a=0;a<g.length;a++)try{var b=g[a].split(":"),d=b[0],h=Math.round(b[1])*c;$("#"+displaymode+"_bubble"+d).hasClass("bubble_active")&&Currentbet?(Currentbet.newodds=h,window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet))):$("#"+displaymode+"_bubble"+d).html(h+"/1")}catch(i){}}}catch(k){logError("updateOdds",k)}}
function HaveWeDisplayedFriendsBetBefore(a){try{var c;try{c=window.sessionStorage.getItem("listOfFriendsBets")}catch(g){}var f;if(typeof c!="undefined"&&c!=null&&c!="")if(f=typeof c!="object"?JSON.parse(c):c,typeof f!="undefined"&&f!=null)for(c=0;c<=f.length-1;c++){if(f[c].betid==a.betid)return!0}else f=[];else f=[];f.push(a);window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(f))}catch(b){logError("HaveWeDisplayedFriendsBetBefore",b)}FinishedProcessingFriendScores();return!1}
function DisplayInviteDetails(a){try{var c=a.split(";"),g=c[1];HaveWeDisplayedThisEventBefore(c[2]*-1)||(g.replace(/s:/g,";"),refreshScroller(leaderboardScroller,"MyleagueInvites"))}catch(f){logError("DisplayInviteDetails",f)}}
function ProcessFriendUpdate(a,c){var g=a.split(";"),f=g[0];if(f==1){f=new Bet;f.eventid=g[1];f.betid=g[2];var b=new FriendUser(c,null);f.user=b;f.amount=g[3];f.creditsearned=parseInt(g[4]);f.eventtime=g[5];UserIsMyFriend(c)&&!HaveWeDisplayedFriendsBetBefore(f)&&FriendsBetIsUpToDate(f)&&AddBetToFriendScores(f)}else f==2?(g=parseInt(g[1]),RemoveForfeitBetFromFriendScores(c,g)):f==3?UserIsMyFriend(c)&&AddFriendToFriendScores(c,g[1],g[2]):f==4&&UserIsMyFriend(c)&&(g=parseInt(g[1]),UpdateFriendScoresWithNewBalance(c,
g))}function UserIsMyFriend(a){try{var c;try{c=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(g){logError("GetFriends",g)}if(typeof c!="undefined"&&c!=null)for(var f=0;f<=c.length-1;f++)if(c[f].id==a)return!0}catch(b){logError("UserIsMyFriend",b)}return!1}function closeforfeitpopup(){try{$("#"+displaymode+"_forfeitconfirm").hide()}catch(a){logError("closeforfeitpopup",a)}}
function closebetpanel(){try{$("#"+displaymode+"_popupplacebet").hide()}catch(a){logError("closepanel",a)}}function closepowerplaypopup(){try{$("#"+displaymode+"_powerplaypopup").hide()}catch(a){logError("closepowerplaypopup",a)}}
function nicknamePopup(){try{_gaq.push(["_trackEvent","Clicks","ViewMyAccount"]);$(".nicknamepopup").show();$("#"+displaymode+"_confirm_nn").attr("onClick","nickNameConfirm()");var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));a.nn&&$("#"+displaymode+"_nicknameValue").val(a.nn);Store.GetMyStorePurchases()}catch(c){logError("nickNameEditor",c)}}
function nickNameConfirm(){try{_gaq.push(["_trackEvent","Clicks","SetNickName"]);var a=$("#"+displaymode+"_nicknameValue").val(),a=$.trim(a);$(".nicknamepopup").hide();var c=-1;uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));a!=null&&a.length>0&&uiUser!=null?(c=uiUser.id,$.ajax({url:WS_URL_ROOT+"/Game/EditNickName",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+c+"&fu="+uiUser.fbuserid+"&nickname="+a,error:function(a,b,c){alert("Nickname hasn't been updated, Please Try again later!");
AjaxFail("EditNickName",a,b,c)},success:function(c){_gaq.push(["_trackEvent","Clicks","EditNickName"]);if(c==-2)displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>NickName is already used by another user, please try another one!</strong>!"),$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(2500).fadeOut("slow"),$(".tooltip-shade").delay(2500).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("NickName is already used by another user, please try another one!"),
$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200));else if(c<0)alert("Oops - NickName NOT changed - try again later!");else if(c>0)localStorage.getItem("nickname")!=null&&localStorage.removeItem("nickname"),localStorage.setItem("nickname",a),c=JSON.parse(window.sessionStorage.getItem("facebookuser")),c.nn=a,window.sessionStorage.setItem("facebookuser",$.toJSON(c)),displaymode=="w"?($("#"+displaymode+"_predictionpending").html("<strong>Nickname changed!</strong>!"),
$("#"+displaymode+"_predictionpending").show(),$(".tooltip-shade").show(),$(".betcountdown").show(),$(".betcountdown").delay(1E3).fadeOut("slow"),$(".tooltip-shade").delay(1E3).fadeOut("slow")):displaymode=="m"&&($(".popup-notify > h1").text("Nickname changed!"),$(".popup-notify > span").text(""),$(".popup-notify").fadeIn(200).delay(3E3).fadeOut(200)),WeAreCurrentlyShowingLeagueTable()==!0&&userLeague.UpdateCurrentLeaderboard(0),WeAreCurrentlyShowingFriendsLeagueTable==!0&&userLeague.GetFriendsLeaderBoard()}})):
alert("Please type a nickname or press cancel!")}catch(g){logError("nickNameEditor",g)}}function nickNameCancel(){try{$(".nicknamepopup").hide()}catch(a){logError("nickNamecancel",a)}}function closepanel(a){try{$(a).closest(".popup-placebet").hide()}catch(c){alert(c)}}
function GetFixtures(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Fixtures/GetFixtures",type:"POST",data:"u="+a.id,error:function(a,g,f){AjaxFail("GetFixtures",a,g,f)},success:function(a){$("#createFixtureLink").show();for(var a=typeof a!="object"?JSON.parse(a):a,g="",f=0;f<a.length;f++){var b="<b style='color:red;'>Not a liveGame</b>",d="",h="";a[f].lg==1&&(b="<b>LIVEGAME</b>",h="style='background:red;color:#fff;'");a[f].et&&(d=a[f].tsftbu?"<b style='color:yellow;'>Memory Tables have been backed up to disk!!!</b>":
"<b style='color:#0bdad8;'>This game has ended but we have not backed up to disk yet!!!</b>");g=g+"<div class='ui-button' "+h+"><h1> "+a[f].fixture+" -  "+a[f].fixtureid+"</h1><span>"+b+"</span><br /><span>"+d+"</span><a href='/Game/?f="+a[f].fixtureid+"'>Go To Fixture</a></div>"}$("#FixtureDiv").html(g)}})};(function(a,c){function g(a){if(d==="")return a;a=a.charAt(0).toUpperCase()+a.substr(1);return d+a}var f=Math,b=c.createElement("div").style,d=function(){for(var a="t,webkitT,MozT,msT,OT".split(","),c,d=0,f=a.length;d<f;d++)if(c=a[d]+"ransform",c in b)return a[d].substr(0,a[d].length-1);return!1}(),h=d?"-"+d.toLowerCase()+"-":"",i=g("transform"),k=g("transitionProperty"),m=g("transitionDuration"),p=g("transformOrigin"),r=g("transitionTimingFunction"),t=g("transitionDelay"),n=/android/gi.test(navigator.appVersion),
l=/iphone|ipad/gi.test(navigator.appVersion),A=/hp-tablet/gi.test(navigator.appVersion),D=g("perspective")in b,G="ontouchstart"in a&&!A,T=!!d,u=g("transition")in b,Q="onorientationchange"in a?"orientationchange":"resize",ca=G?"touchstart":"mousedown",K=G?"touchmove":"mousemove",ha=G?"touchend":"mouseup",V=G?"touchcancel":"mouseup",W=d=="Moz"?"DOMMouseScroll":"mousewheel",fa;fa=d===!1?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[d];
var I=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),ja=a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout,U=D?" translateZ(0)":"",A=function(b,d){var f=this,g;f.wrapper=typeof b=="object"?b:c.getElementById(b);
f.wrapper.style.overflow="hidden";f.scroller=f.wrapper.children[0];f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:n,hideScrollbar:l,fadeScrollbar:l&&D,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){for(var b=a.target;b.nodeType!=
1;)b=b.parentNode;b.tagName!="SELECT"&&b.tagName!="INPUT"&&b.tagName!="TEXTAREA"&&a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(g in d)f.options[g]=d[g];f.x=f.options.x;f.y=f.options.y;f.options.useTransform=T&&f.options.useTransform;f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar;f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar;
f.options.zoom=f.options.useTransform&&f.options.zoom;f.options.useTransition=u&&f.options.useTransition;f.options.zoom&&n&&(U="");f.scroller.style[k]=f.options.useTransform?h+"transform":"top left";f.scroller.style[m]="0";f.scroller.style[p]="0 0";f.options.useTransition&&(f.scroller.style[r]="cubic-bezier(0.33,0.66,0.66,1)");f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+U:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px";if(f.options.useTransition)f.options.fixedScrollbar=
!0;f.refresh();f._bind(Q,a);f._bind(ca);G||f.options.wheelAction!="none"&&f._bind(W);if(f.options.checkDOMChanges)f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500)};A.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case ca:if(!G&&a.button!==0)break;this._start(a);break;case K:this._move(a);break;case ha:case V:this._end(a);break;case Q:this._resize();break;case W:this._wheel(a);
break;case fa:this._transitionEnd(a)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(a){var b;if(this[a+"Scrollbar"]){if(!this[a+"ScrollbarWrapper"]){b=c.createElement("div");this.options.scrollbarClass?b.className=this.options.scrollbarClass+a.toUpperCase():b.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+
(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");b.style.cssText+=";pointer-events:none;"+h+"transition-property:opacity;"+h+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1");this.wrapper.appendChild(b);this[a+"ScrollbarWrapper"]=b;b=c.createElement("div");if(!this.options.scrollbarClass)b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+
h+"background-clip:padding-box;"+h+"box-sizing:border-box;"+(a=="h"?"height:100%":"width:100%")+";"+h+"border-radius:3px;border-radius:3px";b.style.cssText+=";pointer-events:none;"+h+"transition-property:"+h+"transform;"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+h+"transition-duration:0;"+h+"transform: translate(0,0)"+U;this.options.useTransition&&(b.style.cssText+=";"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[a+"ScrollbarWrapper"].appendChild(b);this[a+
"ScrollbarIndicator"]=b}a=="h"?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=f.max(f.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=f.max(f.round(this.vScrollbarSize*
this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(a,!0)}else this[a+"ScrollbarWrapper"]&&(T&&(this[a+"ScrollbarIndicator"].style[i]=""),this[a+"ScrollbarWrapper"].parentNode.removeChild(this[a+"ScrollbarWrapper"]),this[a+"ScrollbarWrapper"]=null,this[a+"ScrollbarIndicator"]=null)},_resize:function(){var a=
this;setTimeout(function(){a.refresh()},n?200:0)},_pos:function(a,b){if(!this.zoomed)a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+U:(a=f.round(a),b=f.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(a,b){var c=a=="h"?this.x:this.y;if(this[a+"Scrollbar"])c*=this[a+"ScrollbarProp"],c<0?(this.options.fixedScrollbar||
(c=this[a+"ScrollbarIndicatorSize"]+f.round(c*3),c<8&&(c=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=c+"px"),c=0):c>this[a+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?c=this[a+"ScrollbarMaxScroll"]:(c=this[a+"ScrollbarIndicatorSize"]-f.round((c-this[a+"ScrollbarMaxScroll"])*3),c<8&&(c=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=c+"px",c=this[a+"ScrollbarMaxScroll"]+(this[a+"ScrollbarIndicatorSize"]-c))),this[a+"ScrollbarWrapper"].style[t]="0",this[a+"ScrollbarWrapper"].style.opacity=
b&&this.options.hideScrollbar?"0":"1",this[a+"ScrollbarIndicator"].style[i]="translate("+(a=="h"?c+"px,0)":"0,"+c+"px)")+U},_start:function(b){var c=G?b.touches[0]:b,d,g;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&G&&b.touches.length>1)g=f.abs(b.touches[0].pageX-
b.touches[1].pageX),d=f.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDistStart=f.sqrt(g*g+d*d),this.originX=f.abs(b.touches[0].pageX+b.touches[1].pageX-this.wrapperOffsetLeft*2)/2-this.x,this.originY=f.abs(b.touches[0].pageY+b.touches[1].pageY-this.wrapperOffsetTop*2)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b);if(this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),g=+d[4],d=+d[5]):
(g=+getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),d=+getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),g!=this.x||d!=this.y))this.options.useTransition?this._unbind(fa):ja(this.aniTime),this.steps=[],this._pos(g,d),this.options.onScrollEnd&&this.options.onScrollEnd.call(this);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=c.pageX;this.pointY=c.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,
b);this._bind(K,a);this._bind(ha,a);this._bind(V,a)}},_move:function(a){var b=G?a.touches[0]:a,c=b.pageX-this.pointX,d=b.pageY-this.pointY,g=this.x+c,h=this.y+d,k=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);if(this.options.zoom&&G&&a.touches.length>1)g=f.abs(a.touches[0].pageX-a.touches[1].pageX),h=f.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDist=f.sqrt(g*g+h*h),this.zoomed=!0,b=1/this.touchesDistStart*this.touchesDist*this.scale,
b<this.options.zoomMin?b=0.5*this.options.zoomMin*Math.pow(2,b/this.options.zoomMin):b>this.options.zoomMax&&(b=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/b)),this.lastScale=b/this.scale,g=this.originX-this.originX*this.lastScale+this.x,h=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[i]="translate("+g+"px,"+h+"px) scale("+b+")"+U,this.options.onZoom&&this.options.onZoom.call(this,a);else{this.pointX=b.pageX;this.pointY=b.pageY;if(g>0||g<this.maxScrollX)g=this.options.bounce?
this.x+c/2:g>=0||this.maxScrollX>=0?0:this.maxScrollX;if(h>this.minScrollY||h<this.maxScrollY)h=this.options.bounce?this.y+d/2:h>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY;this.distX+=c;this.distY+=d;this.absDistX=f.abs(this.distX);this.absDistY=f.abs(this.distY);if(!(this.absDistX<6&&this.absDistY<6)){if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)h=this.y,d=0;else if(this.absDistY>this.absDistX+5)g=this.x,c=0;this.moved=!0;this._pos(g,h);this.dirX=c>0?-1:
c<0?1:0;this.dirY=d>0?-1:d<0?1:0;if(k-this.startTime>300)this.startTime=k,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}}},_end:function(b){if(!(G&&b.touches.length!==0)){var d=this,g=G?b.changedTouches[0]:b,h,k,l={dist:0,time:0},n={dist:0,time:0},p=(b.timeStamp||Date.now())-d.startTime,r=d.x,A=d.y;d._unbind(K,a);d._unbind(ha,a);d._unbind(V,a);d.options.onBeforeScrollEnd&&d.options.onBeforeScrollEnd.call(d,b);if(d.zoomed)r=d.scale*d.lastScale,
r=Math.max(d.options.zoomMin,r),r=Math.min(d.options.zoomMax,r),d.lastScale=r/d.scale,d.scale=r,d.x=d.originX-d.originX*d.lastScale+d.x,d.y=d.originY-d.originY*d.lastScale+d.y,d.scroller.style[m]="200ms",d.scroller.style[i]="translate("+d.x+"px,"+d.y+"px) scale("+d.scale+")"+U,d.zoomed=!1,d.refresh(),d.options.onZoomEnd&&d.options.onZoomEnd.call(d,b);else{if(d.moved){if(p<300&&d.options.momentum){l=r?d._momentum(r-d.startX,p,-d.x,d.scrollerW-d.wrapperW+d.x,d.options.bounce?d.wrapperW:0):l;n=A?d._momentum(A-
d.startY,p,-d.y,d.maxScrollY<0?d.scrollerH-d.wrapperH+d.y-d.minScrollY:0,d.options.bounce?d.wrapperH:0):n;r=d.x+l.dist;A=d.y+n.dist;if(d.x>0&&r>0||d.x<d.maxScrollX&&r<d.maxScrollX)l={dist:0,time:0};if(d.y>d.minScrollY&&A>d.minScrollY||d.y<d.maxScrollY&&A<d.maxScrollY)n={dist:0,time:0}}if(l.dist||n.dist){l=f.max(f.max(l.time,n.time),10);if(d.options.snap)n=r-d.absStartX,p=A-d.absStartY,f.abs(n)<d.options.snapThreshold&&f.abs(p)<d.options.snapThreshold?d.scrollTo(d.absStartX,d.absStartY,200):(n=d._snap(r,
A),r=n.x,A=n.y,l=f.max(n.time,l));d.scrollTo(f.round(r),f.round(A),l)}else d.options.snap?(n=r-d.absStartX,p=A-d.absStartY,f.abs(n)<d.options.snapThreshold&&f.abs(p)<d.options.snapThreshold?d.scrollTo(d.absStartX,d.absStartY,200):(n=d._snap(d.x,d.y),(n.x!=d.x||n.y!=d.y)&&d.scrollTo(n.x,n.y,n.time))):d._resetPos(200)}else{if(G)if(d.doubleTapTimer&&d.options.zoom)clearTimeout(d.doubleTapTimer),d.doubleTapTimer=null,d.options.onZoomStart&&d.options.onZoomStart.call(d,b),d.zoom(d.pointX,d.pointY,d.scale==
1?d.options.doubleTapZoom:1),d.options.onZoomEnd&&setTimeout(function(){d.options.onZoomEnd.call(d,b)},200);else if(this.options.handleClick)d.doubleTapTimer=setTimeout(function(){d.doubleTapTimer=null;for(h=g.target;h.nodeType!=1;)h=h.parentNode;if(h.tagName!="SELECT"&&h.tagName!="INPUT"&&h.tagName!="TEXTAREA")k=c.createEvent("MouseEvents"),k.initMouseEvent("click",!0,!0,b.view,1,g.screenX,g.screenY,g.clientX,g.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),k._fake=!0,h.dispatchEvent(k)},
d.options.zoom?250:0);d._resetPos(400)}d.options.onTouchEnd&&d.options.onTouchEnd.call(d,b)}}},_resetPos:function(a){var b=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,c=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(b==this.x&&c==this.y){if(this.moved)this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this);if(this.hScrollbar&&this.options.hideScrollbar)d=="webkit"&&(this.hScrollbarWrapper.style[t]="300ms"),
this.hScrollbarWrapper.style.opacity="0";if(this.vScrollbar&&this.options.hideScrollbar)d=="webkit"&&(this.vScrollbarWrapper.style[t]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(b,c,a||0)},_wheel:function(a){var b=this,c,d;if("wheelDeltaX"in a)c=a.wheelDeltaX/12,d=a.wheelDeltaY/12;else if("wheelDelta"in a)c=d=a.wheelDelta/12;else if("detail"in a)c=d=-a.detail*3;else return;if(b.options.wheelAction=="zoom"){d=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0));if(d<b.options.zoomMin)d=
b.options.zoomMin;if(d>b.options.zoomMax)d=b.options.zoomMax;d!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,d,400),setTimeout(function(){b.wheelZoomCount--;!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))}else{c=b.x+c;d=b.y+d;if(c>0)c=0;else if(c<b.maxScrollX)c=b.maxScrollX;if(d>b.minScrollY)d=b.minScrollY;else if(d<b.maxScrollY)d=b.maxScrollY;b.maxScrollY<0&&b.scrollTo(c,d,0)}},_transitionEnd:function(a){a.target==
this.scroller&&(this._unbind(fa),this._startAni())},_startAni:function(){var a=this,b=a.x,c=a.y,d=Date.now(),g,h,i;if(!a.animating)if(a.steps.length){g=a.steps.shift();if(g.x==b&&g.y==c)g.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(g.time),a._pos(g.x,g.y),a.animating=!1,g.time?a._bind(fa):a._resetPos(0)):(i=function(){var k=Date.now();if(k>=d+g.time)a._pos(g.x,g.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(k=(k-
d)/g.time-1,h=f.sqrt(1-k*k),k=(g.x-b)*h+b,a._pos(k,(g.y-c)*h+c),a.animating)a.aniTime=I(i)},i())}else a._resetPos(400)},_transitionTime:function(a){a+="ms";this.scroller.style[m]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[m]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[m]=a)},_momentum:function(a,b,c,d,g){var b=f.abs(a)/b,h=b*b/0.0012,i=0,i=0;a>0&&h>c?(c+=g/(6/(h/b*6.0E-4)),b=b*c/h,h=c):a<0&&h>d&&(d+=g/(6/(h/b*6.0E-4)),b=b*d/h,h=d);h*=a<0?-1:1;return{dist:h,time:f.round(b/6.0E-4)}},
_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,c*=this.scale);return{left:b,top:c}},_snap:function(a,b){var c,d,g;g=this.pagesX.length-1;c=0;for(d=this.pagesX.length;c<d;c++)if(a>=this.pagesX[c]){g=c;break}g==this.currPageX&&g>0&&this.dirX<0&&g--;a=this.pagesX[g];d=(d=f.abs(a-this.pagesX[this.currPageX]))?f.abs(this.x-a)/d*500:0;this.currPageX=g;g=this.pagesY.length-1;for(c=0;c<g;c++)if(b>=this.pagesY[c]){g=
c;break}g==this.currPageY&&g>0&&this.dirY<0&&g--;b=this.pagesY[g];c=(c=f.abs(b-this.pagesY[this.currPageY]))?f.abs(this.y-b)/c*500:0;this.currPageY=g;g=f.round(f.max(d,c))||200;return{x:a,y:b,time:g}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[i]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(Q,a);this._unbind(ca);
this._unbind(K,a);this._unbind(ha,a);this._unbind(V,a);this.options.hasTouch||this._unbind(W);this.options.useTransition&&this._unbind(fa);this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a,b,c,d=0;b=0;if(this.scale<this.options.zoomMin)this.scale=this.options.zoomMin;this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=
f.round(this.scroller.offsetWidth*this.scale);this.scrollerH=f.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&
this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;if(typeof this.options.snap=="string"){this.pagesX=[];this.pagesY=[];c=this.scroller.querySelectorAll(this.options.snap);a=0;for(b=c.length;a<b;a++)d=this._offset(c[a]),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,this.pagesX[a]=d.left<this.maxScrollX?this.maxScrollX:d.left*this.scale,this.pagesY[a]=
d.top<this.maxScrollY?this.maxScrollY:d.top*this.scale}else if(this.options.snap){for(this.pagesX=[];d>=this.maxScrollX;)this.pagesX[b]=d,d-=this.wrapperW,b++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);b=d=0;for(this.pagesY=[];d>=this.maxScrollY;)this.pagesY[b]=d,d-=this.wrapperH,b++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-
1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[m]="0",this._resetPos(400))},scrollTo:function(a,b,c,d){var f=a;this.stop();f.length||(f=[{x:a,y:b,time:c,relative:d}]);a=0;for(b=f.length;a<b;a++){if(f[a].relative)f[a].x=this.x-f[a].x,f[a].y=this.y-f[a].y;this.steps.push({x:f[a].x,y:f[a].y,time:f[a].time||0})}this._startAni()},scrollToElement:function(a,b){var c;if(a=a.nodeType?a:this.scroller.querySelector(a))c=this._offset(a),c.left+=
this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=c.left>0?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=c.top>this.minScrollY?this.minScrollY:c.top<this.maxScrollY?this.maxScrollY:c.top,b=b===void 0?f.max(f.abs(c.left)*2,f.abs(c.top)*2):b,this.scrollTo(c.left,c.top,b)},scrollToPage:function(a,b,c){c=c===void 0?400:c;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)a=a=="next"?this.currPageX+1:a=="prev"?this.currPageX-1:a,b=b=="next"?this.currPageY+
1:b=="prev"?this.currPageY-1:b,a=a<0?0:a>this.pagesX.length-1?this.pagesX.length-1:a,b=b<0?0:b>this.pagesY.length-1?this.pagesY.length-1:b,this.currPageX=a,this.currPageY=b,a=this.pagesX[a],b=this.pagesY[b];else{a*=-this.wrapperW;b*=-this.wrapperH;if(a<this.maxScrollX)a=this.maxScrollX;if(b<this.maxScrollY)b=this.maxScrollY}this.scrollTo(a,b,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(K,a);this._unbind(ha,a);this._unbind(V,a)},enable:function(){this.enabled=!0},
stop:function(){this.options.useTransition?this._unbind(fa):ja(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,b,c,d){var f=c/this.scale;if(this.options.useTransform)this.zoomed=!0,d=d===void 0?200:d,a=a-this.wrapperOffsetLeft-this.x,b=b-this.wrapperOffsetTop-this.y,this.x=a-a*f+this.x,this.y=b-b*f+this.y,this.scale=c,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:
this.y,this.scroller.style[m]=d+"ms",this.scroller.style[i]="translate("+this.x+"px,"+this.y+"px) scale("+c+")"+U,this.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};b=null;typeof exports!=="undefined"?exports.iScroll=A:a.iScroll=A})(window,document);var GameFeedScroller,friendsScoreScroller,leaderboardScroller,popupScroller,leagueMessageScroller,myStorePurchasesScroller;function DontContinue(){window.event?window.event.cancelBubble=!0:e.cancelable&&e.stopPropagation()}
function refreshScroller(a,c){try{if(c=="GameFeedInfo"){if(!GameFeedScroller)GameFeedScroller=displaymode=="w"?new iScroll("wrapper",{hScrollbar:!1,vScrollbar:!1}):new iScroll("wrapper5",{hScrollbar:!1,vScrollbar:!1}),GameFeedScroller.onScrollEnd=function(){_gaq.push(["_trackEvent","Clicks","ViewGameTracker","Scroll"])},a=GameFeedScroller}else if(c=="MyleagueInvites"||c=="LeagueLeaderboard2"){if(!leaderboardScroller)leaderboardScroller=displaymode=="w"?new iScroll("wrapper3",{hScrollbar:!1,vScrollbar:!1}):
new iScroll("wrapper7",{hScrollbar:!1,vScrollbar:!1}),leaderboardScroller.onScrollEnd=function(){_gaq.push(["_trackEvent","Clicks","ViewLeaderboard","Scroll"])},a=leaderboardScroller}else if(c=="FriendsLeaderboard"){if(!friendsScoreScroller)friendsScoreScroller=displaymode=="w"?new iScroll("wrapper2",{hScrollbar:!1,vScrollbar:!1}):new iScroll("wrapper6",{hScrollbar:!1,vScrollbar:!1}),friendsScoreScroller.onScrollEnd=function(){_gaq.push(["_trackEvent","Clicks","ViewFriendsScores","Scroll"])},a=leaderboardScroller}else if(c==
"invitepanel"){if(!leagueMessageScroller)leagueMessageScroller=displaymode=="w"?new iScroll("leagueMessageWrapper",{hScrollbar:!1,vScrollbar:!1}):new iScroll("leagueMessageWrapper_mobile",{hScrollbar:!1,vScrollbar:!1}),leagueMessageScroller.onScrollEnd=function(){_gaq.push(["_trackEvent","Clicks","ViewLeagueMessages","Scroll"])},a=leagueMessageScroller}else if(c=="storepurchases"){if(!myStorePurchasesScroller)myStorePurchasesScroller=new iScroll(displaymode+"_scroll_storepurchases",{hScrollbar:!1,
vScrollbar:!1}),myStorePurchasesScroller.onScrollEnd=function(){_gaq.push(["_trackEvent","Clicks","ScrollMyStorePurchases","Scroll"])},a=myStorePurchasesScroller}else c=="popup"&&!popupScroller&&(a=popupScroller=new iScroll("wrapperpopup",{hScrollbar:!1,scrollbarClass:"myScrollbar"}));a&&typeof a!="undefined"&&setTimeout(function(){a.refresh()},0)}catch(g){}}
function ToggleCreditsmanager(){$("#"+displaymode+"_creditsmanager").is(":visible")==!1?($("#"+displaymode+"_creditsmanager").animate({top:"5%"},800,function(){$("#"+displaymode+"_creditsmanagerclickbtn").html($("#"+displaymode+"_creditsmanagerclickbtn").html()=="<span>$</span>1-Click Mode"?"<span>$</span>&nbsp;Close":"<span>$</span>1-Click Mode")}),$("#"+displaymode+"_creditsmanager").attr("style","display:block;z-index:900;")):$("#"+displaymode+"_creditsmanager").fadeOut("slow",function(){$("#"+
displaymode+"_creditsmanagerclickbtn").html($("#"+displaymode+"_creditsmanagerclickbtn").html()=="<span>$</span>1-Click Mode"?"<span>$</span>&nbsp;Close":"<span>$</span>1-Click Mode")});if($("#"+displaymode+"_creditsmanager").is(":visible")==!0){var a=getUsersOneClickCreditValue();$("input:radio[name="+displaymode+"_storecredits]").filter("[value="+a+"]").attr("checked",!0)}}function showhowtoplay(){$("#"+displaymode+"_howtotutorial").toggle("fast")}
function showtech(){$("#"+displaymode+"_techsupport").toggle("fast");$("#techsupport").toggle("fast")}function nicknameeditor(){$(".nicknamepopup").is(":visible")==!0?$(".nicknamepopup").fadeOut("fast"):$(".nicknamepopup").fadeIn("fast")}function makePurchase(){}function reconnectclick(){$("#"+displaymode+"_reconnectstatus").slideToggle("fast")}
function ShowTips(){displaymode=="m"&&$("[href=#3]").click();$("#"+displaymode+"_tooltips").toggle("fast",function(){$("#"+displaymode+"_helpclickbtn").html($("#"+displaymode+"_helpclickbtn").html()=="<span>?</span>Help!"?"<span>X</span>Hide":"<span>?</span>Help!");$(".tooltip-shade-bg").toggle()});$("#"+displaymode+"_tooltips").is(":visible")==!0&&_gaq.push(["_trackEvent","Clicks","ShowTips"])}
function ToggleUserInfo(){$("#"+displaymode+"_userinfo").slideToggle("fast",function(){});$("#"+displaymode+"_userinfo").is(":visible")==!0&&_gaq.push(["_trackEvent","Clicks","ShowMenu"])}function hideLeagueExtraDetails(a){$("#"+a).hide()}function hideInvites(a){$(".linv_"+a).hide()}function showLeagueExtraDetails(){$(".invitepanel").show()}
function checkBetCountDown(){BetValidCount--;BetValidCount>0?(span=document.getElementById(displaymode+"_count"),span.innerHTML=BetValidCount,setTimeout("checkBetCountDown();",1E3)):BetValidCount===0&&($("#"+displaymode+"_predictionpending").html('<img src="https://d2q72sm6lqeuqa.cloudfront.net/images/icon_tick.png" border="0" alt="Success" style="vertical-align:middle; height:16px;" />&nbsp;<strong>Success</strong>, Prediction Made!'),$("#"+displaymode+"_predictionpending").delay(1E3).hide(),$("#"+
displaymode+"_count").hide(),$(".tooltip-shade").delay(1E3).hide())}function StartBetCountDown(){voidOffset==0&&(voidOffset=5);BetValidCount=voidOffset;$(".tooltip-shade").show();$(".betcountdown").show();$("#"+displaymode+"_count").html(BetValidCount);$("#"+displaymode+"_count").show();$("#"+displaymode+"_predictionpending").html("Prediction pending...");$("#"+displaymode+"_predictionpending").show();setTimeout("checkBetCountDown();",1E3)}
function bouncenotification(a){var c="",c=a;c!=""&&$(".notification-bubble .text").text(c);$(".notification-bubble").fadeIn("slow");for(a=0;a<6;a++)$(".notification-bubble").animate({top:"15px"},500).animate({top:"0px"},500);$(".notification-bubble").fadeOut("slow")}
function showleaguepanel(a){a==2&&($("#"+displaymode+"_CreateLeagueError").html(""),$("#"+displaymode+"_leaguename").val(""),_gaq.push(["_trackEvent","Clicks","CreateLeague_step1"]));$("#"+displaymode+"_league_view_"+a).fadeIn("fast")}function hideleaguepanel(a){$("#"+displaymode+"_league_view_"+a).hide()}function getleague(a){$(".leaguepanel").hide();$("#"+displaymode+"_leaguestandings_"+a).fadeIn("fast")}
function slider(a){a==0?($(".slidepanel").slideUp(),$(".game-control-close").hide(),$(".button-1").removeClass("active")):($(".slidepanel").not("#"+displaymode+"_slide"+a).slideUp(),$(".button-1").removeClass("active"),$("#"+displaymode+"_slide"+a).slideToggle("fast",function(){$("#"+displaymode+"_slide"+a).is(":visible")?($(".game-control-close").show(),$("#"+displaymode+"slidebtn"+a).addClass("active")):($(".game-control-close").hide(),$(".button-1").removeClass("active"))}));var c="";a==1?c="ViewGameTracker":
a==2?c="ViewFriendsScores":a==3?c="ViewLeaderboard":a==4&&(c="ViewBonus");c&&_gaq.push(["_trackEvent","Clicks",c])}
function setupcarousel_mobile(a,c){var g=0,f=1,g=0,g=$("#b"+a+" > div").size();$(".option3 > .betselection").hide();c&&(c==1?f=LastPlayerDisplayed:c==2&&(f=LastTeamDisplayed));$(".option3 > #selection_"+f).show();if(a!=1&&a!=2||a==1&&LastPlayerDisplayed==1||a==2&&LastTeamDisplayed==1)$("#"+displaymode+"_pregamebet_"+a).find("#next").attr("onClick","showoption("+a+",2);return false;"),$("#"+displaymode+"_pregamebet_"+a).find("#prev").attr("onClick","showoption("+a+","+g+");return false;");g<=1?show_navbtns(a,
1):(show_navbtns(a,0),$("#"+displaymode+"_pregamebet_"+a).find("#betnum").html(f+"/"+g))}
function setupcarousel_web(a,c){var g=0,f=1,b=0;$(".option3").each(function(){try{b="b"+a;g=$("#"+b+" > div").size();$("#"+b+" > .betselection").hide();c&&(c==1?f=LastPlayerDisplayed:c==2&&(f=LastTeamDisplayed));$("#"+b+" > #selection_1").show();if(a!=1&&a!=2||a==1&&LastPlayerDisplayed==1||a==2&&LastTeamDisplayed==1)$("#"+displaymode+"_pregamebet_"+a).find(".nextbet").attr("onClick","showoption("+a+",2);return false;"),$("#"+displaymode+"_pregamebet_"+a).find(".prevbet").attr("onClick","showoption("+
a+","+g+");return false;");g<=1?show_navbtns(a,1):(show_navbtns(a,0),$("#"+displaymode+"_pregamebet_"+a).find(".betnum").html("1/"+g));f+=1;a+=1}catch(d){console.log(d)}})}
function show_navbtns(a,c){displaymode=="m"?c==0?($("#"+displaymode+"_pregamebet_"+a).find("#next").show(),$("#"+displaymode+"_pregamebet_"+a).find("#prev").show()):($("#"+displaymode+"_pregamebet_"+a).find("#next").hide(),$("#"+displaymode+"_pregamebet_"+a).find("#prev").hide()):c==0?($("#"+displaymode+"_pregamebet_"+a).find(".nextbet").show(),$("#"+displaymode+"_pregamebet_"+a).find(".prevbet").show()):($("#"+displaymode+"_pregamebet_"+a).find(".nextbet").hide(),$("#"+displaymode+"_pregamebet_"+
a).find(".prevbet").hide())}
function showoption(a,c){a==1?LastPlayerDisplayed=c:a==2&&(LastTeamDisplayed=c);var g=1,g=a,f=c+1,b=c-1,d=1,d="b"+g,h=$("#"+d+" > div").size();c==h&&(f="1");b==0&&(b=h);displaymode=="m"?($(".betselection").hide(),$(".option3 > #selection_"+c).show(),$("#"+displaymode+"_pregamebet_"+g).find("#betnum").html(c+"/"+h),$("#"+displaymode+"_pregamebet_"+g).find("#next").attr("onClick","showoption("+g+","+f+");return false;"),$("#"+displaymode+"_pregamebet_"+g).find("#prev").attr("onClick","showoption("+
g+","+b+");return false;")):($("#"+d+" > .betselection").hide(),$("#"+d+" > #selection_"+c).show(),$("#"+displaymode+"_pregamebet_"+g).find(".betnum").html(c+"/"+h),$("#"+displaymode+"_pregamebet_"+g).find(".nextbet").attr("onClick","showoption("+g+","+f+");return false;"),$("#"+displaymode+"_pregamebet_"+g).find(".prevbet").attr("onClick","showoption("+g+","+b+");return false;"))}var numofpregamebets=8;
function shownextbet(a){var c=a+1,g;c==1?g=1:c==2&&(g=2);$("#"+displaymode+"_pregamebet_"+a).hide(10);$("#"+displaymode+"_pregamebet_"+c).show(10,function(){displaymode=="m"?setupcarousel_mobile(c,g):setupcarousel_web(c,g)});c==numofpregamebets?$(".next").hide():($(".next").removeAttr("style"),$(".next").attr("onClick","shownextbet("+c+");return false;"));$(".prev").show();$(".prev").attr("onClick","showprevbet("+a+");return false;")}
function showprevbet(a){var c=a+1,g=a-1,f;a==1?f=1:a==2&&(f=2);$("#"+displaymode+"_pregamebet_"+c).hide(10);$("#"+displaymode+"_pregamebet_"+a).show(10,function(){displaymode=="m"?setupcarousel_mobile(c,f):setupcarousel_web(c,f)});$(".next").show();$(".next").attr("onClick","shownextbet("+a+");return false;");g==0?$(".prev").hide():$(".prev").attr("onClick","showprevbet("+g+");return false;")}
$(document).ready(function(){$("#"+displaymode+"_league_menu a").click(function(){$("#"+displaymode+"_league_menu a").removeClass("activebtn");$(this).attr("class","activebtn")});bouncenotification();setTimeout(function(){window.scrollTo(0,1)},100);$(".panel").hide();$(".loading").hide();$("#panel1").show();$(".tab1 a").attr("class","current");$("[id^=tab_]").click(function(){var a=$(this).attr("id").split("_")[1];$(".panel").hide();$(".coda-nav a").removeAttr("class");$("#panel"+a).fadeIn("fast");
$(".tab"+a+" a").attr("class","current");a==3&&userLeague.GetFriendsLeaderBoard();a==4?userLeague&&$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&userLeague.GetLeagueTable(userLeague.id,userLeague.name,null,userLeague.creater_Id,userLeague.num_MembersInLeague,"DontDisplayLoadingGif",null,null):a==5&&(bootroomused=1);return!1})});function showslide(a){$(".howtoslide").hide();$("#"+displaymode+"_howtoslide"+a).fadeIn("slow");$("body").scrollTop(0)}
function showpenos(){$(".pitch-container").fadeOut("fast",function(){$(".peno-container").fadeIn("slow");$(".penalty-score").fadeIn("slow")})}function openCoachmarks(){$(".definitionlabel").html("<strong>Help</strong><br />Tap ? for more info");$("#"+displaymode+"_coachmarks").show()}function showdefinition(a){$(".definitionlabel").html(a)}function closeCoachmarks(){$("#"+displaymode+"_coachmarks").hide()}
function friend_notification(a,c){try{var g=$("#"+displaymode+"_friend_notification"),f;f=a.indexOf("http")==0?a:facebookprofilepicurl+a;g.append('<div clas="notification_wrapper"><img src="'+f+'" border="0" alt="Profile Pic" /><span class="tick"></span><span>'+c+"</span></div>");g.show();g.animate({top:"0px"},1E3).delay(2E3).animate({top:"-50px"},500,function(){g.hide();g.html("")})}catch(b){}}
function show_registration(){$("#"+displaymode+"_registration_form").show();$("#"+displaymode+"_confirm").hide();show_login()}function cancel_registration(){$("#"+displaymode+"_registration_form").hide();$("#"+displaymode+"_register").show();$("#"+displaymode+"_confirm").hide();$("#"+displaymode+"_login").hide();$("#"+displaymode+"_forgotpass").hide();$("#"+displaymode+"_login_tab").css({background:"#999"});$("#"+displaymode+"_register_tab").css({background:"#222"})}
function confirm_registration(){$("#"+displaymode+"_register").hide();$("#"+displaymode+"_confirm").fadeIn();$("#"+displaymode+"_registerdetails").html("");$("#"+displaymode+"_logindetails").html("");$("#"+displaymode+"_resenddetails").html("")}
function show_login(){$("#"+displaymode+"_passResent").hide();$("#"+displaymode+"_forgotpass").hide();$("#"+displaymode+"_register").hide();$("#"+displaymode+"_confirm").hide();$("#"+displaymode+"_login").fadeIn();$("#"+displaymode+"_login_tab").css({background:"#222"});$("#"+displaymode+"_register_tab").css({background:"#999"})}
function show_registerform(){$("#"+displaymode+"_login").hide();$("#"+displaymode+"_forgotpass").hide();$("#"+displaymode+"_register").fadeIn();$("#"+displaymode+"_login_tab").css({background:"#999"});$("#"+displaymode+"_register_tab").css({background:"#222"})}function forgot_pass(){$("#"+displaymode+"_login").hide();$("#"+displaymode+"_forgotpass").fadeIn()};var value1=-1,value2=-1;
function Bet(a,c,g,f){this.betid=0;this.eventid=a;this.eventdesc=null;this.fixtureid=c;this.amount=g;this.odds=0;this.newodds=null;this.userid=f;this.creditsremaining=this.betresult=this.betdescription=this.user=null;this.status=0;this.betcomplete=!1;this.creditsearned=0;this.newcredits=!1;this.eventtime=null;this.addamount=this.numattempts=0;this.incorrectOdds=this.incorrectEventID=null;this.numbetstounlockhigherlevel=this.numbetsplaced=this.unlockcredits=this.leagueid=0}
function pregamecalculate(a){var c,g=GetCurrentfixtureID();switch(a){case 3:value1=$("#betoption3").val();value2=$("#betoption4").val();if(isNaN(value1)||isNaN(value2)||!(value1>=0&&value2>=0)||!value1||!value2)c="You must enter a valid half time score!!";break;case 4:value1=$("#betoption5").val();value2=$("#betoption6").val();if(isNaN(value1)||isNaN(value2)||!(value1>=0&&value2>=0)||!value1||!value2)c="You must enter a valid full time score!!";break;case 5:value1=$("#betoption7").val();if(isNaN(value1)||
!(value1>=0)||!value1)c="You must enter a valid number!!";break;case 6:value1=$("#betoption8").val();if(isNaN(value1)||!(value1>=0)||!value1)c="You must enter a valid number!!";break;case 7:value1=$("#betoption9").val();if(isNaN(value1)||!(value1>=0)||!value1)c="You must enter a valid number!!";break;case 8:if(value1=$("#betoption10").val(),isNaN(value1)||!(value1>=0)||!value1)c="You must enter a valid number!!"}c?$("#calc"+a).html(c):(c=JSON.parse(window.sessionStorage.getItem("facebookuser")),$.ajax({url:WS_URL_ROOT+
"/Game/CalculatePreGame",type:"POST",data:"fbid="+a+"&userid="+c.id+"&fixtureid="+g+"&v1="+value1+"&v2="+value2,dataType:"html",error:function(a,b,c){AjaxFail("pregamecalculate",a,b,c)},success:function(c){c>0?$("#calc"+a).html("If correct you will win <strong>"+c+"</strong> Credits!!"):$("#calc"+a).html("Error calculating potential winnings.")}}))}
function placePreGameBets(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(c){}GetRequestParam("f");var g=0;numPreGamesBetsJustPlaced=PreGamesBetsToPlace=0;if(a)for(var f=0;f<a.length;f++){var b=a[f];if(b.bm==0)if(b.fbid==1||b.fbid==9){var d=parseInt($("input:radio[name=bet"+b.fbid+"]:checked").val());if(d>0)for(var h=0;h<b.o.length;h++){var i=b.o[h];if(i.oid==d){i.soid=d;PreGamesBetsToPlace+=1;b.pb=1;placePreGameBet(b.fbid,i.soid,-1,-1);break}}}else switch(b.fbid){case 3:value1=
$("#betoption3").val();value2=$("#betoption4").val();if(!isNaN(value1)&&!isNaN(value2)&&value1>=0&&value2>=0&&value1&&value2)b.pb=1,b.v1=value1,b.v2=value2,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2);break;case 4:value1=$("#betoption5").val();value2=$("#betoption6").val();if(!isNaN(value1)&&!isNaN(value2)&&value1>=0&&value2>=0&&value1&&value2)b.pb=1,b.v1=value1,b.v2=value2,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2);break;case 5:value1=$("#betoption7").val();
if(!isNaN(value1)&&value1>=0&&value1)b.pb=1,b.v1=value1,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2);break;case 6:value1=$("#betoption8").val();if(!isNaN(value1)&&value1>=0&&value1)b.pb=1,b.v1=value1,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2);break;case 7:value1=$("#betoption9").val();if(!isNaN(value1)&&value1>=0&&value1)b.pb=1,b.v1=value1,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2);break;case 8:if(value1=$("#betoption10").val(),!isNaN(value1)&&
value1>=0&&value1)b.pb=1,b.v1=value1,PreGamesBetsToPlace+=1,placePreGameBet(b.fbid,-1,value1,value2)}else g+=1}}catch(k){logError("placePreGameBets",k)}$(".pregame-betpanel").hide()}
function placePreGameBet(a,c,g,f){var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));$(".pregameclick").hide();$.ajax({url:WS_URL_ROOT+"/Game/PlacePreGameBet",type:"POST",data:"u="+b.id+"&fbid="+a+"&fboid="+c+"&value1="+g+"&value2="+f+"&f="+GetCurrentfixtureID()+"&fu="+b.fbuserid,error:function(a,b,c){AjaxFail("GetSteveItems",a,b,c)},success:function(a){a&&a>0&&(numPreGamesBetsJustPlaced+=1,numPreGamesBetsJustPlaced==PreGamesBetsToPlace&&($(".pregameclick").show(),numPreGamesBetsJustPlaced==
1?$(".GameFeedInfo").prepend("<b class='bettext'>1 Pre-Game Prediction was placed!!</b><br />"):$(".GameFeedInfo").prepend("<b class='bettext'>"+numPreGamesBetsJustPlaced+" Pre-Game Predictions were placed!!</b><br />"),a=parseInt($(".numPregame").html())+numPreGamesBetsJustPlaced,$(".numPregame").html(a),GetPreGameBetDetails(!0,!0)))}})}
function PreGameBetsPlaced(a,c){try{var g=0;if(a&&a.length>0){window.sessionStorage.setItem("pregamebets",$.toJSON(a));for(var f=GetRequestParam("f"),b=0;b<a.length;b++){var d=a[b];if(d.bm==!0){g+=1;for(var h="",i=0;i<d.o.length;i++){var k=d.o[i];if(k.soid>0){h=k.d;break}}d.fbid==5?localStorage.setItem("predictedFirstHalfFrees",f+"_"+h):d.fbid==6&&localStorage.setItem("predicted2ndHalfFrees",f+"_"+h);d.fbid==7?localStorage.setItem("predictedFirstHalfThrows",f+"_"+h):d.fbid==8&&localStorage.setItem("predicted2ndHalfThrows",
f+"_"+h)}}var m=parseInt(g)-parseInt(c);if(m>0){if(m==1)$(".GameFeedInfo").prepend("<b class='bettext'>"+m+" Pre-Game Prediction was placed!!</b><br />"),_gaq.push(["_trackEvent","PreGameBets","PreGameBetPlaced"]);else{$(".GameFeedInfo").prepend("<b class='bettext'>"+m+" Pre-Game Predictions were placed!!</b><br />");for(b=0;b<m;b++)_gaq.push(["_trackEvent","PreGameBets","PreGameBetPlaced"])}$(".numPregame").html(g);refreshScroller(GameFeedScroller,"GameFeedInfo")}}$(".pregameclick").show()}catch(p){logError("PreGameBetsPlaced",
p)}}
function ShowPreGameBets_mobile(a){try{for(var c=1;c<10;c++)$("#calc"+c).html("");c="<div class='pregameslides'>";c+="<div id='shownext_1' onClick='shownextbet(1);return false;' class='next button-alt'>Next Prediction <strong>&#8250;</strong></div>";c+="<div id='showprev_1' class='prev button-alt' style='display:none;'><strong>&#8249;</strong> Prev Prediction</div>";for(var g=0;g<a.length;g++){var f=a[g],b=g+1,c=b==1?c+"<div class='content' id='"+displaymode+"_pregamebet_"+b+"' style='display:block;'>":c+
"<div class='content' id='"+displaymode+"_pregamebet_"+b+"' style='display:none;'>",c=c+"<span class='betindicator'>"+b+" of "+a.length+"</span><div>";c+="<div class='pregame-bets'>";c=c+"<div class='bet-title'>"+f.d+"</div>";if(f.bm==0)if(f.open==!0){c=c+"<div class='option3' id='b"+b+"'>";switch(f.fbid){case 1:for(var d=1,h=0;h<f.o.length;h++){var i=f.o[h],c=c+"<div class='betselection club' id='selection_"+d+"'><input type='radio' name='bet"+f.fbid+"' id='betoptionselect_c"+i.oid+"' value='"+i.oid+
"' name='betoptionselect"+i.oid+"' class='betdesc'>";if(i.oid==1&&thisFixture.homecrest){var k;k=thisFixture.homecrest.indexOf("http://")>-1?thisFixture.homecrest:"/images/crests/"+thisFixture.homecrest;c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\"><img src='"+k+"' alt='"+i.d+"' /></label>"}else i.oid==2&&thisFixture.awaycrest?(k=thisFixture.awaycrest.indexOf("http://")>-1?thisFixture.awaycrest:"/images/crests/"+thisFixture.awaycrest,
c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\"><img src='"+k+"' alt='"+i.d+"' /></label>"):c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\">"+i.d+"</label>";c=c+"<span class='betwinnings'>WIN "+i.pw+"</span></div>";d+=1}break;case 9:d=1;for(h=0;h<f.o.length;h++)i=f.o[h],c=c+"<div class='betselection scorer' id='selection_"+d+"'><input type='radio' name='bet"+
f.fbid+"' id='betoptionselect"+i.oid+"' value='"+i.oid+"' name='betoptionselect"+i.oid+"' class='betdesc'>",c=i.i?c+"<label for='betoptionselect"+i.oid+"' onClick=\"$('#betoptionselect"+i.oid+"').attr('checked', 'checked');\"><img src='"+i.i+"' alt='"+i.d+"' /></label><span class='playerselection'>"+i.d+"</span>":c+"<label for='betoptionselect"+i.oid+"' onClick=\"$('#betoptionselect"+i.oid+"').attr('checked', 'checked');\">"+i.d+"</label>",c=c+"<span class='betwinnings'>WIN "+i.pw+"</span></div>",
d+=1;break;case 3:c=c+thisFixture.hometeam+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+thisFixture.awayteam+"<br/><input type='number' min='0' name='homescrore2' id='betoption3' size='10' class='pregameinput' />  -  <input type='number' min='0' name='awayscrore2' id='betoption4' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;
case 4:c=c+thisFixture.hometeam+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+thisFixture.awayteam+"<br/><input type='number' min='0' name='homescrore3' id='betoption5' size='10' class='pregameinput' />  -  <input type='number' min='0' name='awayscrore3' id='betoption6' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 5:c+=
"<input type='number' min='0' name='free' id='betoption7' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 6:c+="<input type='number' min='0' name='free' id='betoption8' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+
f.fbid+"'></span>";break;case 7:c+="<input type='number' min='0' name='throw' id='betoption9' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 8:c+="<input type='number' name='throw' id='betoption10' size='10' class='pregameinput' />",c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>",
c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>"}c+="</div>";c+="<div class='spacer'></div><br clear='all' />"}else c+="<div class='pregame-betmade'>Sorry, the game has kicked off, you can no longer make a pre-game prediction.</div>";else for(h=0;h<f.o.length;h++)if(i=f.o[h],i.soid==i.oid){var m=parseInt(i.pw),c=c+"<div class='pregame-betmade'>You Predicted that the result would be <br /> <span class='pregame-betmade-desc'>"+i.sd+"</span>";i.s==0?c=c+"<br /><strong>You stand to win "+
m+" credits, Good Luck!</strong>":i.s==1?c=c+"<br /><strong>Congratulations, You won "+i.pw+" credits!</strong>":i.s==-1&&(c+="<br /><strong>Hard luck, Your Prediction was incorrect!</strong>");c+="</div>";break}c+="<div id='next'>&#9654;</div><div id='prev'>&#9664;</div><div id='betnum'></div></div>";c+="</div>";c+="</div>"}c+="</div>";$("#"+displaymode+"_BetHTML").html(c);$(".pregame-betpanel").show();setupcarousel_mobile(1)}catch(p){logError("ShowPreGameBets",p)}}
function ShowPreGameBets_web(a){try{for(var c=1;c<10;c++)$("#calc"+c).html("");for(var c="<div class='pregameslides'>",g=0;g<a.length;g++){var f=a[g],b=g+1,c=c+"<div class='content' id='"+displaymode+"_pregamebet_"+b+"' style='display:block;'>";c+="<div>";c+="<div class='pregame-bets'>";c=c+"<div class='bet-title'>"+f.d+"</div>";if(f.bm==0)if(f.open==!0){c=c+"<div class='option3' id='b"+b+"'>";switch(f.fbid){case 1:for(var d=1,h=0;h<f.o.length;h++){var i=f.o[h],c=c+"<div class='betselection club' id='selection_"+
d+"'><input type='radio' name='bet"+f.fbid+"' id='betoptionselect_c"+i.oid+"' value='"+i.oid+"' class='betdesc'>";if(i.oid==1&&thisFixture.homecrest){var k;k=thisFixture.homecrest.indexOf("http://")>-1?thisFixture.homecrest:"/images/crests/"+thisFixture.homecrest;c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\"><img src='"+k+"' alt='"+i.d+"' /></label>"}else i.oid==2&&thisFixture.awaycrest?(k=thisFixture.awaycrest.indexOf("http://")>
-1?thisFixture.awaycrest:"/images/crests/"+thisFixture.awaycrest,c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\"><img src='"+k+"' alt='"+i.d+"' /></label>"):c=c+"<label for='betoptionselect_c"+i.oid+"' onClick=\"$('#betoptionselect_c"+i.oid+"').attr('checked', 'checked');\">"+i.d+"</label>";c=c+"<span class='betwinnings'>WIN "+i.pw+"</span></div>";d+=1}break;case 9:d=1;for(h=0;h<f.o.length;h++)i=f.o[h],c=c+"<div class='betselection scorer' id='selection_"+
d+"'><input type='radio' name='bet"+f.fbid+"' id='betoptionselect"+i.oid+"' value='"+i.oid+"' name='betoptionselect"+i.oid+"' class='betdesc'>",c=i.i?c+"<label for='betoptionselect"+i.oid+"' onClick=\"$('#betoptionselect"+i.oid+"').attr('checked', 'checked');\"><img src='"+i.i+"' alt='"+i.d+"' /></label><span class='playerselection'>"+i.d+"</span>":c+"<label for='betoptionselect"+i.oid+"' onClick=\"$('#betoptionselect"+i.oid+"').attr('checked', 'checked');\">"+i.d+"</label>",c=c+"<span class='betwinnings'>WIN "+
i.pw+"</span></div>",d+=1;break;case 3:c=c+thisFixture.hometeam+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+thisFixture.awayteam+"<br/><input type='number' min='0' name='homescrore2' id='betoption3' size='10' class='pregameinput' />  -  <input type='number' min='0' name='awayscrore2' id='betoption4' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+
"'></span>";break;case 4:c=c+thisFixture.hometeam+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+thisFixture.awayteam+"<br/><input type='number' min='0' name='homescrore3' id='betoption5' size='10' class='pregameinput' />  -  <input type='number' min='0' name='awayscrore3' id='betoption6' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";
break;case 5:c+="<input type='number' min='0' name='free' id='betoption7' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 6:c+="<input type='number' min='0' name='free' id='betoption8' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";
c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 7:c+="<input type='number' min='0' name='throw' id='betoption9' size='10' class='pregameinput' />";c=c+"<span class='calc-button' onclick='pregamecalculate("+f.fbid+"); return false;'>Calculate winnings</span>";c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>";break;case 8:c+="<input type='number' name='throw' id='betoption10' size='10' class='pregameinput' />",c=c+"<span class='calc-button' onclick='pregamecalculate("+
f.fbid+"); return false;'>Calculate winnings</span>",c=c+"<span class='calc-winnings' id='calc"+f.fbid+"'></span>"}c+="</div>";c+="<div class='spacer'></div><br clear='all' />"}else c+="<div class='pregame-betmade'>Sorry, the game has kicked off, you can no longer make a pre-game prediction.</div>";else for(h=0;h<f.o.length;h++)if(i=f.o[h],i.soid==i.oid){var m=parseInt(i.pw),c=c+"<div class='pregame-betmade'>You Predicted that the result would be <br /> <span class='pregame-betmade-desc'>"+i.sd+"</span>";
i.s==0?c=c+"<br /><strong>You stand to win "+m+" credits, Good Luck!</strong>":i.s==1?c=c+"<br /><strong>Congratulations, You won "+i.pw+" credits!</strong>":i.s==-1&&(c+="<br /><strong>Hard luck, Your Prediction was incorrect!</strong>");c+="</div>";break}c+="<div class='nextbet'>&#9654;</div><div class='prevbet'>&#9664;</div><div class='betnum'></div>";c+="</div></div>";c+="</div>"}c+="</div>";$("#"+displaymode+"_BetHTML").html(c);$(".pregame-betpanel").show();setupcarousel_web(1)}catch(p){logError("ShowPreGameBets",
p),console.log(p)}}function updatePreGamebets(a,c,g){try{CreditsWon=0,checkAndUpdateFirstScoreBets(a,c,g),DoHalfTimebets(a,c,g),DoFullTimebets(a,c,g),CreditsWon>0&&GetUsersNewBalanceAndNotifyFriends(CreditsWon)}catch(f){logError("updatePreGamebets",f)}}
function GetUsersNewBalanceAndNotifyFriends(a){var c=JSON.parse(window.sessionStorage.getItem("facebookuser")),g=GetRequestParam("f"),f;try{f=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(b){}if(f)for(var d=0;d<=f.length-1;d++)if(f[d].F==c.fbuserid){f[d].S=parseInt(f[d].S)+parseInt(a);window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(f));ReOrderFriendsScoresBasedOnCurrentScore();NotifyFriendsOfNewBalanceForThisGame(g,c.fbuserid,f[d].S);break}}
function DoFullTimebets(a,c,g){a==14&&(checkAndUpdateFulltimeScore(a,c,g),checkAndUpdateSecondHalfFreeKicks(),checkAndUpdateSecondHalfThrows())}
function checkAndUpdateSecondHalfFreeKicks(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(c){}for(var g=0;g<a.length;g++){var f=a[g];if(f.bm==!0&&f.bs==0&&f.fbid==6)for(var b=0;b<f.o.length;b++){var d=f.o[b];if(d.soid==d.oid){if(thisFixture.numfreessecondhalf<0)thisFixture.numfreessecondhalf=0;if(d.sd==thisFixture.numfreessecondhalf){f.bs=1;d.s=1;d.w=parseInt(d.pw);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+thisFixture.numfreessecondhalf+
" free-kicks in the second half. You win "+d.w+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=d.w;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=d.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(d.w)])}else f.bs=-1,d.s=-1,d.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+thisFixture.numfreessecondhalf+
" free-kicks in the second half. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(d.a)]);window.sessionStorage.setItem("pregamebets",$.toJSON(a));break}}}}catch(i){logError("checkAndUpdateHalfTimeFreeKicks",i)}}
function checkAndUpdateSecondHalfThrows(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(c){}for(var g=0;g<a.length;g++){var f=a[g];if(f.bm==!0&&f.bs==0&&f.fbid==8)for(var b=0;b<f.o.length;b++){var d=f.o[b];if(d.soid==d.oid){if(thisFixture.numthrowssecondhalf<0)thisFixture.numthrowssecondhalf=0;if(d.sd==thisFixture.numthrowssecondhalf){f.bs=1;d.s=1;d.w=parseInt(d.pw);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+thisFixture.numthrowssecondhalf+
" throws in the second half. You win "+d.w+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=d.w;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=d.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(d.w)])}else f.bs=-1,d.s=-1,d.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+thisFixture.numthrowssecondhalf+" throws in the second half. You lose!!!</b><br />"),
refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(d.a)]);window.sessionStorage.setItem("pregamebets",$.toJSON(a));break}}}}catch(i){logError("checkAndUpdateHalfTimeThrows",i)}}
function checkAndUpdateFulltimeScore(a,c,g){try{var a=c+"-"+g,f;try{f=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(b){}for(c=0;c<f.length;c++){var d=f[c];if(d.bm==!0&&d.bs==0&&d.fbid==4)for(g=0;g<d.o.length;g++){var h=d.o[g];if(h.soid==h.oid){if(h.sd==a){d.bs=1;h.s=1;h.w=parseInt(h.pw);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : Full Time Score is "+a+". You win "+h.w+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var i=JSON.parse(window.sessionStorage.getItem("facebookuser"));
i.credits+=h.w;window.sessionStorage.setItem("facebookuser",$.toJSON(i));$(".credits").html(i.credits);CreditsWon+=h.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(h.w)])}else d.bs=-1,h.s=-1,h.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : Full Time Score is "+a+". You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(h.a)]);window.sessionStorage.setItem("pregamebets",
$.toJSON(f));break}}}}catch(k){logError("checkAndUpdateFulltimeScore",k)}}function DoHalfTimebets(a,c,g){a==12&&(checkAndUpdateHalftimeScore(a,c,g),checkAndUpdateHalfTimeFreeKicks(),checkAndUpdateHalfTimeThrows())}
function checkAndUpdateHalfTimeFreeKicks(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(c){}for(var g=0;g<a.length;g++){var f=a[g];if(f.bm==!0&&f.bs==0&&f.fbid==5)for(var b=0;b<f.o.length;b++){var d=f.o[b];if(d.soid==d.oid){if(thisFixture.numfreesfirsthalf<0)thisFixture.numfreesfirsthalf=0;if(d.sd==thisFixture.numfreesfirsthalf){f.bs=1;d.s=1;d.w=d.pw;$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+thisFixture.numfreesfirsthalf+" free-kicks in the first half. You win "+
d.w+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=d.w;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=d.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(d.w)])}else f.bs=-1,d.s=-1,d.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+thisFixture.numfreesfirsthalf+" free-kicks in the first half. You lose!!!</b><br />"),
refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(d.a)]);window.sessionStorage.setItem("pregamebets",$.toJSON(a));break}}}}catch(i){logError("checkAndUpdateHalfTimeFreeKicks",i)}}
function checkAndUpdateHalfTimeThrows(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(c){}for(var g=0;g<a.length;g++){var f=a[g];if(f.bm==!0&&f.bs==0&&f.fbid==7)for(var b=0;b<f.o.length;b++){var d=f.o[b];if(d.soid==d.oid){if(thisFixture.numthrowsfirsthalf<0)thisFixture.numthrowsfirsthalf=0;if(d.sd==thisFixture.numthrowsfirsthalf){f.bs=1;d.s=1;d.w=d.pw;$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+thisFixture.numthrowsfirsthalf+" throws in the first half. You win "+
d.w+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=d.w;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=d.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(d.w)])}else f.bs=-1,d.s=-1,d.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+thisFixture.numthrowsfirsthalf+" throws in the first half. You lose!!!</b><br />"),
refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(d.a)]);window.sessionStorage.setItem("pregamebets",$.toJSON(a));break}}}}catch(i){logError("checkAndUpdateHalfTimethrows",i)}}
function checkAndUpdateHalftimeScore(a,c,g){try{var a=c+"-"+g,f;try{f=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(b){}for(c=0;c<f.length;c++){var d=f[c];if(d.bm==!0&&d.bs==0&&d.fbid==3)for(g=0;g<d.o.length;g++){var h=d.o[g];if(h.soid==h.oid){if(h.sd==a){d.bs=1;h.s=1;h.w=h.pw;$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : Half Time Score is "+a+". You win "+h.w+" credits!!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var i=JSON.parse(window.sessionStorage.getItem("facebookuser"));
i.credits+=h.w;window.sessionStorage.setItem("facebookuser",$.toJSON(i));$(".credits").html(i.credits);CreditsWon+=h.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(h.w)])}else d.bs=-1,h.s=-1,h.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : Half Time Score is "+a+". You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(h.a)]);window.sessionStorage.setItem("pregamebets",
$.toJSON(f));break}}}}catch(k){logError("checkAndUpdateHalftimeScore",k)}}
function checkAndUpdateFirstScoreBets(a,c,g){try{if((a==6||a==4)&&(c==1&&g==0||c==0&&g==1)){var f;try{f=JSON.parse(window.sessionStorage.getItem("pregamebets"))}catch(b){}for(c=0;c<f.length;c++){var d=f[c];if(d.bm==!0&&d.bs==0&&d.fbid==1){for(var h=0;h<d.o.length;h++){var i=d.o[h];if(i.oid==1){if(a==6){if(i.soid==1){d.bs=1;i.s=1;i.w=parseInt(i.pw);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+i.d+" score first. You win "+i.w+" credits!!!</b><br />");refreshScroller(GameFeedScroller,
"GameFeedInfo");var k=JSON.parse(window.sessionStorage.getItem("facebookuser"));k.credits+=i.w;window.sessionStorage.setItem("facebookuser",$.toJSON(k));$(".credits").html(k.credits);CreditsWon+=i.w;_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(i.w)])}else d.bs=-1,i.s=-1,i.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+i.d+" score first. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss",
"",parseInt(i.a)]);break}}else if(i.oid==2&&a==4){i.soid==2?(d.bs=1,i.s=1,i.w=parseInt(i.pw),$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+i.d+" score first. You win "+i.w+" credits!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),k=JSON.parse(window.sessionStorage.getItem("facebookuser")),k.credits+=i.w,window.sessionStorage.setItem("facebookuser",$.toJSON(k)),$(".credits").html(k.credits),CreditsWon+=i.w,_gaq.push(["_trackEvent","PreGameBets","PreGameWin",
"",parseInt(i.w)])):(d.bs=-1,i.s=-1,i.w=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Prediction : "+i.d+" score first. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(i.a)]));break}}window.sessionStorage.setItem("pregamebets",$.toJSON(f))}if(d.bm==!0&&d.bs==0&&d.fbid==9){for(var g=0,m,h=0;h<d.o.length;h++){i=d.o[h];if(!m)m=i.sd;if(i.d==LastGoalScorer){if(i.sd==LastGoalScorer)d.bs=1,i.s=1,i.w=parseInt(i.pw),
$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Prediction : "+LastGoalScorer+" is the first goalscorer. You win "+i.w+" credits!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),k=JSON.parse(window.sessionStorage.getItem("facebookuser")),k.credits+=i.w,window.sessionStorage.setItem("facebookuser",$.toJSON(k)),$(".credits").html(k.credits),CreditsWon+=i.w,_gaq.push(["_trackEvent","PreGameBets","PreGameWin","",parseInt(i.w)]);else{d.bs=-1;i.s=-1;i.w=0;var p="",p=LastGoalScorer?
"<b class='losetext'>Pre-Game Prediction : "+LastGoalScorer+"  is the first goalscorer. You lose!!!</b><br />":"<b class='losetext'>Pre-Game Prediction : You got first goalscorer wrong. You lose!!!</b><br />";$(".GameFeedInfo").prepend(p);refreshScroller(GameFeedScroller,"GameFeedInfo");_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(i.a)])}g=1;break}}if(!LastGoalScorer&&g==0)for(h=0;h<d.o.length;h++)if(i=d.o[h],i.sd==i.d){d.bs=-1;i.s=-1;i.w=0;p="";p=LastGoalScorer?"<b class='losetext'>Pre-Game Prediction : "+
LastGoalScorer+"  is the first goalscorer. You lose!!!</b><br />":"<b class='losetext'>Pre-Game Prediction : You got first goalscorer wrong. You lose!!!</b><br />";$(".GameFeedInfo").prepend(p);refreshScroller(GameFeedScroller,"GameFeedInfo");_gaq.push(["_trackEvent","PreGameBets","PreGameLoss","",parseInt(i.a)]);break}window.sessionStorage.setItem("pregamebets",$.toJSON(f))}}}}catch(r){logError("UpdateFirstTeamToScore",r)}}function closePreGamepanel(){$(".pregame-betpanel").hide()}
function RefreshBetScrollers(){try{if(listOfPreGameBetScrollers&&listOfPreGameBetScrollers.length>0)for(var a=0;a<listOfPreGameBetScrollers.length;a++)listOfPreGameBetScrollers[a].refresh();else for(a=0;a<listOfPreGameBetScrollerNames.length;a++){var c=new iScroll(listOfPreGameBetScrollerNames[a],{hScrollbar:!1,vScrollbar:!1});listOfPreGameBetScrollers.push(c);c.refresh()}}catch(g){logError("RefreshBetScrollers",g)}}
function GetPreGameBetDetails(a,c){listOfPreGameBetScrollers=[];listOfPreGameBetScrollerNames=[];LastTeamDisplayed=LastPlayerDisplayed=1;c||(WeAreCurrentlyShowingLeagueTable()==!0&&userLeague.UpdateCurrentLeaderboard(1),WeAreCurrentlyShowingFriendsLeagueTable==!0&&userLeague.GetFriendsLeaderBoard());try{var g=GetRequestParam("f");if(g>0){var f=JSON.parse(window.sessionStorage.getItem("facebookuser"));f&&$.ajax({url:WS_URL_ROOT+"/Game/GetFixtureBetDetails",type:"POST",data:"f="+g+"&u="+f.id+"&fu="+
f.fbuserid,error:function(a,b,c){AjaxFail("GetGameBetDetails",a,b,c)},success:function(b){if(b&&b.length>0){numofpregamebets=b.length;window.sessionStorage.setItem("pregamebets",$.toJSON(b));a||(displaymode=="m"?ShowPreGameBets_mobile(b):ShowPreGameBets_web(b));for(var c=0,f=0;f<b.length;f++)b[f].bm==!0&&(c+=1);$(".numPregame").html(c)}}})}}catch(b){logError("GetGameBetDetails",b)}};function User(a){this.userid=0;this.fbuserid=a.id;this.name=a.name;this.first_name=a.first_name;this.last_name=a.last_name;this.link=a.link;this.username=a.username;this.locale=a.locale;this.gender=a.gender;this.loggedIn=!1;this.credits=0;this.birthday=a.birthday;this.email=a.email;this.timezone=a.timezone;this.updated_time=a.updated_time;this.verified=a.verified;this.profilepic="https://graph.facebook.com/"+a.id+"/picture";this.currentfixtureid=0;this.extradata=null;this.level=0}
function FriendUser(a,c){this.userid=0;this.fbuserid=a;this.name=c;this.gender=this.locale=this.username=this.link=this.last_name=this.first_name=null;this.loggedIn=!1;this.credits=0;this.profilepic=this.verified=this.updated_time=this.timezone=this.email=this.birthday=null};var accessToken=null,LoginDetailsLoaded=0,GameID=0;function DisplayAdminDivs(){$("#gamestatus").show()}
function getCurrencyDetails(){var a;try{a=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(c){}if(!a.CurrencyData)try{var g="https://graph.facebook.com/"+a.fbuserid+"?fields=currency&access_token="+encodeURIComponent(accessToken);$.ajax({url:g,type:"GET",error:function(a,c,f){AjaxFail("getCurrencyDetails",a,c,f)},success:function(b){a.CurrencyData=b;window.sessionStorage.setItem("facebookuser",$.toJSON(a))}})}catch(f){logError("getCurrencyDetails.API",f)}}
function checkIfUserInPrivateBrowsing(){var a=0,c=window.sessionStorage;try{c.setItem("qeTest","1"),c.removeItem("qeTest")}catch(g){g.code===DOMException.QUOTA_EXCEEDED_ERR&&c.length===0&&(a=1)}if(a==1)window.location=location.protocol+"//"+location.host+"/Support?ei=pb"}
function CheckForFacebookRequests(a){var c=GetRequestParam("request_ids");if(c){window.sessionStorage.setItem("fbs",1);var g;try{g=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(f){}var b=decodeURIComponent(c).split(",");if(b&&b.length>0)for(var d=0;d<b.length;d++){var h;g&&g.id?(h=b[d]+"_"+g.fbuserid,deleteRequest(h)):getUserIDAndDeleteRequest(b[d])}a==1&&GetFixtureIdFromFbRequest(c)}}function getMultipleRequests(a){FB.api("",{ids:a},function(a){console.log(a)})}
function getUserIDAndDeleteRequest(a){FB.api(a,function(c){try{c&&c.to&&c.to.id&&deleteRequest(a+"_"+c.to.id)}catch(g){logError("getUserIDAndDeleteRequest",g)}})}function deleteRequest(a){FB.api(a,"delete",function(){})}
function GetFixtureIdFromFbRequest(a){try{var c=window.sessionStorage.getItem("facebookuser");$.ajax({url:WS_URL_ROOT+"/Game/GetFixtureIdFromFbRequest",type:"POST",data:"fbRequest="+a+"&u="+c.id+"&fu="+c.fbuserid,error:function(a,b,c){AjaxFail("GetFixtureIdFromFbRequest",a,b,c)},success:function(a){DropUserOnFixture(a)}})}catch(g){logError("GetFixtureIdFromFbRequest",g)}}
function DropUserOnFixture(a){try{if(typeof a!="undefined"&&a!=null&&a>0)window.location.href=location.protocol+"//"+location.host+"/Game/?fb_source=1&f="+a}catch(c){logError("DropUserOnFixture",c)}}
function UserHasFriendsPlayingThisGame(){var a=0;try{var c;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(g){return 1}var f=JSON.parse(window.sessionStorage.getItem("facebookuser"));if(c)for(var b=0;b<=c.length-1;b++)if(c[b].F!=f.fbuserid){a=1;break}}catch(d){logError("UserHasFriends",d)}return a}
function GetFriends(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(c){}var g=-1;if(thisFixture)g=thisFixture.fixtureid;else{var f=GetRequestParam("f");f>0&&(g=f)}var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));typeof a=="undefined"||a==null||a==""?$.ajax({url:WS_URL_ROOT+"/FacebookLogin/Handshake",type:"POST",data:{authCode:accessToken,u:b.id,fu:b.fbuserid,f:GetCurrentfixtureID()},error:function(a,b,c){AjaxFail("GetFriends",a,b,c)},success:function(a){try{window.sessionStorage.setItem("facebookfriendlist",
$.toJSON(a)),g>0&&(GetFriendsDetails(),ListenForFriendUpdates())}catch(b){logError("GetFriends_success",b)}}}):g>0&&$.ajax({url:WS_URL_ROOT+"/Game/GetUpdatedFriends",type:"POST",data:{u:b.id,fu:b.fbuserid,f:GetCurrentfixtureID()},error:function(a,b,c){AjaxFail("GetUpdatedFriends",a,b,c)},success:function(a){try{window.sessionStorage.setItem("facebookfriendlist",$.toJSON(a)),GetFriendsDetails(),ListenForFriendUpdates()}catch(b){logError("GetUpdatedFriends_success",b)}}})}catch(d){logError("GetFriends",
d)}}function GetFriendsDetails(){try{GetFriendsBetHistoryForThisGame(),userLeague.GetFriendsLeaderBoard()}catch(a){logError("GetFriendsDetails",a)}}
function GetFriendsBetHistoryForThisGame(){try{var a;try{a=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(c){}var g="";if(a)for(var f=0;f<a.length;f++)g=f==0?a[f].id:g+","+a[f].id;var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));$.ajax({url:WS_URL_ROOT+"/Game/GetFriendsBetHistory",type:"POST",data:"FriendList="+g+"&f="+fixture+"&u="+b.id+"&fu="+b.fbuserid,dataType:"html",error:function(a,b,c){AjaxFail("GetFriendsBetHistoryForThisGame",a,b,c)},success:function(a){ProcessFriendsDetails(a)}})}catch(d){logError("GetFriendsBetHistoryForThisGame",
d)}}function ProcessFriendsDetails(a){try{var c=typeof a!="object"?JSON.parse(a):a,g=[],f="";if(typeof c!="undefined"&&c!=null){for(var b=0;b<c.length;b++){var d=c[b];f+=d.eventdesc;d.betid>0&&g.push(d)}displayFriendsDetals=="1"&&$(".FriendFeedInfo").html(f)}window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(g))}catch(h){logError("ProcessFriendsDetails",h+"response is "+a)}}
function SetUpMainMenuLink(){var a=0;try{try{a=window.sessionStorage.getItem("fbs")}catch(c){}window.location.href.indexOf("fb_source")<=0&&a!=1?($("#nonfblink").show(),$("#fblink").hide()):(window.sessionStorage.setItem("fbs",1),$("#nonfblink").hide(),$("#fblink").show())}catch(g){}}
function InviteFriendsToPlayAGame(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));FB.ui({method:"apprequests",message:thisFixture?"You've been invited to play "+thisFixture.fixturename+" against "+a.name+" and others!":"You've been invited to play a LiveGames game against "+a.name+" and others!"},InviteFriendsToPlayAGame_response)}
function InviteFriendsToPlayAGame_response(a){try{if(a){var c=a.request,g="";if(a.to){$(".FriendFeedInfo").prepend("<b class='friendtext'>Your Friends have been invited and will join the league once they accept the invitation!</b><br />");$("#FriendInviteButton").hide();for(var f=0;f<a.to.length;f++)g=f==0?a.to[f]:g+","+a.to[f]}var b=window.sessionStorage.getItem("facebookuser");$.ajax({url:WS_URL_ROOT+"/Game/SetUpOneTimeFriendGame",type:"POST",data:"fbRequestId="+c+"&friends="+g+"&user="+b+"&fixtureID="+
fixture,dataType:"html",error:function(a,b,c){AjaxFail("InviteFriendsToPlayAGame_response",a,b,c)},success:function(a){OneTimeGameSetUpComplete(a)}})}}catch(d){logError("InviteFriendsToPlayAGame_response",d)}}
function OneTimeGameSetUpComplete(a){try{var c=typeof a!="object"?JSON.parse(a):a;if(c){var g=c[0].currentfixtureid,f=c[0].last_name;if(g>0){var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));GetLeagueTable_WithLeagueHeader(g,f+" <i>(Waiting For Friends to Accept)</i>",null,b.id);AddLeagueToLightStreamer(g)}for(a=0;a<c.length;a++)try{FB.api("/"+c[a].id+"/feed","post",{name:c[a].last_name,message:c[a].extradata},function(){})}catch(d){logError("OneTimeGameSetUpComplete_FB.API",d)}}}catch(h){logError("OneTimeGameSetUpComplete",
h)}}function inviteUpdate(a,c,g,f,b){$.ajax({url:WS_URL_ROOT+"/League/inviteUpdate",type:"POST",data:"lmid="+c+"&accept="+g,dataType:"html",error:function(a,b,c){AjaxFail("inviteUpdate",a,b,c)},success:function(d){inviteUpdateReturn(d,a,g,f,b,c)}})}function inviteUpdateReturn(a,c,g,f,b,d){a==1&&($("#inviteUpdateSpan_"+d).hide(),$("#FriendInviteButton").hide(),g==1&&(AddLeagueToLightStreamer(c),GetLeagueTable_WithLeagueHeader(c,f,b,-111)))};var powerplayused=0,forfeitsUsed=0,bootroomused=0,lastOverallScoresList,lastCountOfUsersInLeague,previousLeaderboardDetails="",previousFriendDetails="",previousTickerDetails="",previouscreditLimitTickerDetails="",creditLimit_ticker="",storeDetails_ticker="",friendDetails_ticker="",Hints_ticker="",LeagueStandings_ticker="",PreGameDetails_ticker="";function resetTickerInfo(){previousFriendDetails=previousLeaderboardDetails=""}
function SetTickerContent(a,c,g){var f=1,b="";a=="creditLimit_ticker"?previouscreditLimitTickerDetails!=c||previouscreditLimitTickerDetails==""&&c!=""?(previouscreditLimitTickerDetails=c,b+=c,b=b+GetStoreDetailsTickerText()+GetFriendsScoresForTicker()+GetHintsTickerText()+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetPreGameTickerText()):f=0:a=="connectionWarningDetails_ticker"?(b+=c,b=b+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetFriendsScoresForTicker()+
GetStoreDetailsTickerText()+GetCreditLimitTickerText()+GetHintsTickerText()+GetPreGameTickerText()):a=="storeDetails_ticker"?(b+=c,b=b+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetFriendsScoresForTicker()+GetCreditLimitTickerText()+GetHintsTickerText()+GetPreGameTickerText()):a=="friendDetails_ticker"?(a=GetFriendsScoresForTicker(),previousFriendDetails!=a||previousTickerDetails==""?(previousFriendDetails=a,b=g?b+a+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+
GetCreditLimitTickerText()+GetStoreDetailsTickerText()+GetHintsTickerText()+GetPreGameTickerText():b+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetCreditLimitTickerText()+a+GetStoreDetailsTickerText()+GetHintsTickerText()+GetPreGameTickerText()):f=0):a=="Hints_ticker"?(b+=c,b=b+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetCreditLimitTickerText()+GetStoreDetailsTickerText()+GetFriendsScoresForTicker()+GetPreGameTickerText()):a=="LeagueStandings_ticker"?
previousLeaderboardDetails!=c||previousTickerDetails==""?(previousLeaderboardDetails=c,b+=c,b=b+GetStoreDetailsTickerText()+GetFriendsScoresForTicker()+GetCreditLimitTickerText()+GetHintsTickerText()+GetPreGameTickerText()):f=0:a=="PreGameDetails_ticker"?(PreGameDetails_ticker!=c&&(PreGameDetails_ticker=c),b+=c,b=b+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+GetCreditLimitTickerText()+GetStoreDetailsTickerText()+GetFriendsScoresForTicker()+GetHintsTickerText()):a||(b=+GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame()+
GetCreditLimitTickerText()+GetStoreDetailsTickerText()+GetFriendsScoresForTicker()+GetHintsTickerText()+GetPreGameTickerText());f==1&&previousTickerDetails!=b&&(previousTickerDetails=b,$("#tickerDiv").html('<ul id="js-news" class="js-hidden">'+b+"</ul>"),ResetTicker())}function GetPreGameTickerText(){return thisFixture&&thisFixture.currenthalf!=-101?"":PreGameDetails_ticker}
function UpdatePreGameTickerTickerText(){var a=JSON.parse(window.sessionStorage.getItem("facebookuser"));thisFixture&&thisFixture.currenthalf==-101?PreGameDetails_ticker||$.ajax({url:WS_URL_ROOT+"/Game/GetTickerText",type:"POST",data:"f="+GetCurrentfixtureID()+"&u="+a.id+"&fu="+a.fbuserid,dataType:"html",error:function(a,g,f){AjaxFail("UpdateMiscellaneousTickerText",a,g,f)},success:function(a){if(a&&PreGameDetails_ticker!=a){for(var a=a.split("^"),g="",f=0;f<a.length;f++)g=g+"<li class='news-item'>"+
a[f]+"</li>";SetTickerContent("PreGameDetails_ticker",g)}}}):thisFixture&&thisFixture.currenthalf!=-101&&PreGameDetails_ticker&&SetTickerContent("PreGameDetails_ticker","")}
function GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame(a,c){var g="",f="";a&&(lastOverallScoresList=a);c&&(lastCountOfUsersInLeague=c);if(lastOverallScoresList&&thisFixture&&thisFixture.currenthalf!=-101){AddMyScoreToOverAllLeaderBoard(c,"AddingToTickersLEagueInfo");c>1&&(g="<li class='news-item'>There are "+lastCountOfUsersInLeague+" people playing this game!!</li>");var b=typeof a!="object"?JSON.parse(lastOverallScoresList):lastOverallScoresList,d=JSON.parse(window.sessionStorage.getItem("facebookuser")),
h="",i="",k="",m=0,p=1,r=0;try{for(var t=0;t<b.length;t++)if(t>0&&b[t].S!=r&&(p=0),r=b[t].S,t==0)h=b[t].U,i=b[t].S,k=b[t].F,d.fbuserid==k?(f=f+"<li class='news-item'>You are currently in the lead with "+i+" points!!</li>",m=1):g=g+"<li class='news-item'>"+h+" is currently leading this game with "+i+" points!!</li>";else if(b[t].F==d.fbuserid){if(m!=1){var n=i-b[t].S,l=b[t].P+"";if(l&&l>0){var A=l.charAt(l.length-1),D;l.length>=2&&(D=l.substr(l.length-2,2));if(D==11)l+="th";else if(A==1)l+="st";else if(A==
2)try{l+=D?D.substring(0,1)=="1"?"th":"nd":"nd"}catch(G){l+="nd"}else if(A==3)try{l+=D?D.substring(0,1)=="1"?"th":"rd":"rd"}catch(T){l+="rd"}else l+="th"}n>0?(f=f+"<li class='news-item'>You have "+b[t].S+" points!!</li><li class='news-item'>You are "+n+" points behind the leader!!</li>",l&&(f="<li class='news-item'>You are in "+l+" position in the overall scores!!</li>"+f)):f=f+"<li class='news-item'>You are joint top of the leader board with "+h+"!!</li><li class='news-item'>You have "+i+" points!!</li>"}}else if(t==
1&&m==1){var u=i-b[t].S;u>0?g=g+"<li class='news-item'>"+b[t].U+" is in second place!!</li><li class='news-item'>You lead "+b[t].U+" by "+u+" points!!</li>":f=f+"<li class='news-item'>You are joint top of the leader board with "+h+"!!</li><li class='news-item'>You have "+i+" points!!</li>"}p==1&&(f=g="")}catch(Q){logError("GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame",Q)}}return f+g}
function GetFriendsScoresForTicker(){var a="",c;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(g){}if(c&&c.length>1&&thisFixture&&thisFixture.currenthalf!=-101){var f=JSON.parse(window.sessionStorage.getItem("facebookuser")),b="",d="",h=1,i=0;try{if(c.length-1==1)for(var k,m,p,r=0;r<c.length;r++)if(f.fbuserid!=c[r].F){m=c[r].S;p=c[r].U;try{var t=p.indexOf("<span");t>0&&(p=p.substring(0,t-1))}catch(n){}a=a+"<li class='news-item'>Your friend "+p+"  is also playing this game and has "+
m+" points!</li>";k&&(k>m?a=a+"<li class='news-item'>You lead your friend "+p+" by "+(k-m)+" points!</li>":k==m&&(a=a+"<li class='news-item'>You and your friend "+p+" currently have the same score!!!</li>"))}else k=c[r].S,m&&(k<m?a=a+"<li class='news-item'>You trail your friend "+p+" by "+(m-k)+" points!</li>":k==m&&(a=a+"<li class='news-item'>You and your friend "+p+" currently have the same score!!!</li>"));else{a=a+"<li class='news-item'>You have "+c.length+" friends playing this game!!</li>";
for(r=0;r<c.length;r++)if(r>0&&c[r].S!=i&&(h=0),i=c[r].S,r==0){d=c[r].S;b=c[r].U;try{t=b.indexOf("<span"),t>0&&(b=b.substring(0,t-1))}catch(l){}f.fbuserid==c[r].F?a+="<li class='news-item'>You have the best score of your friends!!</li>":a=a+"<li class='news-item'>"+b+" has the best score of your friends with "+c[r].S+" points!!</li>"}else if(r!=c.length-1&&f.fbuserid==c[r].F&&c[r].S!=d)a=a+"<li class='news-item'>You trail your friend "+b+" by "+(d-c[r].S)+" points!</li>";else if(r==c.length-1)if(f.fbuserid==
c[r].F)a+="<li class='news-item'>You have the worst score of your friends!!!</li>",a=a+"<li class='news-item'>You trail your friend  "+b+" by "+(d-c[r].S)+" points!</li>";else{p=c[r].U;try{t=p.indexOf("<span"),t>0&&(p=p.substring(0,t-1))}catch(A){}a=a+"<li class='news-item'>"+p+" has the worst score of your friends with "+c[r].S+" points!!</li>"}h==1&&i==0&&(a="<li class='news-item'>You have "+c.length+" friends playing this game!!</li>")}}catch(D){logError("GetFriendsScoresForTicker",D)}}return a}
function GetHintsTickerText(){Hints_ticker="";bootroomused==0&&displaymode=="m"&&(Hints_ticker+='<li class="news-item">Use the boot room to start PowerPlays, buy from the store and much more!</li>');powerplayused==0&&(Hints_ticker+="<li class='news-item'>Don't forget to use your PowerPlay to double your odds for 10 minutes!!</li>");forfeitsUsed==0&&(Hints_ticker+=' <li class="news-item">Use a forfeit to cancel your Predictions, it could be worth it!!</li>');return Hints_ticker}
function GetStoreDetailsTickerText(){storeDetails_ticker="";try{$(".credits").html()<500&&(storeDetails_ticker+=displaymode=="m"?'<li class="news-item">Your are running out of credits - go to the boot room to buy more via the store!</li>':'<li class="news-item">Your are running out of credits - go to the store to top up!</li>'),remainingforfeits<=0&&(storeDetails_ticker+=displaymode=="m"?'<li class="news-item">You have used all your forfeits -  go to the boot room to buy more via the store!</li>':
'<li class="news-item">You have used all your forfeits - go to the store to buy more!</li>'),thisFixture.remainingpowerplays<=0&&(storeDetails_ticker+='<li class="news-item">You have used all your power plays - buy more in the store and jump up the leaderboard!</li>')}catch(a){logError("GetStoreDetailsTickerText",a)}return storeDetails_ticker}
function GetCreditLimitTickerText(a){creditLimit_ticker="";try{var c="";displaymode=="m"&&(c="go to the boot room and ");var g="";thisFixture.numbetsplaced>0&&(g=" more");a&&(a==1?creditLimit_ticker='<li class="news-item">You need to place 1 more prediction to unlock the <strong>200</strong> Credit Limit</li><li class="news-item">Or '+c+"unlock it now via the store!!</li>":a>1?creditLimit_ticker='<li class="news-item">You need to place '+a+g+' bets to unlock the <strong>200</strong> Credit Limit</li><li class="news-item">Or '+
c+"unlock it now via the store!!</li>":a==0&&getUsersOneClickCreditValue()!=200&&(creditLimit_ticker=displaymode=="m"?"<li class='news-item'>You have unlocked the <strong>200</strong> Credit Limit!!</li><li class='news-item'>Don't forget to "+c+"set it as your one click value!!</li>":"<li class='news-item'>You have unlocked the <strong>200</strong> Credit Limit!!</li><li class='news-item'>Don't forget to set it as your one click value!!</li>"))}catch(f){logError("GetCreditLimitTickerText",f)}return creditLimit_ticker}
function ResetTicker(){$("#js-news").ticker({speed:0.1,htmlFeed:!0,fadeInSpeed:600,debug:!0,titleText:">"})};(function(a){a.fn.ticker=function(c){var g=a.extend({},a.fn.ticker.defaults,c);if(a(this).length==0)return window.console&&window.console.log?window.console.log("Element does not exist in DOM!"):alert("Element does not exist in DOM!"),!1;var f="#"+a(this).attr("id"),b=a(this).get(0).tagName;return this.each(function(){function c(a){var b=0,d;for(d in a)a.hasOwnProperty(d)&&b++;return b}function h(a){g.debugMode&&(window.console&&window.console.log?window.console.log(a):alert(a))}function i(){if(l.contentLoaded==
!1)if(g.ajaxFeed)g.feedType=="xml"?a.ajax({url:g.feedUrl,cache:!1,dataType:g.feedType,async:!0,success:function(a){for(var b=count=0;b<a.childNodes.length;b++)a.childNodes[b].nodeName=="rss"&&(xmlContent=a.childNodes[b]);for(a=0;a<xmlContent.childNodes.length;a++)xmlContent.childNodes[a].nodeName=="channel"&&(xmlChannel=xmlContent.childNodes[a]);for(a=0;a<xmlChannel.childNodes.length;a++)if(xmlChannel.childNodes[a].nodeName=="item"){xmlItems=xmlChannel.childNodes[a];for(var f,b=!1,i=0;i<xmlItems.childNodes.length;i++){if(xmlItems.childNodes[i].nodeName==
"title")f=xmlItems.childNodes[i].lastChild.nodeValue;else if(xmlItems.childNodes[i].nodeName=="link")b=xmlItems.childNodes[i].lastChild.nodeValue;f!==!1&&f!=""&&b!==!1&&(l.newsArr["item-"+count]={type:g.titleText,content:'<a href="'+b+'">'+f+"</a>"},count++,b=f=!1)}}if(c(l.newsArr<1))return h("Couldn't find any content from the XML feed for the ticker to use!"),!1;l.contentLoaded=!0;k()}}):h("Code Me!");else if(g.htmlFeed)if(a(f+" LI").length>0)a(f+" LI").each(function(b){l.newsArr["item-"+b]={type:g.titleText,
content:a(this).html()}});else return h("Couldn't find HTML any content for the ticker to use!"),!1;else return h("The ticker is set to not use any types of content! Check the settings for the ticker."),!1}function k(){l.contentLoaded=!0;a(l.dom.titleElem).html(l.newsArr["item-"+l.position].type);a(l.dom.contentID).html(l.newsArr["item-"+l.position].content);l.position==c(l.newsArr)-1?l.position=0:l.position++;distance=a(l.dom.contentID).width();time=distance/g.speed;m()}function m(){a(l.dom.contentID).css("opacity",
"1");if(l.play){var b=a(l.dom.titleID).width()+20;a(l.dom.revealID).css(g.direction,b+"px");g.displayType=="fade"?a(l.dom.revealID).hide(0,function(){a(l.dom.contentID).css(g.direction,b+"px").fadeIn(g.fadeInSpeed,p)}):g.displayType!="scroll"&&a(l.dom.revealElem).show(0,function(){a(l.dom.contentID).css(g.direction,b+"px").show();animationAction=g.direction=="right"?{marginRight:distance+"px"}:{marginLeft:distance+"px"};a(l.dom.revealID).css("margin-"+g.direction,"0px").delay(20).animate(animationAction,
time,"linear",p)})}else return!1}function p(){l.play?(a(l.dom.contentID).delay(g.pauseOnItems).fadeOut(g.fadeOutSpeed),g.displayType=="fade"?a(l.dom.contentID).fadeOut(g.fadeOutSpeed,function(){a(l.dom.wrapperID).find(l.dom.revealElem+","+l.dom.contentID).hide().end().find(l.dom.tickerID+","+l.dom.revealID).show().end().find(l.dom.tickerID+","+l.dom.revealID).removeAttr("style");k()}):a(l.dom.revealID).hide(0,function(){a(l.dom.contentID).fadeOut(g.fadeOutSpeed,function(){a(l.dom.wrapperID).find(l.dom.revealElem+
","+l.dom.contentID).hide().end().find(l.dom.tickerID+","+l.dom.revealID).show().end().find(l.dom.tickerID+","+l.dom.revealID).removeAttr("style");k()})})):a(l.dom.revealElem).hide()}function r(){l.play=!1;a(l.dom.tickerID+","+l.dom.revealID+","+l.dom.titleID+","+l.dom.titleElem+","+l.dom.revealElem+","+l.dom.contentID).stop(!0,!0);a(l.dom.revealID+","+l.dom.revealElem).hide();a(l.dom.wrapperID).find(l.dom.titleID+","+l.dom.titleElem).show().end().find(l.dom.contentID).show()}function t(b){r();switch(b){case "prev":l.position==
0?l.position=c(l.newsArr)-2:l.position==1?l.position=c(l.newsArr)-1:l.position-=2;a(l.dom.titleElem).html(l.newsArr["item-"+l.position].type);a(l.dom.contentID).html(l.newsArr["item-"+l.position].content);break;case "next":a(l.dom.titleElem).html(l.newsArr["item-"+l.position].type),a(l.dom.contentID).html(l.newsArr["item-"+l.position].content)}l.position==c(l.newsArr)-1?l.position=0:l.position++}var n=(new Date).getTime(),l={position:0,time:0,distance:0,newsArr:{},play:!0,paused:!1,contentLoaded:!1,
dom:{contentID:"#ticker-content-"+n,titleID:"#ticker-title-"+n,titleElem:"#ticker-title-"+n+" SPAN",tickerID:"#ticker-"+n,wrapperID:"#ticker-wrapper-"+n,revealID:"#ticker-swipe-"+n,revealElem:"#ticker-swipe-"+n+" SPAN",controlsID:"#ticker-controls-"+n,prevID:"#prev-"+n,nextID:"#next-"+n,playPauseID:"#play-pause-"+n}};if(b!="UL"&&b!="OL"&&g.htmlFeed===!0)return h("Cannot use <"+b.toLowerCase()+"> type of element for this plugin - must of type <ul> or <ol>"),!1;g.direction=="rtl"?g.direction="right":
g.direction="left";(function(){i();a(f).wrap('<div id="'+l.dom.wrapperID.replace("#","")+'"></div>');a(l.dom.wrapperID).children().remove();a(l.dom.wrapperID).append('<div id="'+l.dom.tickerID.replace("#","")+'" class="ticker"><div id="'+l.dom.titleID.replace("#","")+'" class="ticker-title"><span><\!-- --\></span></div><p id="'+l.dom.contentID.replace("#","")+'" class="ticker-content"></p><div id="'+l.dom.revealID.replace("#","")+'" class="ticker-swipe"><span><\!-- --\></span></div></div>');a(l.dom.wrapperID).removeClass("no-js").addClass("ticker-wrapper has-js "+
g.direction);a(l.dom.tickerElem+","+l.dom.contentID).hide();g.controls&&(a(l.dom.controlsID).live("click mouseover mousedown mouseout mouseup",function(b){var c=b.target.id;if(b.type=="click")switch(c){case l.dom.prevID.replace("#",""):l.paused=!0;a(l.dom.playPauseID).addClass("paused");t("prev");break;case l.dom.nextID.replace("#",""):l.paused=!0;a(l.dom.playPauseID).addClass("paused");t("next");break;case l.dom.playPauseID.replace("#",""):l.play==!0?(l.paused=!0,a(l.dom.playPauseID).addClass("paused"),
r()):(l.paused=!1,a(l.dom.playPauseID).removeClass("paused"),l.play=!0,l.paused=!1,p())}else b.type=="mouseover"&&a("#"+c).hasClass("controls")?a("#"+c).addClass("over"):b.type=="mousedown"&&a("#"+c).hasClass("controls")?a("#"+c).addClass("down"):b.type=="mouseup"&&a("#"+c).hasClass("controls")?a("#"+c).removeClass("down"):b.type=="mouseout"&&a("#"+c).hasClass("controls")&&a("#"+c).removeClass("over")}),a(l.dom.wrapperID).append('<ul id="'+l.dom.controlsID.replace("#","")+'" class="ticker-controls"><li id="'+
l.dom.playPauseID.replace("#","")+'" class="jnt-play-pause controls"><a href=""><\!-- --\></a></li><li id="'+l.dom.prevID.replace("#","")+'" class="jnt-prev controls"><a href=""><\!-- --\></a></li><li id="'+l.dom.nextID.replace("#","")+'" class="jnt-next controls"><a href=""><\!-- --\></a></li></ul>'));g.displayType!="fade"&&a(l.dom.contentID).mouseover(function(){l.paused==!1&&r()}).mouseout(function(){if(l.paused==!1)l.play=!0,l.paused=!1,p()});g.ajaxFeed||k()})()})};a.fn.ticker.defaults={speed:0.1,
ajaxFeed:!1,feedUrl:"",feedType:"xml",displayType:"reveal",htmlFeed:!0,debugMode:!0,controls:!0,titleText:"Latest",direction:"ltr",pauseOnItems:3E3,fadeInSpeed:600,fadeOutSpeed:300}})(jQuery);(function(a){function c(){function b(a){var k=a<1E12?k=performance.now?performance.now()+performance.timing.navigationStart:Date.now():a||(new Date).getTime();k-g>=1E3&&(f._updateTargets(),g=k);c(b)}this.regional=[];this.regional[""]={labels:["Yrs","Mths","Wks","Days","Hrs","Mins","Secs"],labels1:["Yr","Mth","Wk","Day","Hr","Min","Sec"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1};this._defaults={until:null,since:null,
timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1};a.extend(this._defaults,this.regional[""]);this._serverSyncs=[];var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,g=0;!c||a.noRequestAnimationFrame?(a.noRequestAnimationFrame=null,setInterval(function(){f._updateTargets()},
980)):(g=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||(new Date).getTime(),c(b))}a.extend(c.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(b){this._resetExtraLabels(this._defaults,
b);a.extend(this._defaults,b||{})},UTCDate:function(a,c,f,g,k,m,p,r){typeof c=="object"&&c.constructor==Date&&(r=c.getMilliseconds(),p=c.getSeconds(),m=c.getMinutes(),k=c.getHours(),g=c.getDate(),f=c.getMonth(),c=c.getFullYear());var t=new Date;t.setUTCFullYear(c);t.setUTCDate(1);t.setUTCMonth(f||0);t.setUTCDate(g||1);t.setUTCHours(k||0);t.setUTCMinutes((m||0)-(Math.abs(a)<30?a*60:a));t.setUTCSeconds(p||0);t.setUTCMilliseconds(r||0);return t},periodsToSeconds:function(a){return a[0]*31557600+a[1]*
2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},_attachPlugin:function(b,c){b=a(b);if(!b.hasClass(this.markerClassName)){var f={options:a.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};b.addClass(this.markerClassName).data(this.propertyName,f);this._optionPlugin(b,c)}},_addTarget:function(a){this._hasTarget(a)||this._timerTargets.push(a)},_hasTarget:function(b){return a.inArray(b,this._timerTargets)>-1},_removeTarget:function(b){this._timerTargets=a.map(this._timerTargets,function(a){return a==
b?null:a})},_updateTargets:function(){for(var a=this._timerTargets.length-1;a>=0;a--)this._updateCountdown(this._timerTargets[a])},_optionPlugin:function(b,c,f){var b=a(b),g=b.data(this.propertyName);if(!c||typeof c=="string"&&f==null){var k=c;return(c=(g||{}).options)&&k?c[k]:c}b.hasClass(this.markerClassName)&&(c=c||{},typeof c=="string"&&(k=c,c={},c[k]=f),this._resetExtraLabels(g.options,c),a.extend(g.options,c),this._adjustSettings(b,g),c=new Date,(g._since&&g._since<c||g._until&&g._until>c)&&
this._addTarget(b[0]),this._updateCountdown(b,g))},_updateCountdown:function(b,c){var f=a(b);if(c=c||f.data(this.propertyName)){f.html(this._generateHTML(c)).toggleClass(this._rtlClass,c.options.isRTL);if(a.isFunction(c.options.onTick)){var g=c._hold!="lap"?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);(c.options.tickInterval==1||this.periodsToSeconds(g)%c.options.tickInterval==0)&&c.options.onTick.apply(b,[g])}if(c._hold!="pause"&&(c._since?c._now.getTime()<c._since.getTime():
c._now.getTime()>=c._until.getTime())&&!c._expiring){c._expiring=!0;if(this._hasTarget(b)||c.options.alwaysExpire){this._removeTarget(b);a.isFunction(c.options.onExpiry)&&c.options.onExpiry.apply(b,[]);if(c.options.expiryText)g=c.options.layout,c.options.layout=c.options.expiryText,this._updateCountdown(b,c),c.options.layout=g;if(c.options.expiryUrl)window.location=c.options.expiryUrl}c._expiring=!1}else c._hold=="pause"&&this._removeTarget(b);f.data(this.propertyName,c)}},_resetExtraLabels:function(a,
c){var f=!1,g;for(g in c)if(g!="whichLabels"&&g.match(/[Ll]abels/)){f=!0;break}if(f)for(g in a)g.match(/[Ll]abels[02-9]/)&&(a[g]=null)},_adjustSettings:function(b,c){var f,g=0;f=null;for(g=0;g<this._serverSyncs.length;g++)if(this._serverSyncs[g][0]==c.options.serverSync){f=this._serverSyncs[g][1];break}f!=null?(g=c.options.serverSync?f:0,f=new Date):(g=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(b,[]):null,f=new Date,g=g?f.getTime()-g.getTime():0,this._serverSyncs.push([c.options.serverSync,
g]));var k=c.options.timezone,k=k==null?-f.getTimezoneOffset():k;c._since=c.options.since;if(c._since!=null)c._since=this.UTCDate(k,this._determineTime(c._since,null)),c._since&&g&&c._since.setMilliseconds(c._since.getMilliseconds()+g);c._until=this.UTCDate(k,this._determineTime(c.options.until,f));g&&c._until.setMilliseconds(c._until.getMilliseconds()+g);c._show=this._determineShow(c)},_destroyPlugin:function(b){b=a(b);b.hasClass(this.markerClassName)&&(this._removeTarget(b[0]),b.removeClass(this.markerClassName).empty().removeData(this.propertyName))},
_pausePlugin:function(a){this._hold(a,"pause")},_lapPlugin:function(a){this._hold(a,"lap")},_resumePlugin:function(a){this._hold(a,null)},_hold:function(b,c){var f=a.data(b,this.propertyName);if(f){if(f._hold=="pause"&&!c){f._periods=f._savePeriods;var g=f._since?"-":"+";f[f._since?"_since":"_until"]=this._determineTime(g+f._periods[0]+"y"+g+f._periods[1]+"o"+g+f._periods[2]+"w"+g+f._periods[3]+"d"+g+f._periods[4]+"h"+g+f._periods[5]+"m"+g+f._periods[6]+"s");this._addTarget(b)}f._hold=c;f._savePeriods=
c=="pause"?f._periods:null;a.data(b,this.propertyName,f);this._updateCountdown(b,f)}},_getTimesPlugin:function(b){b=a.data(b,this.propertyName);return!b?null:!b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date)},_determineTime:function(a,c){var g=function(a){var b=new Date;b.setTime(b.getTime()+a*1E3);return b};(g=a==null?c:typeof a=="string"?function(a){for(var a=a.toLowerCase(),b=new Date,c=b.getFullYear(),d=b.getMonth(),g=b.getDate(),h=b.getHours(),n=b.getMinutes(),
b=b.getSeconds(),l=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,A=l.exec(a);A;){switch(A[2]||"s"){case "s":b+=parseInt(A[1],10);break;case "m":n+=parseInt(A[1],10);break;case "h":h+=parseInt(A[1],10);break;case "d":g+=parseInt(A[1],10);break;case "w":g+=parseInt(A[1],10)*7;break;case "o":d+=parseInt(A[1],10);g=Math.min(g,f._getDaysInMonth(c,d));break;case "y":c+=parseInt(A[1],10),g=Math.min(g,f._getDaysInMonth(c,d))}A=l.exec(a)}return new Date(c,d,g,h,n,b,0)}(a):typeof a=="number"?g(a):a)&&g.setMilliseconds(0);
return g},_getDaysInMonth:function(a,c){return 32-(new Date(a,c,32)).getDate()},_normalLabels:function(a){return a},_generateHTML:function(b){var c=this;b._periods=b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);for(var g=!1,i=0,k=b.options.significant,m=a.extend({},b._show),p=0;p<=6;p++)g|=b._show[p]=="?"&&b._periods[p]>0,m[p]=b._show[p]=="?"&&!g?null:b._show[p],i+=m[p]?1:0,k-=b._periods[p]>0?1:0;for(var r=[!1,!1,!1,!1,!1,!1,!1],p=6;p>=0;p--)b._show[p]&&(b._periods[p]?
r[p]=!0:(r[p]=k>0,k--));var t=b.options.compact?b.options.compactLabels:b.options.labels,n=b.options.whichLabels||this._normalLabels,g=function(a){var f=b.options["compactLabels"+n(b._periods[a])];return m[a]?c._translateDigits(b,b._periods[a])+(f?f[a]:t[a])+" ":""},k=function(a){var g=b.options["labels"+n(b._periods[a])];return!b.options.significant&&m[a]||b.options.significant&&r[a]?'<span class="'+f._sectionClass+'"><span class="'+f._amountClass+'">'+c._translateDigits(b,b._periods[a])+"</span><br/>"+
(g?g[a]:t[a])+"</span>":""};return b.options.layout?this._buildLayout(b,m,b.options.layout,b.options.compact,b.options.significant,r):(b.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(b._hold?" "+this._holdingClass:"")+'">'+g(0)+g(1)+g(2)+g(3)+(m[4]?this._minDigits(b,b._periods[4],2):"")+(m[5]?(m[4]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[5],2):"")+(m[6]?(m[4]||m[5]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[6],2):""):'<span class="'+this._rowClass+
" "+this._showClass+(b.options.significant||i)+(b._hold?" "+this._holdingClass:"")+'">'+k(0)+k(1)+k(2)+k(3)+k(4)+k(5)+k(6))+"</span>"+(b.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+b.options.description+"</span>":"")},_buildLayout:function(b,c,f,g,k,m){for(var p=b.options[g?"compactLabels":"labels"],r=b.options.whichLabels||this._normalLabels,t=function(a){return(b.options[(g?"compactLabels":"labels")+r(b._periods[a])]||p)[a]},n=function(a,c){return b.options.digits[Math.floor(a/
c)%10]},t={desc:b.options.description,sep:b.options.timeSeparator,yl:t(0),yn:this._minDigits(b,b._periods[0],1),ynn:this._minDigits(b,b._periods[0],2),ynnn:this._minDigits(b,b._periods[0],3),y1:n(b._periods[0],1),y10:n(b._periods[0],10),y100:n(b._periods[0],100),y1000:n(b._periods[0],1E3),ol:t(1),on:this._minDigits(b,b._periods[1],1),onn:this._minDigits(b,b._periods[1],2),onnn:this._minDigits(b,b._periods[1],3),o1:n(b._periods[1],1),o10:n(b._periods[1],10),o100:n(b._periods[1],100),o1000:n(b._periods[1],
1E3),wl:t(2),wn:this._minDigits(b,b._periods[2],1),wnn:this._minDigits(b,b._periods[2],2),wnnn:this._minDigits(b,b._periods[2],3),w1:n(b._periods[2],1),w10:n(b._periods[2],10),w100:n(b._periods[2],100),w1000:n(b._periods[2],1E3),dl:t(3),dn:this._minDigits(b,b._periods[3],1),dnn:this._minDigits(b,b._periods[3],2),dnnn:this._minDigits(b,b._periods[3],3),d1:n(b._periods[3],1),d10:n(b._periods[3],10),d100:n(b._periods[3],100),d1000:n(b._periods[3],1E3),hl:t(4),hn:this._minDigits(b,b._periods[4],1),hnn:this._minDigits(b,
b._periods[4],2),hnnn:this._minDigits(b,b._periods[4],3),h1:n(b._periods[4],1),h10:n(b._periods[4],10),h100:n(b._periods[4],100),h1000:n(b._periods[4],1E3),ml:t(5),mn:this._minDigits(b,b._periods[5],1),mnn:this._minDigits(b,b._periods[5],2),mnnn:this._minDigits(b,b._periods[5],3),m1:n(b._periods[5],1),m10:n(b._periods[5],10),m100:n(b._periods[5],100),m1000:n(b._periods[5],1E3),sl:t(6),sn:this._minDigits(b,b._periods[6],1),snn:this._minDigits(b,b._periods[6],2),snnn:this._minDigits(b,b._periods[6],
3),s1:n(b._periods[6],1),s10:n(b._periods[6],10),s100:n(b._periods[6],100),s1000:n(b._periods[6],1E3)},l=f,f=0;f<=6;f++)n="yowdhms".charAt(f),l=l.replace(RegExp("\\{"+n+"<\\}(.*)\\{"+n+">\\}","g"),!k&&c[f]||k&&m[f]?"$1":"");a.each(t,function(a,b){l=l.replace(RegExp("\\{"+a+"\\}","g"),b)});return l},_minDigits:function(a,c,f){c=""+c;if(c.length>=f)return this._translateDigits(a,c);c="0000000000"+c;return this._translateDigits(a,c.substr(c.length-f))},_translateDigits:function(a,c){return(""+c).replace(/[0-9]/g,
function(c){return a.options.digits[c]})},_determineShow:function(a){var a=a.options.format,c=[];c[0]=a.match("y")?"?":a.match("Y")?"!":null;c[1]=a.match("o")?"?":a.match("O")?"!":null;c[2]=a.match("w")?"?":a.match("W")?"!":null;c[3]=a.match("d")?"?":a.match("D")?"!":null;c[4]=a.match("h")?"?":a.match("H")?"!":null;c[5]=a.match("m")?"?":a.match("M")?"!":null;c[6]=a.match("s")?"?":a.match("S")?"!":null;return c},_calculatePeriods:function(a,c,g,i){a._now=i;a._now.setMilliseconds(0);var k=new Date(a._now.getTime());
if(a._since)i.getTime()<a._since.getTime()?a._now=i=k:i=a._since;else if(k.setTime(a._until.getTime()),i.getTime()>a._until.getTime())a._now=i=k;var m=[0,0,0,0,0,0,0];if(c[0]||c[1]){var p=f._getDaysInMonth(i.getFullYear(),i.getMonth()),r=f._getDaysInMonth(k.getFullYear(),k.getMonth()),r=k.getDate()==i.getDate()||k.getDate()>=Math.min(p,r)&&i.getDate()>=Math.min(p,r),r=Math.max(0,(k.getFullYear()-i.getFullYear())*12+k.getMonth()-i.getMonth()+(k.getDate()<i.getDate()&&!r||r&&(k.getHours()*60+k.getMinutes())*
60+k.getSeconds()<(i.getHours()*60+i.getMinutes())*60+i.getSeconds()?-1:0));m[0]=c[0]?Math.floor(r/12):0;m[1]=c[1]?r-m[0]*12:0;i=new Date(i.getTime());p=i.getDate()==p;r=f._getDaysInMonth(i.getFullYear()+m[0],i.getMonth()+m[1]);i.getDate()>r&&i.setDate(r);i.setFullYear(i.getFullYear()+m[0]);i.setMonth(i.getMonth()+m[1]);p&&i.setDate(r)}var t=Math.floor((k.getTime()-i.getTime())/1E3),i=function(a,b){m[a]=c[a]?Math.floor(t/b):0;t-=m[a]*b};i(2,604800);i(3,86400);i(4,3600);i(5,60);i(6,1);if(t>0&&!a._since){a=
[1,12,4.3482,7,24,60,60];i=6;k=1;for(p=6;p>=0;p--)c[p]&&(m[i]>=k&&(m[i]=0,t=1),t>0&&(m[p]++,t=0,i=p,k=1)),k*=a[p]}if(g)for(p=0;p<=6;p++)g&&m[p]?g--:g||(m[p]=0);return m}});var g=["getTimes"];a.fn.countdown=function(b){var c=Array.prototype.slice.call(arguments,1);return b=="option"&&(c.length==0||c.length==1&&typeof c[0]=="string")||a.inArray(b,g)>-1?f["_"+b+"Plugin"].apply(f,[this[0]].concat(c)):this.each(function(){if(typeof b=="string"){if(!f["_"+b+"Plugin"])throw"Unknown command: "+b;f["_"+b+
"Plugin"].apply(f,[this].concat(c))}else f._attachPlugin(this,b||{})})};var f=a.countdown=new c})(jQuery);var PushConnectionStarted=0,thisConnectionIsAReconnect=0,timeout=null,interval=1E4,firstTimeConnected=1,AdminPusher=new T5Pusher,FriendPusher,currentlyConnected=0;
function EstablishPushConnection(){try{JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(a){}var c=0;t5pusherAppKey&&(AdminPusher.SetPusherURL(ap),admin&&admin.isAdmin()&&(AdminPusher.setClientAuthorisationURL("/Push/AddSignature"),AdminPusher.setGroupAuthorisationURL("/Push/AddSecureGroupSignature"),c=1),AdminPusher.start(t5pusherAppKey),sp==1&&!homepagefixtureid&&c==0&&(FriendPusher=new T5Pusher,FriendPusher.connectionbind("connected",function(){console.log("FriendPusher says i am connected!!!");
PushConnectionStarted=1;ListenForFriendUpdates();initialiseFriendProxyFunctions()}),FriendPusher.SetPusherURL(fp),FriendPusher.setClientAuthorisationURL("/Push/AddSignature"),FriendPusher.start(t5pusherAppKey)))}AdminPusher.connectionbind("connected",function(){admin&&admin.isAdmin();sp==0&&(PushConnectionStarted=1,ListenForFriendUpdates());initialiseProxyFunctions();console.log("AdminPusher says i am connected!!!")});
AdminPusher.bind("CreateBroadcastGroupReturn",function(a){a&&(a.created==1?(currentlyConnected=1,$(".GameFeedInfo").prepend("<span class='losetext'>Referees Broadcast Group Created. <br /> You can now send to players!</span><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),$("#GTracker").html("Connection Status: Connected")):alert("error creating broadcast group!!!"))});
AdminPusher.connectionbind("connectionattemptfailed",function(){$("#"+displaymode+"_reconnectstatus").fadeIn(50).delay(400).fadeOut(50);$(".GameFeedInfo").prepend("Failed To Establish Connection. Reconnecting...<br />");logErrorExtra("SignalR","Failed to Establish Conn. Reloading page!!","","",GetCurrentTimeStamp());refreshScroller(GameFeedScroller,"GameFeedInfo");setTimeout("ReloadPage();",500)});
AdminPusher.connectionbind("connectionlost",function(){$("#"+displaymode+"_reconnectstatus").fadeIn(50).delay(400).fadeOut(50);$(".GameFeedInfo").prepend("Connection lost. Reconnecting...<br />");logErrorExtra("SignalR","Failed to Re_establish Conn. Reloading page!!","","",GetCurrentTimeStamp());refreshScroller(GameFeedScroller,"GameFeedInfo");setTimeout("ReloadPage();",500)});
AdminPusher.connectionbind("connectionslow",function(){$(".GameFeedInfo").prepend("<span class='losetext'>You are experiencing connection issues due to your network!!! <br />You may not be receiving all messages due to these connection issues!!</span><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");admin&&admin.isAdmin()&&$("#GTracker").html("Connection Status: Connection Slow");displaymode=="m"&&SetTickerContent("connectionWarningDetails_ticker",'<li class="news-item">You are experiencing connection issues due to your network!!!</li><li class="news-item">You may not be receiving all messages due to these connection issues!!</li>');
homepagefixtureid||(GetGameDetails(0,GameDetailsComplete),WeAreCurrentlyShowingFriendsLeagueTable==!0&&userLeague.GetFriendsLeaderBoard())});
AdminPusher.connectionbind("statechanged",function(a){a=="reconnecting"?(currentlyConnected=0,thisConnectionIsAReconnect=1,admin&&admin.isAdmin()?$("#GTracker").html("Connection Status: reconnecting"):$(".connectionstatus").html("reconnecting"),timeout=setTimeout(function(){logErrorExtra("SR_Con","setTimeout - about to call RestartSignalRConnection!","","",GetCurrentTimeStamp());ReloadPage()},interval)):a=="connected"?(admin&&admin.isAdmin()?(currentlyConnected=1,$("#GTracker").html("Connection Status: Connected")):
$(".connectionstatus").html("Connected"),timeout&&(clearTimeout(timeout),timeout=null),$("#connmethod").html(AdminPusher.GetCurrentConnectionMethod()),firstTimeConnected==1&&(firstTimeConnected=0,Store.CheckForOpenStorePurchases())):a=="disconnected"?(currentlyConnected=0,admin&&admin.isAdmin()?$("#GTracker").html("Connection Status: disconnected"):$(".connectionstatus").html("disconnected")):a=="connecting"&&(currentlyConnected=0,admin&&admin.isAdmin()?$("#GTracker").html("Connection Status: Connecting"):
$(".connectionstatus").html("Connecting"))});
function initialiseFriendProxyFunctions(){var a;a=sp==0?AdminPusher:FriendPusher;a.bind("DisplayLeagueInvite",function(a){try{LogThisInteractionTime(),userLeague.DisplayLeagueInvite(a[0],a[1],a[2],a[3],a[4],a[5])}catch(g){logError("DisplayLeagueInvite",g)}});a.bind("processfriendupdates",function(a){try{LogThisInteractionTime();var g=a[0],f=a[1];a[2]==GetCurrentfixtureID()&&(JSON.parse(window.sessionStorage.getItem("facebookuser")),ProcessFriendUpdate(g,f))}catch(b){logError("ProcessFriendUpdate",
b)}})}
function initialiseProxyFunctions(){AdminPusher.bind("UpdateGameEvent",function(a){try{LogThisInteractionTime();var c=a[0],g=a[1],f=a[2],b=a[3],d=a[4],h=a[5],i=a[6],k=a[7],m=a[8],p=a[9];if(c==GetCurrentfixtureID())if(LastEventReceived=g,g==22&&!HaveWeReceviedThisFreezeOrThawEventBefore(f)){if($(".forfeitclick").hide(),BetValidCount>0){var r;try{r=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(t){}if(r&&r.status==0){var n=new Date(k),l=new Date(r.eventtime),A=new Date;A.setTime(n.getTime()-voidOffset*
1E3);if(l>A){r.status=-102;window.sessionStorage.setItem("Currentbet",$.toJSON(r));BetValidCount=-1;$("#"+displaymode+"_predictionpending").html("<strong>Too Late!</strong>, An event occurred before you could make a prediction! Your Credits were returned!");$("#"+displaymode+"_predictionpending").show();$(".tooltip-shade").show();$("#"+displaymode+"_predictionpending").delay(3E3).fadeOut();$("#"+displaymode+"_count").hide();$(".tooltip-shade").delay(3E3).fadeOut();$("#"+displaymode+"_bubble"+r.eventid).removeClass("bubble_active");
$("#"+displaymode+"_bubble"+r.eventid).addClass("bubble");var D;D=r.newodds?Math.round(r.newodds):Math.round(r.odds);$("#"+displaymode+"_bubble"+r.eventid).html(""+D+"/1");BetNumberJustDisplayed>0&&(correctedBetsNeeded=BetNumberJustDisplayed+1,BetNumberJustDisplayed=0,$("#"+displaymode+"_UnlockNumBetsSpan").html("<strong>"+correctedBetsNeeded+"</strong> more predictions"),$(".betnum").html(correctedBetsNeeded),$(".betnum").show(),$(".betnum").animate({top:"100px",fontSize:"45px",opacity:"0.0"},2E3,
function(){$(".betnum").hide();$(".betnum").css({top:"",fontSize:"",opacity:""})}),SetTickerContent("creditLimit_ticker",GetCreditLimitTickerText(correctedBetsNeeded)))}}}}else if(g==23&&!HaveWeReceviedThisFreezeOrThawEventBefore(f)){var G;try{G=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(T){}G!=null&&G.status==-102?(G.status=0,window.sessionStorage.setItem("Currentbet",$.toJSON(G)),$("#"+displaymode+"_bubble"+G.eventid).removeClass("bubble"),$("#"+displaymode+"_bubble"+G.eventid).addClass("bubble_active"),
$("#"+displaymode+"_bubble"+G.eventid).html(G.amount),correctedBetsNeeded-=1,$("#"+displaymode+"_UnlockNumBetsSpan").html("<strong>"+correctedBetsNeeded+"</strong> more predictions"),SetTickerContent("creditLimit_ticker",GetCreditLimitTickerText(correctedBetsNeeded)),$("#"+displaymode+"_predictionpending").html("<strong>Doh!</strong>, The Referee made a mistake - there was no event! <br /><br />Your prediction is Active again."),$(".tooltip-shade").show(),$("#"+displaymode+"_predictionpending").show(),
$("#"+displaymode+"_predictionpending").delay(3E3).fadeOut(),$(".tooltip-shade").delay(3E3).fadeOut(),remainingforfeits>0&&!$(".forfeitclick").is(":visible")&&($(".forfeitclick").show(),$("#"+displaymode+"_forfeitnum").html(remainingforfeits),$("#"+displaymode+"_popupplacebet").hide())):G!=null&&G.status==0&&remainingforfeits>0&&!$(".forfeitclick").is(":visible")&&($(".forfeitclick").show(),$("#"+displaymode+"_forfeitnum").html(remainingforfeits),$("#"+displaymode+"_popupplacebet").hide())}else{if(g!=
22&&g!=23){var u=new Date(i),n=new Date(k);UpdateGameEvent(c,g,f,b,d,h,u,n,m,p);if(g==15||g==16){try{G=JSON.parse(window.sessionStorage.getItem("Currentbet"))}catch(Q){}G!=null&&G.status==0&&remainingforfeits>0&&!$(".forfeitclick").is(":visible")&&($(".forfeitclick").show(),$("#"+displaymode+"_forfeitnum").html(remainingforfeits),$("#"+displaymode+"_popupplacebet").hide())}}}else{var ca=$("#TestlayoutSpan").html();if((window.location.href.indexOf("/start")>0||window.location.href.indexOf("/now")>
0||window.location.href.indexOf("/home")>0||ca)&&g!=22&&g!=23&&c==homepagefixtureid)$(".GameFeedInfo").prepend(h+"<br />"),refreshScroller(GameFeedScroller,"GameFeedInfo")}}catch(K){logError("UpdateGameEvent",K)}});AdminPusher.bind("UpdateLeaderboard",function(a){try{LogThisInteractionTime();var c=a[0],g=a[1],f=a[3],b=a[4];if(a[2]==GetCurrentfixtureID()&&(LogThisInteractionTime(),a=1,!HaveWeReceviedThisLeagueTableBefore(f))){f=0;displaymode=="m"?$("#panel4").is(":visible")==!0&&$("#"+displaymode+
"_leaguestandings_1").css("display")=="block"?f=1:$("#panel4").is(":visible")==!1&&$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&userLeague.Set_mobile_APICallStatus(1):$("#"+displaymode+"_leaguestandings_1").css("display")=="block"&&(f=1);if(f==1)if(!userLeague.id||userLeague.id<=0||userLeague.id==g){for(var d=typeof objArray!="object"?JSON.parse(c):c,h=JSON.parse(window.sessionStorage.getItem("facebookuser")),i=f=0;i<d.length;i++)if(d[i].F==h.fbuserid){f=1;break}f==1?userLeague.DisplayTheLeagueTable(c,
g,userLeague.name,null,userLeague.creater_Id,b):(window.sessionStorage.setItem("leaderboard",c),AddMyScoreToOverAllLeaderBoard(b));a=0}else userLeague.GetLeagueTable(userLeague.id,userLeague.name,null,userLeague.creater_Id,userLeague.num_MembersInLeague);a==1&&SetTickerContent("LeagueStandings_ticker",GetLeagueStandingsTickerDetailsBasedOnTheOverallScoresForThisGame(c,b))}}catch(k){logError("UpdateLeaderboard",k)}});AdminPusher.bind("UpdateGameOdds",function(a){try{LogThisInteractionTime();var c=
a[0];a[1]==GetCurrentfixtureID()&&updateOdds(c)}catch(g){logError("UpdateGameOdds",g)}});AdminPusher.bind("updateGameDetails",function(a){try{LogThisInteractionTime(),updateFixtureDetails(a[0])}catch(c){logError("updateGameDetails",c)}});sp==0&&initialiseFriendProxyFunctions();AdminPusher.bind("confirmEventSent",function(){LogThisInteractionTime();admin.confirmEventSent()})}
function ListenForFriendUpdates(){try{var a;a=sp==0?AdminPusher:FriendPusher;var c=0,g;try{g=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(f){}if(typeof g!="undefined"&&g!=null&&PushConnectionStarted==1&&FriendsAddedToLSSchema==0){uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));console.log("doin ListenForFriendUpdates UD"+uiUser.fbuserid);a.joinGroup("UD"+uiUser.fbuserid);for(var b=0;b<=g.length-1;b++)a.joinGroup("UBD"+g[b].id),console.log("doin ListenForFriendUpdates UBD"+
g[b].id);c=FriendsAddedToLSSchema=1}}catch(d){c=-1,logErrorExtra("ListenForFriendUpdates",d,GetCurrentTimeStamp())}return c};(function(){function a(a,b){switch(b){case 0:return""+a;case 1:return 1*a;case 2:return!!a;case 3:return 1E3*a}return a}function c(a){return"function"==typeof a}function g(a){return a!=o&&-1<(a.constructor+"")[E]("String")}function f(a,b){return o==a||"-"==a&&!b||""==a}function b(a){if(!a||""==a)return"";for(;a&&-1<" \n\r\t"[E](a[X](0));)a=a[J](1);for(;a&&-1<" \n\r\t"[E](a[X](a[v]-1));)a=a[J](0,a[v]-1);return a}function d(){return O.round(2147483647*O[Ka]())}function h(){}function i(a,b){if(y instanceof
Function)return b?encodeURI(a):y(a);I(68);return escape(a)}function k(a){a=a[S]("+")[F](" ");if(ra instanceof Function)try{return ra(a)}catch(b){I(17)}else I(68);return unescape(a)}function m(a,b){if(a){var c=N[Y]("script");c.type="text/javascript";c.async=s;c.src=a;c.id=b;var d=N.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);return c}}function p(a){return a&&0<a[v]?a[0]:""}function r(a){var b=a?a[v]:0;return 0<b?a[b-1]:""}function t(){return"https:"==N[da][ta]}function n(a){0==
a[E]("www.")&&(a=a[J](4));return a[L]()}function l(a,b){var c,d={url:a,protocol:"http",host:"",path:"",d:new Ea,anchor:""};if(!a)return d;c=a[E]("://");0<=c&&(d.protocol=a[J](0,c),a=a[J](c+3));c=a[za]("/|\\?|#");if(0<=c)d.host=a[J](0,c)[L](),a=a[J](c);else return d.host=a[L](),d;c=a[E]("#");0<=c&&(d.anchor=a[J](c+1),a=a[J](0,c));c=a[E]("?");0<=c&&(D(d.d,a[J](c+1)),a=a[J](0,c));d.anchor&&b&&D(d.d,d.anchor);a&&"/"==a[X](0)&&(a=a[J](1));d.path=a;return d}function A(a,b){function c(a){var b=(a.hostname||
"")[S](":")[0][L](),d=(a[ta]||"")[L](),d=1*a[j]||("http:"==d?80:"https:"==d?443:""),a=a.pathname||"";0==a[E]("/")||(a="/"+a);return[b,""+d,a]}var d=b||N[Y]("a");d.href=N[da][Ha];var f=(d[ta]||"")[L](),g=c(d),h=d[za]||"",i=f+"//"+g[0]+(g[1]?":"+g[1]:"");0==a[E]("//")?a=f+a:0==a[E]("/")?a=i+a:!a||0==a[E]("?")?a=i+g[2]+(a||h):0>a[S]("/")[0][E](":")&&(a=i+g[2][J](0,g[2].lastIndexOf("/"))+"/"+a);d.href=a;f=c(d);return{protocol:(d[ta]||"")[L](),host:f[0],port:f[1],path:f[2],Oa:d[za]||"",url:a||""}}function D(a,
c){function d(b,c){a.contains(b)||a.set(b,[]);a.get(b)[B](c)}for(var f=b(c)[S]("&"),g=0;g<f[v];g++)if(f[g]){var h=f[g][E]("=");0>h?d(f[g],"1"):d(f[g][J](0,h),f[g][J](h+1))}}function G(a,b){return f(a)||"["==a[X](0)&&"]"==a[X](a[v]-1)?"-":a[E](N.domain+(b&&"/"!=b?b:""))==(0==a[E]("http://")?7:0==a[E]("https://")?8:0)?"0":a}function T(a,b,c){!(1<=gc)&&!(1<=100*O[Ka]())&&(a=["utmt=error","utmerr="+a,"utmwv=5.4.1","utmn="+d(),"utmsp=1"],b&&a[B]("api="+b),c&&a[B]("msg="+i(c[J](0,100))),ga.w&&a[B]("aip=1"),
Sc(a[F]("&")),gc++)}function u(a){return Q("x"+ma++,a)}function Q(a,b){tb[a]=!!b;return a}function ca(a){var b=this.plugins_;if(b)return b.get(a)}function K(a,b){for(var b=b||[],c=0;c<b[v];c++){var d=b[c];if(""+a==d||0==d[E](a+"."))return d}return"-"}function ha(a){100!=a.get(yb)&&a.get(Ba)%1E4>=100*a.get(yb)&&a[ea]()}function V(a){Kc(a.get(Ia))&&a[ea]()}function W(a){"file:"==N[da][ta]&&a[ea]()}function fa(a){a.get(Fa)||a.set(Fa,N.title,s);a.get(ua)||a.set(ua,N[da].pathname+N[da][za],s)}function I(a){Zc.set(a)}
function ja(a){return"string"==typeof a}function U(a){return"number"!=typeof a&&(o==Number||!(a instanceof Number))||O.round(a)!=a||qa(a)||a==Pa?w:s}function H(){function a(d,f){var g="p="+d+"&id="+b,h=new Image(1,1);h.src=(t()||ga.G?"https://ssl.google-analytics.com":"http://www.google-analytics.com")+"/u/"+c[f]+".gif?"+g;h.onload=function(){h.onload=R;h.onerror=R};h.onerror=function(){h.onload=R;h.onerror=R}}if(!od){od=s;var b=[d(),d(),d()][F]("."),c=["a","b","c"],f=[[0,1],[1,0],[0,2],[2,0]],g=
O[va](O[Ka]()*f[v]);a(g,f[g][0]);a(g,f[g][1])}}function q(a){var b=1,c=0,d;if(a){b=0;for(d=a[v]-1;0<=d;d--)c=a.charCodeAt(d),b=(b<<6&268435455)+c+(c<<14),c=b&266338304,b=0!=c?b^c>>21:b}return b}var o=void 0,s=!0,R=null,w=!1,y=encodeURIComponent,Pa=Infinity,P=setTimeout,qa=isNaN,O=Math,ra=decodeURIComponent,B="push",va="floor",X="charAt",E="indexOf",sa="match",j="port",Y="createElement",ia="toString",v="length",z="prototype",S="split",ea="stopPropagation",da="location",za="search",Ka="random",ta="protocol",
Ha="href",J="substring",F="join",L="toLowerCase",C,Ja=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)},Ea=function(){this.prefix="ga.";this.R={}};Ea[z].set=function(a,b){this.R[this.prefix+a]=b};Ea[z].get=function(a){return this.R[this.prefix+a]};Ea[z].contains=function(a){return this.get(a)!==o};var gc=0,ma=0,tb={},Ia=u(),jc=Q("anonymizeIp"),sc=u(),tc=u(),Qa=u(),La=u(),ka=u(),na=u(),Ma=u(),ub=u(),Ob=u(),vb=u(),Pb=u(),wb=u(),bb=u(),Rb=u(),lc=
u(),Lb=u(),Sb=u(),mc=u(),Mb=u(),nc=u(),xb=u(),Tb=u(),Ub=u(),oc=u(),yb=u(),Vb=u(),Ua=u(),zb=u(),pb=u(),Ab=u(),Wb=u(),cb=u(),oa=u(),pc=u(),Aa=u(s),la=Q("currencyCode"),ua=Q("page"),Fa=Q("title"),Va=u(),zc=u(),Ac=u(),Bc=u(),qc=u(),ic=u(),qb=u(),Cc=u(),rb=u(),Ba=u(s),db=u(s),ya=u(s),Nb=u(s),Bb=u(s),Cb=u(s),Oa=u(s),Wa=u(s),eb=u(s),Xb=u(s),xa=u(s),pa=u(s),fb=u(s),Yb=u(s),Db=u(s),Zb=u(s),$b=u(s),gb=u(s),hb=u(s),Ca=u(s),Xa=u(s),Ga=u(s),ib=u(s),Na=u(s),Eb=u(s),jb=u(s),Fb=u(s),ac=Q("campaignParams"),Gb=u(),
kb=Q("hitCallback"),bc=u();u();var Dc=u(),Za=u(),lb=u(),Ec=u(),Fc=u(),Gc=u(),sb=u(),$a=u(),mb=u(),x=u(),Z=u(),Bd=u(),Ic=u(),hc=u();u();var ob=u(),rc=u(),Jc=u(),Cd=Q("uaName"),Dd=Q("uaDomain"),Ed=Q("uaPath"),Fd=function(){function a(b,c,d){wa(Ya[z],b,c,d)}a("_createTracker",Ya[z].r,55);a("_getTracker",Ya[z].oa,0);a("_getTrackerByName",Ya[z].u,51);a("_getTrackers",Ya[z].pa,130);a("_anonymizeIp",Ya[z].aa,16);a("_forceSSL",Ya[z].la,125);a("_getPlugin",ca,120)},Gd=function(){function a(b,c,d){wa(M[z],
b,c,d)}ab("_getName",tc,58);ab("_getAccount",Ia,64);ab("_visitCode",Ba,54);ab("_getClientInfo",bb,53,1);ab("_getDetectTitle",Lb,56,1);ab("_getDetectFlash",Rb,65,1);ab("_getLocalGifPath",Vb,57);ab("_getServiceMode",Ua,59);aa("_setClientInfo",bb,66,2);aa("_setAccount",Ia,3);aa("_setNamespace",sc,48);aa("_setAllowLinker",vb,11,2);aa("_setDetectFlash",Rb,61,2);aa("_setDetectTitle",Lb,62,2);aa("_setLocalGifPath",Vb,46,0);aa("_setLocalServerMode",Ua,92,o,0);aa("_setRemoteServerMode",Ua,63,o,1);aa("_setLocalRemoteServerMode",
Ua,47,o,2);aa("_setSampleRate",yb,45,1);aa("_setCampaignTrack",lc,36,2);aa("_setAllowAnchor",Pb,7,2);aa("_setCampNameKey",mc,41);aa("_setCampContentKey",Ub,38);aa("_setCampIdKey",Sb,39);aa("_setCampMediumKey",xb,40);aa("_setCampNOKey",oc,42);aa("_setCampSourceKey",nc,43);aa("_setCampTermKey",Tb,44);aa("_setCampCIdKey",Mb,37);aa("_setCookiePath",na,9,0);aa("_setMaxCustomVariables",zb,0,1);aa("_setVisitorCookieTimeout",Ma,28,1);aa("_setSessionCookieTimeout",ub,26,1);aa("_setCampaignCookieTimeout",Ob,
29,1);aa("_setReferrerOverride",Va,49);aa("_setSiteSpeedSampleRate",mb,132);a("_trackPageview",M[z].Fa,1);a("_trackEvent",M[z].F,4);a("_trackPageLoadTime",M[z].Ea,100);a("_trackSocial",M[z].Ga,104);a("_trackTrans",M[z].Ia,18);a("_sendXEvent",M[z].t,78);a("_createEventTracker",M[z].ia,74);a("_getVersion",M[z].qa,60);a("_setDomainName",M[z].B,6);a("_setAllowHash",M[z].va,8);a("_getLinkerUrl",M[z].na,52);a("_link",M[z].link,101);a("_linkByPost",M[z].ua,102);a("_setTrans",M[z].za,20);a("_addTrans",M[z].$,
21);a("_addItem",M[z].Y,19);a("_clearTrans",M[z].ea,105);a("_setTransactionDelim",M[z].Aa,82);a("_setCustomVar",M[z].wa,10);a("_deleteCustomVar",M[z].ka,35);a("_getVisitorCustomVar",M[z].ra,50);a("_setXKey",M[z].Ca,83);a("_setXValue",M[z].Da,84);a("_getXKey",M[z].sa,76);a("_getXValue",M[z].ta,77);a("_clearXKey",M[z].fa,72);a("_clearXValue",M[z].ga,73);a("_createXObj",M[z].ja,75);a("_addIgnoredOrganic",M[z].W,15);a("_clearIgnoredOrganic",M[z].ba,97);a("_addIgnoredRef",M[z].X,31);a("_clearIgnoredRef",
M[z].ca,32);a("_addOrganic",M[z].Z,14);a("_clearOrganic",M[z].da,70);a("_cookiePathCopy",M[z].ha,30);a("_get",M[z].ma,106);a("_set",M[z].xa,107);a("_addEventListener",M[z].addEventListener,108);a("_removeEventListener",M[z].removeEventListener,109);a("_addDevId",M[z].V);a("_getPlugin",ca,122);a("_setPageGroup",M[z].ya,126);a("_trackTiming",M[z].Ha,124);a("_initData",M[z].v,2);a("_setVar",M[z].Ba,22);aa("_setSessionTimeout",ub,27,3);aa("_setCookieTimeout",Ob,25,3);aa("_setCookiePersistence",Ma,24,
1);a("_setAutoTrackOutbound",h,79);a("_setTrackOutboundSubdomains",h,81);a("_setHrefExamineLimit",h,80)},wa=function(a,b,c,d){a[b]=function(){try{return d!=o&&I(d),c.apply(this,arguments)}catch(a){throw T("exc",b,a&&a.name),a;}}},ab=function(b,c,d,f){M[z][b]=function(){try{return I(d),a(this.a.get(c),f)}catch(g){throw T("exc",b,g&&g.name),g;}}},aa=function(b,c,d,f,g){M[z][b]=function(h){try{I(d),g==o?this.a.set(c,a(h,f)):this.a.set(c,g)}catch(i){throw T("exc",b,i&&i.name),i;}}},Hd=function(a,b){return{type:b,
target:a,stopPropagation:function(){throw"aborted";}}},Id=RegExp(/(^|\.)doubleclick\.net$/i),Lc=function(a,b){return Id.test(N[da].hostname)?s:"/"!==b?w:(0==a[E]("www.google.")||0==a[E](".google.")||0==a[E]("google."))&&!(-1<a[E]("google.org"))?s:w},ae=function(a){var b=a.get(La),c=a.c(na,"/");Lc(b,c)&&a[ea]()},Yc=function(){var a={},b={},c=new xc;this.g=function(a,b){c.add(a,b)};var d=new xc;this.e=function(a,b){d.add(a,b)};var f=w,g=w,h=s;this.T=function(){f=s};this.j=function(a){this.load();this.set(Gb,
a,s);a=new Od(this);f=w;d.execute(this);f=s;b={};this.n();a.Ja()};this.load=function(){f&&(f=w,this.Ka(),kd(this),g||(g=s,c.execute(this),jd(this),kd(this)),f=s)};this.n=function(){f&&(g?(f=w,jd(this),f=s):this.load())};this.get=function(c){tb[c]&&this.load();return b[c]!==o?b[c]:a[c]};this.set=function(c,d,f){tb[c]&&this.load();f?b[c]=d:a[c]=d;tb[c]&&this.n()};this.Za=function(b){a[b]=this.b(b,0)+1};this.b=function(a,b){var c=this.get(a);return c==o||""===c?b:1*c};this.c=function(a,b){var c=this.get(a);
return c==o?b:c+""};this.Ka=function(){if(h){var b=this.c(La,""),c=this.c(na,"/");Lc(b,c)||(a[ka]=a[wb]&&""!=b?q(b):1,h=w)}}};Yc[z].stopPropagation=function(){throw"aborted";};var Od=function(a){var b=this;this.q=0;var c=a.get(kb);this.Ua=function(){0<b.q&&c&&(b.q--,b.q||c())};this.Ja=function(){!b.q&&c&&P(c,10)};a.set(bc,b,s)},fd=function(a,b,c){c=c?"":a.c(ka,"1");b=b[S](".");if(6!==b[v]||kc(b[0],c))return w;var c=1*b[1],d=1*b[2],f=1*b[3],g=1*b[4],b=1*b[5];if(!(0<=c&&0<d&&0<f&&0<g&&0<=b))return w;
a.set(Ba,c);a.set(Bb,d);a.set(Cb,f);a.set(Oa,g);a.set(Wa,b);return s},Oc=function(a){var b=a.get(Ba),c=a.get(Bb),d=a.get(Cb),f=a.get(Oa),g=a.b(Wa,1);return[a.b(ka,1),b!=o?b:"-",c||"-",d||"-",f||"-",g][F](".")},gd=function(a){return[a.b(ka,1),a.b(xa,0),a.b(pa,1),a.b(fb,0)][F](".")},ed=function(a,b,c){var c=c?"":a.c(ka,"1"),d=b[S](".");if(4!==d[v]||kc(d[0],c))d=R;a.set(xa,d?1*d[1]:0);a.set(pa,d?1*d[2]:10);a.set(fb,d?1*d[3]:a.get(Qa));return d!=R||!kc(b,c)},Pc=function(a,b){var c=i(a.c(ya,"")),d=[],
f=a.get(Aa);if(!b&&f){for(var g=0;g<f[v];g++){var h=f[g];h&&1==h.scope&&d[B](g+"="+i(h.name)+"="+i(h.value)+"=1")}0<d[v]&&(c+="|"+d[F]("^"))}return c?a.b(ka,1)+"."+c:R},ad=function(a,b,c){c=c?"":a.c(ka,"1");b=b[S](".");if(2>b[v]||kc(b[0],c))return w;b=b.slice(1)[F](".")[S]("|");0<b[v]&&a.set(ya,k(b[0]));if(1>=b[v])return s;b=b[1][S](-1==b[1][E](",")?"^":",");for(c=0;c<b[v];c++){var d=b[c][S]("=");if(4==d[v]){var f={},g=k(d[1]);f.name=g;f.value=k(d[2]);f.scope=1;a.get(Aa)[d[0]]=f}}return s},Mc=function(a,
b){var c=Ld(a,b);return c?[a.b(ka,1),a.b(Yb,0),a.b(Db,1),a.b(Zb,1),c][F]("."):""},Ld=function(a){function b(d,g){if(!f(a.get(d))){var h=a.c(d,""),h=h[S](" ")[F]("%20"),h=h[S]("+")[F]("%20");c[B](g+"="+h)}}var c=[];b(gb,"utmcid");b(Na,"utmcsr");b(Ca,"utmgclid");b(Xa,"utmgclsrc");b(Ga,"utmdclid");b(ib,"utmdsid");b(hb,"utmccn");b(Eb,"utmcmd");b(jb,"utmctr");b(Fb,"utmcct");return c[F]("|")},hd=function(a,b,c){c=c?"":a.c(ka,"1");b=b[S](".");if(5>b[v]||kc(b[0],c))return a.set(Yb,o),a.set(Db,o),a.set(Zb,
o),a.set(gb,o),a.set(hb,o),a.set(Na,o),a.set(Eb,o),a.set(jb,o),a.set(Fb,o),a.set(Ca,o),a.set(Xa,o),a.set(Ga,o),a.set(ib,o),w;a.set(Yb,1*b[1]);a.set(Db,1*b[2]);a.set(Zb,1*b[3]);Td(a,b.slice(4)[F]("."));return s},Td=function(a,b){function c(a){return(a=b[sa](a+"=(.*?)(?:\\|utm|$)"))&&2==a[v]?a[1]:o}function d(b,c){c?(c=f?k(c):c[S]("%20")[F](" "),a.set(b,c)):a.set(b,o)}-1==b[E]("=")&&(b=k(b));var f="2"==c("utmcvr");d(gb,c("utmcid"));d(hb,c("utmccn"));d(Na,c("utmcsr"));d(Eb,c("utmcmd"));d(jb,c("utmctr"));
d(Fb,c("utmcct"));d(Ca,c("utmgclid"));d(Xa,c("utmgclsrc"));d(Ga,c("utmdclid"));d(ib,c("utmdsid"))},kc=function(a,b){return b?a!=b:!/^\d+$/.test(a)},xc=function(){this.filters=[]};xc[z].add=function(a,b){this.filters[B]({name:a,s:b})};xc[z].execute=function(a){try{for(var b=0;b<this.filters[v];b++)this.filters[b].s.call(ba,a)}catch(c){}};var Zc=new function(){var a=[];this.set=function(b){a[b]=s};this.Xa=function(){for(var b=[],c=0;c<a[v];c++)a[c]&&(b[O[va](c/6)]=b[O[va](c/6)]^1<<c%6);for(c=0;c<b[v];c++)b[c]=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[X](b[c]||0);return b[F]("")+"~"}},ba=window,N=document,Kc=function(a){var b=ba._gaUserPrefs;return b&&b.ioo&&b.ioo()||!!a&&ba["ga-disable-"+a]===s},be=function(a,b){P(a,b)},Ta=function(a){for(var b=[],c=N.cookie[S](";"),a=RegExp("^\\s*"+a+"=\\s*(.*?)\\s*$"),d=0;d<c[v];d++){var f=c[d][sa](a);f&&b[B](f[1])}return b},Sa=function(a,b,c,d,f,g){if(f=Kc(f)?w:Lc(d,c)?w:s){if(b&&0<=ba.navigator.userAgent[E]("Firefox"))for(var b=b.replace(/\n|\r/g,
" "),f=0,h=b[v];f<h;++f){var i=b.charCodeAt(f)&255;if(10==i||13==i)b=b[J](0,f)+"?"+b[J](f+1)}b&&2E3<b[v]&&(b=b[J](0,2E3),I(69));a=a+"="+b+"; path="+c+"; ";g&&(a+="expires="+(new Date((new Date).getTime()+g)).toGMTString()+"; ");d&&(a+="domain="+d+";");N.cookie=a}},yc,Qc,$c=function(){if(!yc){var a={},b=ba.navigator,c=ba.screen;a.Q=c?c.width+"x"+c.height:"-";a.P=c?c.colorDepth+"-bit":"-";a.language=(b&&(b.language||b.browserLanguage)||"-")[L]();a.javaEnabled=b&&b.javaEnabled()?1:0;a.characterSet=N.characterSet||
N.charset||"-";try{var d,f=N.documentElement,g=N.body,h=g&&g.clientWidth&&g.clientHeight,b=[];f&&f.clientWidth&&f.clientHeight&&("CSS1Compat"===N.compatMode||!h)?b=[f.clientWidth,f.clientHeight]:h&&(b=[g.clientWidth,g.clientHeight]);d=0>=b[0]||0>=b[1]?"":b[F]("x");a.Wa=d}catch(i){I(135)}yc=a}},Qd=function(){$c();for(var a=yc,b=ba.navigator,a=b.appName+b.version+a.language+b.platform+b.userAgent+a.javaEnabled+a.Q+a.P+(N.cookie?N.cookie:"")+(N.referrer?N.referrer:""),b=a[v],c=ba.history[v];0<c;)a+=
c--^b++;return q(a)},Rd=function(a){$c();var b=yc;a.set(Ac,b.Q);a.set(Bc,b.P);a.set(qb,b.language);a.set(Cc,b.characterSet);a.set(qc,b.javaEnabled);a.set(rb,b.Wa);if(a.get(bb)&&a.get(Rb)){if(!(b=Qc)){var c,d,f;d="ShockwaveFlash";if((b=(b=ba.navigator)?b.plugins:o)&&0<b[v])for(c=0;c<b[v]&&!f;c++)d=b[c],-1<d.name[E]("Shockwave Flash")&&(f=d.description[S]("Shockwave Flash ")[1]);else{d=d+"."+d;try{c=new ActiveXObject(d+".7"),f=c.GetVariable("$version")}catch(g){}if(!f)try{c=new ActiveXObject(d+".6"),
f="WIN 6,0,21,0",c.AllowScriptAccess="always",f=c.GetVariable("$version")}catch(h){}if(!f)try{c=new ActiveXObject(d),f=c.GetVariable("$version")}catch(i){}f&&(f=f[S](" ")[1][S](","),f=f[0]+"."+f[1]+" r"+f[2])}b=f?f:"-"}Qc=b;a.set(ic,Qc)}else a.set(ic,"-")},ce=function(a){if(c(a))this.s=a;else{var b=a[0],d=b.lastIndexOf(":"),f=b.lastIndexOf(".");this.h=this.i=this.l="";-1==d&&-1==f?this.h=b:-1==d&&-1!=f?(this.i=b[J](0,f),this.h=b[J](f+1)):-1!=d&&-1==f?(this.l=b[J](0,d),this.h=b[J](d+1)):d>f?(this.i=
b[J](0,f),this.l=b[J](f+1,d),this.h=b[J](d+1)):(this.i=b[J](0,f),this.h=b[J](f+1));this.k=a.slice(1);this.Ma=!this.l&&"_require"==this.h;this.J=!this.i&&!this.l&&"_provide"==this.h}},Ra=function(){wa(Ra[z],"push",Ra[z][B],5);wa(Ra[z],"_getPlugin",ca,121);wa(Ra[z],"_createAsyncTracker",Ra[z].Sa,33);wa(Ra[z],"_getAsyncTracker",Ra[z].Ta,34);this.I=new Ea;this.p=[]};C=Ra[z];C.Na=function(a,b,d){var f=this.I.get(a);if(!c(f))return w;b.plugins_=b.plugins_||new Ea;b.plugins_.set(a,new f(b,d||{}));return s};
C.push=function(a){var b=Da.Va.apply(this,arguments),b=Da.p.concat(b);for(Da.p=[];0<b[v]&&!Da.O(b[0])&&!(b.shift(),0<Da.p[v]););Da.p=Da.p.concat(b);return 0};C.Va=function(a){for(var b=[],c=0;c<arguments[v];c++)try{var d=new ce(arguments[c]);d.J?this.O(d):b[B](d)}catch(f){}return b};C.O=function(a){try{if(a.s)a.s.apply(ba);else if(a.J)this.I.set(a.k[0],a.k[1]);else{var b="_gat"==a.i?ga:"_gaq"==a.i?Da:ga.u(a.i);if(a.Ma){if(!this.Na(a.k[0],b,a.k[2])){if(!a.Pa){var c=A(""+a.k[1]),d=c[ta],f=N[da][ta],
g;if(g="https:"==d||d==f?s:"http:"!=d?w:"http:"==f){var h;a:{var i=A(N[da][Ha]);if(!c.Oa&&!(0<=c.url[E]("?")||0<=c.path[E]("://")||c.host==i.host&&c[j]==i[j]))for(var k="http:"==c[ta]?80:443,l=ga.S,b=0;b<l[v];b++)if(c.host==l[b][0]&&(c[j]||k)==(l[b][1]||k)&&0==c.path[E](l[b][2])){h=s;break a}h=w}g=h&&!Kc()}g&&(a.Pa=m(c.url))}return s}}else a.l&&(b=b.plugins_.get(a.l)),b[a.h].apply(b,a.k)}}catch(n){}};C.Sa=function(a,b){return ga.r(a,b||"")};C.Ta=function(a){return ga.u(a)};var Qb=function(){function a(b,
c,d,f){o==g[b]&&(g[b]={});o==g[b][c]&&(g[b][c]=[]);g[b][c][d]=f}function b(a,c,d){if(o!=g[a]&&o!=g[a][c])return g[a][c][d]}function c(a,b){if(o!=g[a]&&o!=g[a][b]){g[a][b]=o;var d=s,f;for(f=0;f<h[v];f++)if(o!=g[a][h[f]]){d=w;break}d&&(g[a]=o)}}function d(a){var b="",c=w,f,g;for(f=0;f<h[v];f++)if(g=a[h[f]],o!=g){c&&(b+=h[f]);for(var c=[],Hc=o,nb=o,nb=0;nb<g[v];nb++)if(o!=g[nb]){Hc="";nb!=m&&o==g[nb-1]&&(Hc+=nb[ia]()+l);for(var md=g[nb],nd="",p=o,r=o,q=o,p=0;p<md[v];p++)r=md[X](p),q=n[r],nd+=o!=q?q:
r;Hc+=nd;c[B](Hc)}b+=i+c[F](k)+j;c=w}else c=s;return b}var f=this,g=[],h=["k","v"],i="(",j=")",k="*",l="!",n={"'":"'0"};n[j]="'1";n[k]="'2";n[l]="'3";var m=1;f.Ra=function(a){return o!=g[a]};f.A=function(){for(var a="",b=0;b<g[v];b++)o!=g[b]&&(a+=b[ia]()+d(g[b]));return a};f.Qa=function(a){if(a==o)return f.A();for(var b=a.A(),c=0;c<g[v];c++)o!=g[c]&&!a.Ra(c)&&(b+=c[ia]()+d(g[c]));return b};f.f=function(b,c,d){if(!ja(d))return w;a(b,"k",c,d);return s};f.o=function(b,c,d){if(!U(d))return w;a(b,"v",
c,d[ia]());return s};f.getKey=function(a,c){return b(a,"k",c)};f.N=function(a,c){return b(a,"v",c)};f.L=function(a){c(a,"k")};f.M=function(a){c(a,"v")};wa(f,"_setKey",f.f,89);wa(f,"_setValue",f.o,90);wa(f,"_getKey",f.getKey,87);wa(f,"_getValue",f.N,88);wa(f,"_clearKey",f.L,85);wa(f,"_clearValue",f.M,86)},Rc=function(a){var b=ba.gaGlobal;a&&!b&&(ba.gaGlobal=b={});return b},de=function(){var a=Rc(s).hid;a==R&&(a=d(),Rc(s).hid=a);return a},$d=function(a){a.set(zc,de());var b=Rc();if(b&&b.dh==a.get(ka)){var c=
b.sid;c&&("0"==c&&I(112),a.set(Oa,c),a.get(db)&&a.set(Cb,c));b=b.vid;a.get(db)&&b&&(b=b[S]("."),1*b[1]||I(112),a.set(Ba,1*b[0]),a.set(Bb,1*b[1]))}},bd,id=function(a,b,c,d){var f=a.c(La,""),g=a.c(na,"/"),d=d!=o?d:a.b(Ma,0),a=a.c(Ia,"");Sa(b,c,g,f,a,d)},jd=function(a){var b=a.c(La,"");a.b(ka,1);var c=a.c(na,"/"),d=a.c(Ia,"");Sa("__utma",Oc(a),c,b,d,a.get(Ma));Sa("__utmb",gd(a),c,b,d,a.get(ub));Sa("__utmc",""+a.b(ka,1),c,b,d);var f=Mc(a,s);f?Sa("__utmz",f,c,b,d,a.get(Ob)):Sa("__utmz","",c,b,"",-1);(f=
Pc(a,w))?Sa("__utmv",f,c,b,d,a.get(Ma)):Sa("__utmv","",c,b,"",-1)},kd=function(a){var b=a.b(ka,1);if(!fd(a,K(b,Ta("__utma"))))return a.set(Nb,s),w;var c=!ed(a,K(b,Ta("__utmb")));a.set(Xb,c);hd(a,K(b,Ta("__utmz")));ad(a,K(b,Ta("__utmv")));bd=!c;return s},Pd=function(a){!bd&&!(0<Ta("__utmb")[v])&&(Sa("__utmd","1",a.c(na,"/"),a.c(La,""),a.c(Ia,""),1E4),0==Ta("__utmd")[v]&&a[ea]())},ld=function(a){a.get(Ba)==o?Vc(a):a.get(Nb)&&!a.get(ob)?Vc(a):a.get(Xb)&&Wc(a)},ee=function(a){a.get($b)&&!a.get(eb)&&(Wc(a),
a.set(Db,a.get(Wa)))},Vc=function(a){var b=a.get(Qa);a.set(db,s);a.set(Ba,d()^Qd(a)&2147483647);a.set(ya,"");a.set(Bb,b);a.set(Cb,b);a.set(Oa,b);a.set(Wa,1);a.set(eb,s);a.set(xa,0);a.set(pa,10);a.set(fb,b);a.set(Aa,[]);a.set(Nb,w);a.set(Xb,w)},Wc=function(a){a.set(Cb,a.get(Oa));a.set(Oa,a.get(Qa));a.Za(Wa);a.set(eb,s);a.set(xa,0);a.set(pa,10);a.set(fb,a.get(Qa));a.set(Xb,w)},Jd="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p yahoo:q msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q netscape:query cnn:query about:terms mamma:q voila:rdata virgilio:qs live:q baidu:wd alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT wp:szukaj onet:qt yam:k kvasir:q ozu:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q search.centrum.cz:q 360.cn:q".split(" "),
Kd=function(a){if(a.get(lc)&&!a.get(ob)){for(var b=!f(a.get(gb))||!f(a.get(Na))||!f(a.get(Ca))||!f(a.get(Ga)),c={},d=0;d<vc[v];d++){var g=vc[d];c[g]=a.get(g)}(d=a.get(ac))?(I(149),g=new Ea,D(g,d),d=g):d=l(N[da][Ha],a.get(Pb)).d;if(!("1"==r(d.get(a.get(oc)))&&b)&&(d=Md(a,d)||Nd(a),!d&&!b&&a.get(eb)&&(uc(a,o,"(direct)",o,o,o,"(direct)","(none)",o,o),d=s),d&&(a.set($b,Sd(a,c)),b="(direct)"==a.get(Na)&&"(direct)"==a.get(hb)&&"(none)"==a.get(Eb),a.get($b)||a.get(eb)&&!b)))a.set(Yb,a.get(Qa)),a.set(Db,
a.get(Wa)),a.Za(Zb)}},Md=function(a,b){function c(d,f){var f=f||"-",g=r(b.get(a.get(d)));return g&&"-"!=g?k(g):f}var d=r(b.get(a.get(Sb)))||"-",g=r(b.get(a.get(nc)))||"-",h=r(b.get(a.get(Mb)))||"-",i=r(b.get("gclsrc"))||"-",j=r(b.get("dclid"))||"-",n=c(mc,"(not set)"),m=c(xb,"(not set)"),o=c(Tb),p=c(Ub);if(f(d)&&f(h)&&f(j)&&f(g))return w;var q=!f(h)&&!f(i),q=f(g)&&(!f(j)||q),t=f(o);if(q||t){var u=cd(a),u=l(u,s);if((u=Xc(a,u))&&!f(u[1]&&!u[2]))q&&(g=u[0]),t&&(o=u[1])}uc(a,d,g,h,i,j,n,m,o,p);return s},
Nd=function(a){var b=cd(a),c=l(b,s);if(!(b!=o&&b!=R&&""!=b&&"0"!=b&&"-"!=b&&0<=b[E]("://"))||c&&-1<c.host[E]("google")&&c.d.contains("q")&&"cse"==c.path)return w;if((b=Xc(a,c))&&!b[2])return uc(a,o,b[0],o,o,o,"(organic)","organic",b[1],o),s;if(b||!a.get(eb))return w;a:{for(var b=a.get(Wb),d=n(c.host),f=0;f<b[v];++f)if(-1<d[E](b[f])){a=w;break a}uc(a,o,d,o,o,o,"(referral)","referral",o,"/"+c.path);a=s}return a},Xc=function(a,b){for(var c=a.get(pb),d=0;d<c[v];++d){var f=c[d][S](":");if(-1<b.host[E](f[0][L]())){var g=
b.d.get(f[1]);if(g&&(g=p(g),!g&&-1<b.host[E]("google.")&&(g="(not provided)"),!f[3]||-1<b.url[E](f[3]))){a:{for(var c=g,d=a.get(Ab),c=k(c)[L](),h=0;h<d[v];++h)if(c==d[h]){c=s;break a}c=w}return[f[2]||f[0],g,c]}}}return R},uc=function(a,b,c,d,f,g,h,i,j,k){a.set(gb,b);a.set(Na,c);a.set(Ca,d);a.set(Xa,f);a.set(Ga,g);a.set(hb,h);a.set(Eb,i);a.set(jb,j);a.set(Fb,k)},vc=[hb,gb,Ca,Ga,Na,Eb,jb,Fb],Sd=function(a,b){function c(a){a=(""+a)[S]("+")[F]("%20");return a[S](" ")[F]("%20")}function d(c){var f=""+
(a.get(c)||""),c=""+(b[c]||"");return 0<f[v]&&f==c}if(d(Ca)||d(Ga))return I(131),w;for(var f=0;f<vc[v];f++){var g=vc[f],h=b[g]||"-",g=a.get(g)||"-";if(c(h)!=c(g))return s}return w},Ud=RegExp(/^https:\/\/(www\.)?google(\.com?)?(\.[a-z]{2}t?)?\/?$/i),cd=function(a){a=G(a.get(Va),a.get(na));try{if(Ud.test(a))return I(136),a+"?q="}catch(b){I(145)}return a},wc,dd,Vd=function(a){wc=a.c(Ca,"");dd=a.c(Xa,"")},Wd=function(a){var b=a.c(Ca,""),c=a.c(Xa,"");b!=wc&&(-1<c[E]("ds")?a.set(ib,o):!f(wc)&&-1<dd[E]("ds")&&
a.set(ib,wc))},Xd=function(a){Yd(a,N[da][Ha])?(a.set(ob,s),I(12)):a.set(ob,w)},Yd=function(a,b){if(!a.get(vb))return w;var c=l(b,a.get(Pb)),d=p(c.d.get("__utma")),f=p(c.d.get("__utmb")),g=p(c.d.get("__utmc")),h=p(c.d.get("__utmx")),i=p(c.d.get("__utmz")),j=p(c.d.get("__utmv")),c=p(c.d.get("__utmk"));if(q(""+d+f+g+h+i+j)!=c){d=k(d);f=k(f);g=k(g);h=k(h);g=Zd(d+f+g+h,i,j,c);if(!g)return w;i=g[0];j=g[1]}if(!fd(a,d,s))return w;ed(a,f,s);hd(a,i,s);ad(a,j,s);pd(a,h,s);return s},Nc=function(a,b,c){var d;
d=Oc(a)||"-";var f=gd(a)||"-",g=""+a.b(ka,1)||"-",h=Tc(a)||"-",i=Mc(a,w)||"-",a=Pc(a,w)||"-",j=q(""+d+f+g+h+i+a),k=[];k[B]("__utma="+d);k[B]("__utmb="+f);k[B]("__utmc="+g);k[B]("__utmx="+h);k[B]("__utmz="+i);k[B]("__utmv="+a);k[B]("__utmk="+j);d=k[F]("&");if(!d)return b;f=b[E]("#");if(c)return 0>f?b+"#"+d:b+"&"+d;c="";g=b[E]("?");0<f&&(c=b[J](f),b=b[J](0,f));return 0>g?b+"?"+d+c:b+"&"+d+c},Zd=function(a,b,c,d){for(var f=0;3>f;f++){for(var g=0;3>g;g++){if(d==q(a+b+c))return I(127),[b,c];var h=b.replace(/ /g,
"%20"),j=c.replace(/ /g,"%20");if(d==q(a+h+j))return I(128),[h,j];h=h.replace(/\+/g,"%20");j=j.replace(/\+/g,"%20");if(d==q(a+h+j))return I(129),[h,j];try{var l=b[sa]("utmctr=(.*?)(?:\\|utm|$)");if(l&&2==l[v]&&(h=b.replace(l[1],i(k(l[1]))),d==q(a+h+c)))return I(139),[h,c]}catch(n){}b=k(b)}c=k(c)}},qd="|",Uc=function(a,b,c,d,f,g,h,i,j){var k=rd(a,b);k||(k={},a.get(cb)[B](k));k.id_=b;k.affiliation_=c;k.total_=d;k.tax_=f;k.shipping_=g;k.city_=h;k.state_=i;k.country_=j;k.items_=k.items_||[];return k},
sd=function(a,b,c,d,f,g,h){var a=rd(a,b)||Uc(a,b,"",0,0,0,"","",""),i;a:{if(a&&a.items_){i=a.items_;for(var j=0;j<i[v];j++)if(i[j].sku_==c){i=i[j];break a}}i=R}j=i||{};j.transId_=b;j.sku_=c;j.name_=d;j.category_=f;j.price_=g;j.quantity_=h;i||a.items_[B](j);return j},rd=function(a,b){for(var c=a.get(cb),d=0;d<c[v];d++)if(c[d].id_==b)return c[d];return R},td,fe=function(a){var Hc;var nb;if(!td){var b;b=N[da].hash;var c=ba.name,f=/^#?gaso=([^&]*)/;if(Hc=(nb=(b=b&&b[sa](f)||c&&c[sa](f))?b[1]:p(Ta("GASO")),
b=nb)&&b[sa](/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i),c=Hc)id(a,"GASO",""+b,0),ga._gasoDomain=a.get(La),ga._gasoCPath=a.get(na),a=c[1],m("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(a?"prefix="+a+"&":"")+d(),"_gasojs");td=s}},pd=function(a,b,c){c&&(b=k(b));c=a.b(ka,1);b=b[S](".");!(2>b[v])&&/^\d+$/.test(b[0])&&(b[0]=""+c,id(a,"__utmx",b[F]("."),o))},Tc=function(a,b){var c=K(a.get(ka),Ta("__utmx"));"-"==c&&(c="");return b?i(c):c},ge=function(a){try{var b=l(N[da][Ha],w),c=ra(r(b.d.get("utm_referrer")))||
"";c&&a.set(Va,c);var d=ba.gaData&&ba.gaData.expId;d||(d=ra(p(b.d.get("utm_expid")))||"");d&&a.set(Jc,""+d)}catch(f){I(146)}},vd=function(a,b){var c=O.min(a.b(mb,0),100);if(a.b(Ba,0)%100>=c)return w;c=he()||ie();if(c==o)return w;var d=c[0];if(d==o||d==Pa||qa(d))return w;0<d?je(c)?b(ud(c)):b(ud(c.slice(0,1))):Ja(ba,"load",function(){vd(a,b)},w);return s},ke=function(a,b,c,d){var f=new Qb;f.f(14,90,b[J](0,500));f.f(14,91,a[J](0,150));f.f(14,92,""+wd(c));d!=o&&f.f(14,93,d[J](0,500));f.o(14,90,c);return f},
je=function(a){for(var b=1;b<a[v];b++)if(qa(a[b])||a[b]==Pa||0>a[b])return w;return s},wd=function(a){return qa(a)||0>a?0:5E3>a?10*O[va](a/10):5E4>a?100*O[va](a/100):41E5>a?1E3*O[va](a/1E3):41E5},ud=function(a){for(var b=new Qb,c=0;c<a[v];c++)b.f(14,c+1,""+wd(a[c])),b.o(14,c+1,a[c]);return b},he=function(){var a=ba.performance||ba.webkitPerformance;if(a=a&&a.timing){var b=a.navigationStart;if(0==b)I(133);else return[a.loadEventStart-b,a.domainLookupEnd-a.domainLookupStart,a.connectEnd-a.connectStart,
a.responseStart-a.requestStart,a.responseEnd-a.responseStart,a.fetchStart-b,a.domInteractive-b,a.domContentLoadedEventStart-b]}},ie=function(){if(ba.top==ba){var a=ba.external,b=a&&a.onloadT;a&&!a.isValidLoadTime&&(b=o);2147483648<b&&(b=o);0<b&&a.setPageReadyTime();return b==o?o:[b]}},le=function(a){if(a.get(db))try{var b;a:{var c=Ta(a.get(Cd)||"_ga");if(c&&!(1>c[v])){for(var d=[],f=0;f<c[v];f++){var g,h=c[f][S]("."),i=h.shift();if(("GA1"==i||"1"==i)&&1<h[v]){var j=h.shift()[S]("-");1==j[v]&&(j[1]=
"1");j[0]*=1;j[1]*=1;g={Ya:j,$a:h[F](".")}}else g=o;g&&d[B](g)}if(1==d[v]){b=d[0].$a;break a}if(0!=d[v]){var k=a.get(Dd)||a.get(La),d=xd(d,(0==k[E](".")?k.substr(1):k)[S](".")[v],0);if(1==d[v]){b=d[0].$a;break a}var l=a.get(Ed)||a.get(na);(c=l)?(1<c[v]&&"/"==c[X](c[v]-1)&&(c=c.substr(0,c[v]-1)),0!=c[E]("/")&&(c="/"+c),l=c):l="/";d=xd(d,"/"==l?1:l[S]("/")[v],1);b=d[0].$a;break a}}b=o}if(b){var n=(""+b)[S](".");2==n[v]&&/[0-9.]/.test(n)&&(I(114),a.set(Ba,n[0]),a.set(Bb,n[1]),a.set(db,w))}}catch(m){I(115)}},
xd=function(a,b,c){for(var d=[],f=[],g=128,h=0;h<a[v];h++){var i=a[h];if(i.Ya[c]==b)d[B](i);else if(i.Ya[c]==g)f[B](i);else i.Ya[c]<g&&(f=[i],g=i.Ya[c])}return 0<d[v]?d:f},M=function(a,b,c){function d(a){return function(b){if((b=b.get(rc)[a])&&b[v])for(var c=Hd(f,a),d=0;d<b[v];d++)b[d].call(f,c)}}var f=this;this.a=new Yc;this.get=function(a){return this.a.get(a)};this.set=function(a,b,c){this.a.set(a,b,c)};this.set(Ia,b||"UA-XXXXX-X");this.set(tc,a||"");this.set(sc,c||"");this.set(Qa,O.round((new Date).getTime()/
1E3));this.set(na,"/");this.set(Ma,63072E6);this.set(Ob,15768E6);this.set(ub,18E5);this.set(vb,w);this.set(zb,50);this.set(Pb,w);this.set(wb,s);this.set(bb,s);this.set(Rb,s);this.set(lc,s);this.set(Lb,s);this.set(mc,"utm_campaign");this.set(Sb,"utm_id");this.set(Mb,"gclid");this.set(nc,"utm_source");this.set(xb,"utm_medium");this.set(Tb,"utm_term");this.set(Ub,"utm_content");this.set(oc,"utm_nooverride");this.set(yb,100);this.set(mb,1);this.set(x,w);this.set(Vb,"/__utm.gif");this.set(Ua,1);this.set(cb,
[]);this.set(Aa,[]);this.set(pb,Jd.slice(0));this.set(Ab,[]);this.set(Wb,[]);this.B("auto");this.set(Va,N.referrer);ge(this.a);this.set(rc,{hit:[],load:[]});this.a.g("0",Xd);this.a.g("1",Vd);this.a.g("2",ld);this.a.g("3",le);this.a.g("4",Kd);this.a.g("5",Wd);this.a.g("6",ee);this.a.g("7",d("load"));this.a.g("8",fe);this.a.e("A",V);this.a.e("B",W);this.a.e("C",ld);this.a.e("D",ha);this.a.e("E",ae);this.a.e("F",me);this.a.e("G",Pd);this.a.e("H",fa);this.a.e("I",Rd);this.a.e("J",$d);this.a.e("K",d("hit"));
this.a.e("L",ne);this.a.e("M",oe);0===this.get(Qa)&&I(111);this.a.T();this.H=o};C=M[z];C.m=function(){var a=this.get(oa);a||(a=new Qb,this.set(oa,a));return a};C.La=function(a){for(var b in a){var c=a[b];a.hasOwnProperty(b)&&this.set(b,c,s)}};C.K=function(a){if(this.get(x))return w;var b=this,c=vd(this.a,function(c){b.set(ua,a,s);b.t(c)});this.set(x,c);return c};C.Fa=function(a){a&&g(a)?(I(13),this.set(ua,a,s)):"object"===typeof a&&a!==R&&this.La(a);this.H=a=this.get(ua);this.a.j("page");this.K(a);
42==O[va](1E4*O[Ka]())&&H()};C.F=function(a,b,c,d,f){if(""==a||!ja(a)||""==b||!ja(b)||c!=o&&!ja(c)||d!=o&&!U(d))return w;this.set(Za,a,s);this.set(lb,b,s);this.set(Ec,c,s);this.set(Fc,d,s);this.set(Dc,!!f,s);this.a.j("event");return s};C.Ha=function(a,b,c,d,f){var g=this.a.b(mb,0);1*f===f&&(g=f);if(this.a.b(Ba,0)%100>=g)return w;c=1*(""+c);if(""==a||!ja(a)||""==b||!ja(b)||!U(c)||qa(c)||0>c||0>g||100<g||d!=o&&(""==d||!ja(d)))return w;this.t(ke(a,b,c,d));return s};C.Ga=function(a,b,c,d){if(!a||!b)return w;
this.set(Gc,a,s);this.set(sb,b,s);this.set($a,c||N[da][Ha],s);d&&this.set(ua,d,s);this.a.j("social");return s};C.Ea=function(){this.set(mb,10);this.K(this.H)};C.Ia=function(){this.a.j("trans")};C.t=function(a){this.set(pc,a,s);this.a.j("event")};C.ia=function(a){this.v();var b=this;return{_trackEvent:function(c,d,f){I(91);b.F(a,c,d,f)}}};C.ma=function(a){return this.get(a)};C.xa=function(a,b){if(a)if(g(a))this.set(a,b);else if("object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&this.set(c,a[c])};
C.addEventListener=function(a,b){var c=this.get(rc)[a];c&&c[B](b)};C.removeEventListener=function(a,b){for(var c=this.get(rc)[a],d=0;c&&d<c[v];d++)if(c[d]==b){c.splice(d,1);break}};C.qa=function(){return"5.4.1"};C.B=function(a){this.get(wb);a="auto"==a?n(N.domain):!a||"-"==a||"none"==a?"":a[L]();this.set(La,a)};C.va=function(a){this.set(wb,!!a)};C.na=function(a,b){return Nc(this.a,a,b)};C.link=function(a,b){if(this.a.get(vb)&&a){var c=Nc(this.a,a,b);N[da].href=c}};C.ua=function(a,b){this.a.get(vb)&&
a&&a.action&&(a.action=Nc(this.a,a.action,b))};C.za=function(){this.v();var a=this.a,c=N.getElementById?N.getElementById("utmtrans"):N.utmform&&N.utmform.utmtrans?N.utmform.utmtrans:R;if(c&&c.value){a.set(cb,[]);for(var c=c.value[S]("UTM:"),d=0;d<c[v];d++){c[d]=b(c[d]);for(var f=c[d][S](qd),g=0;g<f[v];g++)f[g]=b(f[g]);"T"==f[0]?Uc(a,f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8]):"I"==f[0]&&sd(a,f[1],f[2],f[3],f[4],f[5],f[6])}}};C.$=function(a,b,c,d,f,g,h,i){return Uc(this.a,a,b,c,d,f,g,h,i)};C.Y=function(a,
b,c,d,f,g){return sd(this.a,a,b,c,d,f,g)};C.Aa=function(a){qd=a||"|"};C.ea=function(){this.set(cb,[])};C.wa=function(a,b,c,d){var f=this.a;if(0>=a||a>f.get(zb))a=w;else if(!b||!c||128<b[v]+c[v])a=w;else{1!=d&&2!=d&&(d=3);var g={};g.name=b;g.value=c;g.scope=d;f.get(Aa)[a]=g;a=s}a&&this.a.n();return a};C.ka=function(a){this.a.get(Aa)[a]=o;this.a.n()};C.ra=function(a){return(a=this.a.get(Aa)[a])&&1==a.scope?a.value:o};C.Ca=function(a,b,c){this.m().f(a,b,c)};C.Da=function(a,b,c){this.m().o(a,b,c)};C.sa=
function(a,b){return this.m().getKey(a,b)};C.ta=function(a,b){return this.m().N(a,b)};C.fa=function(a){this.m().L(a)};C.ga=function(a){this.m().M(a)};C.ja=function(){return new Qb};C.W=function(a){a&&this.get(Ab)[B](a[L]())};C.ba=function(){this.set(Ab,[])};C.X=function(a){a&&this.get(Wb)[B](a[L]())};C.ca=function(){this.set(Wb,[])};C.Z=function(a,b,c,d,f){if(a&&b){a=[a,b[L]()][F](":");if(d||f)a=[a,d,f][F](":");d=this.get(pb);d.splice(c?0:d[v],0,a)}};C.da=function(){this.set(pb,[])};C.ha=function(a){this.a.load();
var b=this.get(na),c=Tc(this.a);this.set(na,a);this.a.n();pd(this.a,c);this.set(na,b)};C.ya=function(a,b){if(0<a&&5>=a&&g(b)&&""!=b){var c=this.get(Z)||[];c[a]=b;this.set(Z,c)}};C.V=function(a){a=""+a;if(a[sa](/^[A-Za-z0-9]{1,5}$/)){var b=this.get(hc)||[];b[B](a);this.set(hc,b)}};C.v=function(){this.a.load()};C.Ba=function(a){a&&""!=a&&(this.set(ya,a),this.a.j("var"))};var od=w,me=function(a){"trans"!==a.get(Gb)&&500<=a.b(xa,0)&&a[ea]();if("event"===a.get(Gb)){var b=(new Date).getTime(),c=a.b(fb,
0),d=a.b(Oa,0),c=O[va](1*((b-(c!=d?c:1E3*c))/1E3));0<c&&(a.set(fb,b),a.set(pa,O.min(10,a.b(pa,0)+c)));0>=a.b(pa,0)&&a[ea]()}},oe=function(a){"event"===a.get(Gb)&&a.set(pa,O.max(0,a.b(pa,10)-1))},Hb=function(){var a=[];this.add=function(b,c,d){d&&(c=i(""+c));a[B](b+"="+c)};this.toString=function(){return a[F]("&")}},Ib=function(a,b){(b||2!=a.get(Ua))&&a.Za(xa)},Jb=function(a,b){b.add("utmwv","5.4.1");b.add("utms",a.get(xa));b.add("utmn",d());var c=N[da].hostname;f(c)||b.add("utmhn",c,s);c=a.get(yb);
100!=c&&b.add("utmsp",c,s)},Kb=function(a,c){c.add("utmht",(new Date).getTime());c.add("utmac",b(a.get(Ia)));a.get(Jc)&&c.add("utmxkey",a.get(Jc),s);a.get(Dc)&&c.add("utmni",1);var d=a.get(hc);d&&0<d[v]&&c.add("utmdid",d[F]("."));pe(a,c);a.get(jc)!==w&&(a.get(jc)||ga.w)&&c.add("aip",1);c.add("utmu",Zc.Xa())},cc=function(a,b){for(var c=a.get(Z)||[],d=[],f=1;f<c[v];f++)c[f]&&d[B](f+":"+i(c[f].replace(/%/g,"%25").replace(/:/g,"%3A").replace(/,/g,"%2C")));d[v]&&b.add("utmpg",d[F](","))},pe=function(a,
b){function c(a,b){b&&d[B](a+"="+b+";")}var d=[];c("__utma",Oc(a));c("__utmz",Mc(a,w));c("__utmv",Pc(a,s));c("__utmx",Tc(a));b.add("utmcc",d[F]("+"),s)},dc=function(a,b){a.get(bb)&&(b.add("utmcs",a.get(Cc),s),b.add("utmsr",a.get(Ac)),a.get(rb)&&b.add("utmvp",a.get(rb)),b.add("utmsc",a.get(Bc)),b.add("utmul",a.get(qb)),b.add("utmje",a.get(qc)),b.add("utmfl",a.get(ic),s))},ec=function(a,b){a.get(Lb)&&a.get(Fa)&&b.add("utmdt",a.get(Fa),s);b.add("utmhid",a.get(zc));b.add("utmr",G(a.get(Va),a.get(na)),
s);b.add("utmp",i(a.get(ua),s),s)},fc=function(a,b){for(var c=a.get(oa),d=a.get(pc),g=a.get(Aa)||[],h=0;h<g[v];h++){var i=g[h];i&&(c||(c=new Qb),c.f(8,h,i.name),c.f(9,h,i.value),3!=i.scope&&c.f(11,h,""+i.scope))}!f(a.get(Za))&&!f(a.get(lb),s)&&(c||(c=new Qb),c.f(5,1,a.get(Za)),c.f(5,2,a.get(lb)),g=a.get(Ec),g!=o&&c.f(5,3,g),g=a.get(Fc),g!=o&&c.o(5,1,g));c?b.add("utme",c.Qa(d),s):d&&b.add("utme",d.A(),s)},qe=function(a,b,c){var d=new Hb;Ib(a,c);Jb(a,d);d.add("utmt","tran");d.add("utmtid",b.id_,s);
d.add("utmtst",b.affiliation_,s);d.add("utmtto",b.total_,s);d.add("utmttx",b.tax_,s);d.add("utmtsp",b.shipping_,s);d.add("utmtci",b.city_,s);d.add("utmtrg",b.state_,s);d.add("utmtco",b.country_,s);fc(a,d);dc(a,d);ec(a,d);(b=a.get(la))&&d.add("utmcu",b,s);c||(cc(a,d),Kb(a,d));return d[ia]()},re=function(a,b,c){var d=new Hb;Ib(a,c);Jb(a,d);d.add("utmt","item");d.add("utmtid",b.transId_,s);d.add("utmipc",b.sku_,s);d.add("utmipn",b.name_,s);d.add("utmiva",b.category_,s);d.add("utmipr",b.price_,s);d.add("utmiqt",
b.quantity_,s);fc(a,d);dc(a,d);ec(a,d);(b=a.get(la))&&d.add("utmcu",b,s);c||(cc(a,d),Kb(a,d));return d[ia]()},yd=function(a,b){var c=a.get(Gb);if("page"==c)c=new Hb,Ib(a,b),Jb(a,c),fc(a,c),dc(a,c),ec(a,c),b||(cc(a,c),Kb(a,c)),c=[c[ia]()];else if("event"==c)c=new Hb,Ib(a,b),Jb(a,c),c.add("utmt","event"),fc(a,c),dc(a,c),ec(a,c),b||(cc(a,c),Kb(a,c)),c=[c[ia]()];else if("var"==c)c=new Hb,Ib(a,b),Jb(a,c),c.add("utmt","var"),!b&&Kb(a,c),c=[c[ia]()];else if("trans"==c)for(var c=[],d=a.get(cb),f=0;f<d[v];++f){c[B](qe(a,
d[f],b));for(var g=d[f].items_,h=0;h<g[v];++h)c[B](re(a,g[h],b))}else"social"==c?b?c=[]:(c=new Hb,Ib(a,b),Jb(a,c),c.add("utmt","social"),c.add("utmsn",a.get(Gc),s),c.add("utmsa",a.get(sb),s),c.add("utmsid",a.get($a),s),fc(a,c),dc(a,c),ec(a,c),cc(a,c),Kb(a,c),c=[c[ia]()]):"feedback"==c?b?c=[]:(c=new Hb,Ib(a,b),Jb(a,c),c.add("utmt","feedback"),c.add("utmfbid",a.get(Bd),s),c.add("utmfbpr",a.get(Ic),s),fc(a,c),dc(a,c),ec(a,c),cc(a,c),Kb(a,c),c=[c[ia]()]):c=[];return c},ne=function(a){var b,c=a.get(Ua),
d=a.get(bc),f=d&&d.Ua,g=0;if(0==c||2==c){var h=a.get(Vb)+"?";b=yd(a,s);for(var i=0,j=b[v];i<j;i++)Sc(b[i],f,h,s),g++}if(1==c||2==c){b=yd(a);i=0;for(j=b[v];i<j;i++)try{Sc(b[i],f),g++}catch(k){k&&T(k.name,o,k.message)}}d&&(d.q=g)},se=function(a){this.name="len";this.message=a+"-8192"},te=function(a){this.name="ff2post";this.message=a+"-2036"},Sc=function(a,b,c,d){b=b||h;if(d||2036>=a[v])ue(a,b,c);else if(8192>=a[v]){if(0<=ba.navigator.userAgent[E]("Firefox")&&![].reduce)throw new te(a[v]);ve(a,b)||
zd(a,b)}else throw new se(a[v]);},ue=function(a,b,c){var c=c||(t()||ga.G?"https://ssl.google-analytics.com":"http://www.google-analytics.com")+"/__utm.gif?",d=new Image(1,1);d.src=c+a;d.onload=function(){d.onload=R;d.onerror=R;b()};d.onerror=function(){d.onload=R;d.onerror=R;b()}},ve=function(a,b){var c,d=(t()||ga.G?"https://ssl.google-analytics.com":"http://www.google-analytics.com")+"/p/__utm.gif",f=ba.XDomainRequest;if(f)c=new f,c.open("POST",d);else if(f=ba.XMLHttpRequest)f=new f,"withCredentials"in
f&&(c=f,c.open("POST",d,s),c.setRequestHeader("Content-Type","text/plain"));if(c)return c.onreadystatechange=function(){4==c.readyState&&(b(),c=R)},c.send(a),s},zd=function(a,b){if(N.body){a=y(a);try{var c=N[Y]('<iframe name="'+a+'"></iframe>')}catch(d){c=N[Y]("iframe"),c.name=a}c.height="0";c.width="0";c.style.display="none";c.style.visibility="hidden";var f=N[da],f=(t()||ga.G?"https://ssl.google-analytics.com":"http://www.google-analytics.com")+"/u/post_iframe.html#"+y(f[ta]+"//"+f.host+"/favicon.ico"),
g=function(){c.src="";c.parentNode&&c.parentNode.removeChild(c)};Ja(ba,"beforeunload",g);var h=w,i=0,j=function(){if(!h){try{if(9<i||c.contentWindow[da].host==N[da].host){h=s;g();var a=ba;a.removeEventListener?a.removeEventListener("beforeunload",g,!1):a.detachEvent&&a.detachEvent("onbeforeunload",g);b();return}}catch(d){}i++;P(j,200)}};Ja(c,"load",j);N.body.appendChild(c);c.src=f}else be(function(){zd(a,b)},100)},Ya=function(){this.G=this.w=w;this.C={};this.D=[];this.U=0;this.S=[["www.google-analytics.com",
"","/plugins/"]];this._gasoCPath=this._gasoDomain=o;Fd();Gd()};C=Ya[z];C.oa=function(a,b){return this.r(a,o,b)};C.r=function(a,b,c){b&&I(23);c&&I(67);b==o&&(b="~"+ga.U++);a=new M(b,a,c);ga.C[b]=a;ga.D[B](a);return a};C.u=function(a){a=a||"";return ga.C[a]||ga.r(o,a)};C.pa=function(){return ga.D.slice(0)};C.aa=function(){this.w=s};C.la=function(){this.G=s};var Ad=function(a){if("prerender"==N.webkitVisibilityState)return w;a();return s},ga=new Ya;(C=ba._gat)&&c(C._getTracker)?ga=C:ba._gat=ga;var Da=
new Ra;(function(a){if(!Ad(a)){I(123);var b=w,c=function(){if(!b&&Ad(a)){b=s;var d=N,f=c;d.removeEventListener?d.removeEventListener("webkitvisibilitychange",f,!1):d.detachEvent&&d.detachEvent("onwebkitvisibilitychange",f)}};Ja(N,"webkitvisibilitychange",c)}})(function(){var a=ba._gaq,b=w;a&&c(a[B])&&(b="[object Array]"==Object[z][ia].call(Object(a)),!b)?Da=a:(ba._gaq=Da,b&&Da[B].apply(Da,a))})})();var Login=function(){function a(a){if(LoginDetailsLoaded==1){var b=$("#TestlayoutSpan").html(),d;try{d=window.sessionStorage.getItem("lim")}catch(f){}if(b){if(b=document.getElementById("PlayLink"))b=document.getElementById("logout"),b.innerHTML="Logout",getPlatform()!=4?$("#logout").show():$("#logout").hide(),d==2?(b.onclick=function(){i()},DoHomePageLoadLogic(),$("#"+displaymode+"_registration_btn").show(),$(".playnow").show()):b.onclick=function(){FB.logout(function(){i()})},$("#"+displaymode+"_registration_btn").hide()}else b=
document.getElementById("fb-auth"),b.innerHTML="Logout",getPlatform()!=4?$(".fb-auth").show():$(".fb-auth").hide(),d==2?(b.onclick=function(){i()},alreadycalledGameDetails==0&&DoGamePageLoadLogic()):b.onclick=function(){FB.logout(function(){i()})};if(b=document.getElementById("fb-auth2"))b.innerHTML="Logout",getPlatform()!=4?$(".fb-auth").show():$(".fb-auth").hide(),d==2?(b.onclick=function(){c();i()},$("#"+displaymode+"_registration_btn").hide()):b.onclick=function(){FB.logout(function(){c();i()})};
var g;if(a)g=a;else try{g=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(h){}if(g&&($(".username").html(g.name),document.getElementById("fbLogin"))){if(a=document.getElementById("image"))a.src="https://graph.facebook.com/"+g.id+"/picture";$("#fbLogin").show();$("#signUp").hide()}}t=1}function c(){getPlatform()!=4?$("#"+displaymode+"_registration_btn").show():$("#"+displaymode+"_registration_btn").hide();if(LoginDetailsLoaded==1&&$("#TestlayoutSpan").html()){var a=document.getElementById("logout");
if(a)a.innerHTML="",$(".logout").hide()}t=0}function g(a,b){a.authResponse?r==0&&(r=1,f(a,b)):($("#signUp").show(),$("#fbLogin").hide(),d(1),c(),CheckForFacebookRequests(0))}function f(c,d){var f=navigator.userAgent.toLowerCase();logError("UserAgent",f);accessToken=c.authResponse.accessToken;var g;try{g=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(h){g=null}a(d);f=0;g&&g.id>0&&(f=1);f==0?typeof loginFixtureID!="undefined"&&loginFixtureID!=null&&loginFixtureID>0&&LoginClick==1?window.location.href=
location.protocol+"//"+location.host+"/Game/?f="+loginFixtureID:(g=new User(d),b(g)):($(".flipwarning").show(),homepagefixtureid&&DoHomePageLoadLogic(),f=GetRequestParam("f"),SetUpMainMenuLink(),f>0?(alreadycalledGameDetails==0&&DoGamePageLoadLogic(),GetFriends()):$(".playnow").show(),admin=new Administrator(g),admin.isAdmin()&&(admin.DisplayAdminDivs(),keepAliveStarted==0&&admin.SendKeepAlive(),admin.configureStartButtons(),thisFixture&&(populatePitch(thisFixture),populatePitchOdds(thisFixture))),
getCurrencyDetails(),CheckForFacebookRequests(1))}function b(a){try{var b=GetCurrentfixtureID();if(b==null||!b)b=loginFixtureID;$.ajax({headers:{"Content-Type":"application/json",Accept:"application/json"},url:WS_URL_ROOT+"/Login/Login",type:"GET",data:{fbuserid:a.fbuserid,name:a.name,first_name:a.first_name,last_name:a.last_name,link:a.link,locale:a.locale,gender:a.gender,birthday:a.birthday,email:a.email,timezone:a.timezone,verified:a.verified,profilepic:a.profilepic,fixtureid:b},dataType:"json",
error:function(a,b,c){AjaxFail("LogUserDetailsV1",a,b,c)},success:function(b){try{if(window.sessionStorage.setItem("facebookuser",$.toJSON(b)),window.sessionStorage.setItem("lim",1),a.userid=b.id,a.credits=b.credits,a.userid>0){var c=window.location.href,d=GetRequestParam("f");c.indexOf("signup/")>0?window.location.href=location.protocol+"//"+location.host+"/":typeof loginFixtureID!="undefined"&&loginFixtureID!=null&&loginFixtureID>0&&LoginClick==1?window.location.href=location.protocol+"//"+location.host+
"/Game/?f="+loginFixtureID:typeof d!="undefined"&&d!=null&&d>0?(alreadycalledGameDetails==0&&DoGamePageLoadLogic(),getCurrencyDetails(),SetUpMainMenuLink(),GetFriends(),admin=new Administrator(b),admin.isAdmin()&&(admin.DisplayAdminDivs(),keepAliveStarted==0&&admin.SendKeepAlive(),admin.configureStartButtons(),thisFixture&&(populatePitch(thisFixture),populatePitchOdds(thisFixture)))):(admin=new Administrator(b),admin.isAdmin()&&(admin.DisplayAdminDivs(),keepAliveStarted==0&&admin.SendKeepAlive(),
admin.configureStartButtons(),thisFixture&&(populatePitch(thisFixture),populatePitchOdds(thisFixture))),homepagefixtureid&&DoHomePageLoadLogic(),getCurrencyDetails(),SetUpMainMenuLink(),CheckForFacebookRequests(1),$(".playnow").show())}}catch(f){logError("LogUserDetailsV1_return",f)}}})}catch(c){logError("LogUserDetailsV1",c)}}function d(a){alreadycalledGameDetails=r=0;try{window.sessionStorage.removeItem("facebookuser")}catch(b){}try{window.sessionStorage.removeItem("facebookuser")}catch(c){}if(a==
1){a=-1;if(thisFixture)a=thisFixture.fixtureid;else{var d=GetRequestParam("f");d>0&&(a=d)}if(a>0)$(".flipwarning").hide(),window.location.href=location.protocol+"//"+location.host+"/"}}function h(){LoginClick=1;r=0;if(IOSversion>0){var a="",a=typeof loginFixtureID!="undefined"&&loginFixtureID!=null&&loginFixtureID>0&&LoginClick==1?location.protocol+"//"+location.host+"/Game/?f="+loginFixtureID:location.protocol+"//"+location.host,a="https://m.facebook.com/dialog/oauth?client_id="+fbid+"&response_type=code&redirect_uri="+
encodeURIComponent(a)+"&scope=email,publish_stream";window.location=a}else FB.login(function(a){a.authResponse&&FB.api("/me",function(b){g(a,b)})},{scope:"email,publish_stream"})}function i(){try{localStorage.removeItem("rm")}catch(a){}try{$.ajax({url:WS_URL_ROOT+"/Login/Logout",type:"POST",error:function(a,b,c){AjaxFail("Logout",a,b,c)},success:function(){}})}catch(b){}c();d(1)}function k(b,c,d,f,g){$.ajax({url:WS_URL_ROOT+"/Login/EmailLogin",type:"POST",data:{e:b,p:c,r:d,rmg:f},error:function(a,
b,c){AjaxFail("EmailLogin",a,b,c)},success:function(b){b.id>0?(window.sessionStorage.setItem("facebookuser",$.toJSON(b)),window.sessionStorage.setItem("lim",2),f?(t=1,a(),SetUpMainMenuLink()):(d==1&&b.rm&&localStorage.setItem("rm",b.rm),window.location.href=location.protocol+"//"+location.host+"/Game/?f="+g)):f?(m(),homepagefixtureid&&DoHomePageLoadLogic()):b.id==-102?$("#"+displaymode+"_logindetails").html("Error during login : "+b):$("#"+displaymode+"_logindetails").html("Invalid details!")}})}
function m(){$("#signUp").show();$("#fbLogin").hide();$(".playnow").show();$("#"+displaymode+"_registration_btn").show();d(1);c();CheckForFacebookRequests(0)}function p(a){$.ajax({url:WS_URL_ROOT+"/Login/CEmail",type:"POST",data:{ch:a},error:function(a,b,c){AjaxFail("CEmail",a,b,c)},success:function(a){if(a&&a.id>0)window.sessionStorage.setItem("facebookuser",$.toJSON(a)),window.sessionStorage.setItem("lim",2),homepagefixtureid?window.location.href=location.protocol+"//"+location.host+"/Game/?f="+
homepagefixtureid:GetCurrentfixtureID()>0&&alreadycalledGameDetails==0&&DoGamePageLoadLogic()}})}var r=0,t=-1;return{Register:function(){try{var a=$("#"+displaymode+"_username").val(),b=$("#"+displaymode+"_pass1").val(),c=$("#"+displaymode+"_pass2").val(),d=$("#"+displaymode+"_email").val();!c||!b||!a|!d?$("#"+displaymode+"_registerdetails").html("You must enter all details!"):d.indexOf("@")<1?$("#"+displaymode+"_registerdetails").html("Invalid email!"):c!=b?$("#"+displaymode+"_registerdetails").html("Passwords do not match!"):
$.ajax({url:WS_URL_ROOT+"/Login/REmail",type:"POST",data:{e:d,p:b,u:a},error:function(a,b,c){AjaxFail("REmail",a,b,c)},success:function(a){a==1||a==-103?($("#"+displaymode+"_register").hide(),$("#"+displaymode+"_confirm").fadeIn()):a==-106?$("#"+displaymode+"_registerdetails").html("You already have a livegames account linked to this email address - login instead!!!!"):a==-102?$("#"+displaymode+"_registerdetails").html("Try another username!"):a==-101?$("#"+displaymode+"_registerdetails").html("This email is already in the system!!!"):
a==-104?$("#"+displaymode+"_registerdetails").html("Error generating the confirmation email URL!!!"):a==-105?$("#"+displaymode+"_registerdetails").html("Error sending the confirmation email URL!!!"):$("#"+displaymode+"_registerdetails").html("Error during registration : "+a)}})}catch(f){}},DoEmailLoginChecks:function(){var a;try{a=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(b){}var c=GetRequestParam("ec");try{localStorage.getItem("rm")}catch(d){}a&&a.id>0||c&&p(c)},Login:function(a){try{var b=
$("#"+displaymode+"_email_login").val(),c=$("#"+displaymode+"_pass_login").val(),d=0;$("#"+displaymode+"_rm").attr("checked")&&(d=1);!c||!b?$("#"+displaymode+"_logindetails").html("You must enter all details!"):b.indexOf("@")<1?$("#"+displaymode+"_logindetails").html("Invalid email!"):k(b,c,d,"",a)}catch(f){}},SetUpSiteForLoggedOutUser:d,CallLoginAPI:k,DoLoginFlow:function(b){if(b.authResponse)FB.api("/me",function(a){g(b,a)});else{var c=0,d;try{d=localStorage.getItem("rm")}catch(f){}try{var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));
if(h)c=h.id}catch(i){}c>0?(t=1,a(),SetUpMainMenuLink()):d?k("","",0,d):(m(),homepagefixtureid&&DoHomePageLoadLogic())}},ClearSessionDetails:i,FaceBookCheckLoginResponse:g,DoFlowForFacebookLoggedInUser:f,CheckIfLoggedIn:function(a){var b;try{b=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(c){b=null,logError("CheckIfLoggedIn",c)}return typeof b!="undefined"&&b!=null&&b.id>0?!0:(loginFixtureID=a,h(),!1)},FaceBookElementsLoaded:function(){LoginDetailsLoaded=1;t==1?a():t==0&&c()},ResendPassword:function(){try{var a=
$("#"+displaymode+"_rsemail").val();a?a.indexOf("@")<1?$("#"+displaymode+"_resenddetails").html("Invalid email!"):$.ajax({url:WS_URL_ROOT+"/Login/ResendPassword",type:"POST",data:{e:a},error:function(a,b,c){AjaxFail("ResendPassword",a,b,c)},success:function(a){a>0?($("#"+displaymode+"_forgotpass").hide(),$("#"+displaymode+"_passResent").fadeIn(),$("#"+displaymode+"_registerdetails").html("Password sent - check your inbox!!")):a==-102?$("#"+displaymode+"_resenddetails").html("Email does not have a login!"):
a==-105?$("#"+displaymode+"_resenddetails").html("Error sending email."):$("#"+displaymode+"_resenddetails").html("Password not sent! "+a)}}):$("#"+displaymode+"_resenddetails").html("You must enter your email address!")}catch(b){}},ChangePassword:function(){try{var a=$("#"+displaymode+"_oldpass").val(),b=$("#"+displaymode+"_newpass").val(),c=JSON.parse(window.sessionStorage.getItem("facebookuser"));!a||!b?$("#"+displaymode+"_cpresult").html("<strong>You must enter both old password and new password</strong>"):
$.ajax({url:WS_URL_ROOT+"/Login/ChangePassword",type:"POST",data:{op:a,np:b,u:c.id,fu:c.fbuserid},error:function(a,b,c){AjaxFail("ChangePassword",a,b,c)},success:function(a){a==1?$("#"+displaymode+"_cpresult").html("<strong>Password updated!!!!</strong>"):a==-3?$("#"+displaymode+"_cpresult").html("Old password not correct!"):$("#"+displaymode+"_cpresult").html("Error during registration : "+a)}})}catch(d){}},goHome:function(){window.location.href=location.protocol+"//"+location.host+"/"}}}();
