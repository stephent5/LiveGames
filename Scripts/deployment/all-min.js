(function(d){var c=/["\\\x00-\x1f\x7f-\x9f]/g,b={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};d.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(a){if(a===null)return"null";var e=typeof a;if(e!=="undefined"){if(e==="number"||e==="boolean")return""+a;if(e==="string")return d.quoteString(a);if(e==="object"){if(typeof a.toJSON==="function")return d.toJSON(a.toJSON());if(a.constructor===Date){var b=a.getUTCMonth()+1,c=a.getUTCDate(),h=a.getUTCFullYear(),
e=a.getUTCHours(),g=a.getUTCMinutes(),k=a.getUTCSeconds(),a=a.getUTCMilliseconds();b<10&&(b="0"+b);c<10&&(c="0"+c);e<10&&(e="0"+e);g<10&&(g="0"+g);k<10&&(k="0"+k);a<100&&(a="0"+a);a<10&&(a="0"+a);return'"'+h+"-"+b+"-"+c+"T"+e+":"+g+":"+k+"."+a+'Z"'}if(a.constructor===Array){b=[];for(c=0;c<a.length;c++)b.push(d.toJSON(a[c])||"null");return"["+b.join(",")+"]"}c=[];for(h in a){e=typeof h;if(e==="number")b='"'+h+'"';else if(e==="string")b=d.quoteString(h);else continue;e=typeof a[h];e==="function"||e===
"undefined"||(e=d.toJSON(a[h]),c.push(b+":"+e))}return"{"+c.join(",")+"}"}}};d.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(a){return eval("("+a+")")};d.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");
};d.quoteString=function(a){return a.match(c)?'"'+a.replace(c,function(a){var f=b[a];if(typeof f==="string")return f;f=a.charCodeAt();return"\\u00"+Math.floor(f/16).toString(16)+(f%16).toString(16)})+'"':'"'+a+'"'}})(jQuery);window.onerror=function(d,c,b){logError("onerror",d,c,b)};var Config={WS_URL_ROOT:"",FACEBOOK_APPID:"276786905679012",displayFriendsDetals:"0"};function T5Error(d){this.errordesc=d;this.origin="JS"}function logError(d,c,b,a){try{var e="";try{var f=JSON.parse(window.sessionStorage.getItem("facebookuser"));f&&(e="[User is "+f.name+"]")}catch(j){}var h=new T5Error("origin:"+d+"; msg:"+c+e+"; url:"+b+"; lineNo:"+a);$.ajax({url:Config.WS_URL_ROOT+"/Game/LogError",type:"POST",data:JSON.stringify(h),dataType:"json",contentType:"application/json: charset=utf-8",success:function(a){Errorlogged(a)}})}catch(g){}}function Errorlogged(){}
var jQueryBind=jQuery.fn.bind;jQuery.fn.bind=function(d,c,b){!b&&c&&typeof c=="function"&&(b=c,c=null);if(b)var a=b,b=function(){try{return a.apply(this,arguments)}catch(e){logError("BindOverRide",e)}};return jQueryBind.call(this,d,c,b)};var thisFixture=null,LSBound=0,ReTryBetAttempts=0,FriendScoresUpdating=0,LoginClick=0,loginFixtureID=0,listOfPreGameBetScrollers=[],listOfPreGameBetScrollerNames=[],pregamescroller=null,numPreGameplaced=0,lastInteractionTime=null,timeBetweenLightstreamConnections=20,DateHelper=new Date,CreditsWon=0,KeepAliveCount=0,schema=["Ball","EventID","timestamp","Adapter","Admin","FixtureID","HomeScore","AwayScore","EventDescription","EventLogID","EventOdds","UBD","UserID","BD","EventTime","KeepAlive"],LSEngine,
page,group,pushTable,tempArray=[];window.sessionStorage.setItem("listOfFriendsBets",tempArray);window.sessionStorage.setItem("listOfDisplayedEvents",tempArray);window.sessionStorage.setItem("leagueview",null);window.sessionStorage.setItem("listOfFriendsScores",tempArray);window.sessionStorage.setItem("pregamebets",tempArray);window.sessionStorage.setItem("listOfAlreadyReceivedPreGameBetOptionDetails",tempArray);window.sessionStorage.setItem("leaderboard",tempArray);
window.sessionStorage.setItem("Currentbet",null);window.sessionStorage.setItem("tempBet",null);window.sessionStorage.setItem("fbs",0);window.sessionStorage.setItem("LeaderboardLog",null);var FriendsAddedToLSSchema=0;window.sessionStorage.setItem("tempBet",null);function GetRequestParam(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");d=RegExp("[\\?&]"+d+"=([^&#]*)").exec(window.location.href);return d==null?"":d[1]};var uiUser,Currentbet,lastUpdateID,fixture=0,teamPlayingFromLeftToRight,teamPlayingFromRightToLeft;function CastToDecimal(d){try{return(""+d).indexOf(".")>0?d:d.toFixed(2)}catch(c){logError("CastToDecimal",c)}}
function Fixture(){this.fixturename=this.friendbets=this.currenthalf=this.firsthalfleftteam=this.awayteamcolour=this.hometeamcolour=this.justjoinedgame=this.eventodds=this.inplay=this.venue=this.secondhalfstarttime=this.starttime=this.fixture=this.fixtureid=this.hometeam=this.awayteam=this.awayscore=this.homescore=this.activebet=this.events=null;this.numthrowssecondhalf=this.numthrowsfirsthalf=this.numfreessecondhalf=this.numfreesfirsthalf=0}
function GameEvent(){this.eventtime=this.awayscore=this.homescore=this.description=this.eventupdateid=this.fixtureid=this.eventid=null}function Odds(){this.eventid=null;this.odds=0}
function GetGameDetails(d,c){try{if(d>0){var b=-1;fixture=d;if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")))b=uiUser.id,$.ajax({url:Config.WS_URL_ROOT+"/Game/GetGameDetails",type:"POST",data:"fixtureID="+fixture+"&userid="+b,error:function(a,b,c){AjaxFail("GetGameDetails",a,b,c)},success:function(a){c instanceof Function&&c(a)}})}}catch(a){logError("GetGameDetails",a)}}
function HidePitch(){try{$(".headline").hide(),$(".pitch-icons").hide(),$(".pitch").hide(),$(".headline").hide()}catch(d){logError("HidePitch",d)}}function HideNonPitchDisplays(){try{$(".match-notstarted").hide(),$(".halftime").hide(),$(".fulltime").hide()}catch(d){logError("HideNonPitchDisplays",d)}}function ShowPitch(){try{$(".headline").show(),$(".pitch-icons").show(),$(".pitch").show(),$(".headline").show()}catch(d){logError("ShowPitch",d)}}
function GetLastEvent(d){try{$.ajax({url:Config.WS_URL_ROOT+"/Game/GetLastEventFixture",type:"POST",data:"fixtureID="+fixture,error:function(b,a,e){AjaxFail("GetLastEvent",b,a,e)},success:function(b){d instanceof Function&&d(b)}})}catch(c){logError("GetLastEvent",c)}}function DisplayLastEvent(d){try{d.eventid&&d.eventid>0&&UpdateGameEventFromLightStreamer(d.fixtureid,d.eventid,d.eventupdateid,d.homescore,d.awayscore,d.description,new Date(d.eventtime))}catch(c){logError("DisplayLastEvent",c)}}
function GameDetailsComplete(d){try{thisFixture=d;d.currenthalf==-101?(HideNonPitchDisplays(),$(".match-notstarted").show(),$(".match_desc").html("<span class='home_team_desc'>"+d.hometeam+"</span><span class='seperator'>V</span><span class='away_team_desc'>"+d.awayteam+"</span>"),$(".game-desc-image").attr({src:"/Images/game-intro-fix"+d.fixtureid+".png",alt:d.hometeam+" V "+d.awayteam}),$(".game-desc-image").error(function(){$(".game-desc-image").attr({src:"/Images/game-intro.png",alt:d.hometeam+
" V "+d.awayteam})}),HidePitch()):d.currenthalf==-102?(HideNonPitchDisplays(),$(".halftime").show(),$(".match_desc").html("<span class='home_team_desc'>"+d.hometeam+"</span><span class='score_desc'>"+d.homescore+" - "+d.awayscore+"</span><span class='away_team_desc'>"+d.awayteam+"</span>"),$(".game-desc-image").attr({src:"/Images/game-intro-fix"+d.fixtureid+".png",alt:d.hometeam+" V "+d.awayteam}),$(".game-desc-image").error(function(){$(".game-desc-image").attr({src:"/Images/game-intro.png",alt:d.hometeam+
" V "+d.awayteam})}),HidePitch()):d.currenthalf==-103?(HideNonPitchDisplays(),$(".fulltime").show(),$(".match_desc").html("<span class='home_team_desc'>"+d.hometeam+"</span><span class='score_desc'>"+d.homescore+" - "+d.awayscore+"</span><span class='away_team_desc'>"+d.awayteam+"</span>"),$(".game-desc-image").attr({src:"/Images/game-intro-fix"+d.fixtureid+".png",alt:d.hometeam+" V "+d.awayteam}),$(".game-desc-image").error(function(){$(".game-desc-image").attr({src:"/Images/game-intro.png",alt:d.hometeam+
" V "+d.awayteam})}),HidePitch()):populatePitch(d);d.activebet?(Currentbet=d.activebet,window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet))):(Currentbet=null,window.sessionStorage.setItem("Currentbet",Currentbet));if(d.eventodds)for(var c=0;c<d.eventodds.length;c++)if($("#bubble"+d.eventodds[c].eventid).html(d.eventodds[c].odds+"/1"),Currentbet&&Currentbet.eventid==d.eventodds[c].eventid&&Currentbet.odds!=d.eventodds[c].odds)Currentbet.newodds=d.eventodds[c].odds,window.sessionStorage.setItem("Currentbet",
Currentbet);Currentbet!=null&&Currentbet.status==0&&($("#bubble"+Currentbet.eventid).removeClass("bubble"),$("#bubble"+Currentbet.eventid).addClass("bubble_active"),$("#bubble"+Currentbet.eventid).html(""+Currentbet.amount+""));if(d.events){var b=[],a="";window.sessionStorage.setItem("listOfDisplayedEvents",b);for(var e="",c=0;c<d.events.length;c++)try{d.events[c].description.toLowerCase().indexOf("win")>0||d.events[c].description.toLowerCase().indexOf("won")>0?e=e+"<b class='wintext'>"+d.events[c].description+
"</b><br />":d.events[c].description.toLowerCase().indexOf("lose")>0||d.events[c].description.toLowerCase().indexOf("lost")>0||d.events[c].description.toLowerCase().indexOf("void")>0?e=e+"<b class='losetext'>"+d.events[c].description+"</b><br />":d.events[c].description.toLowerCase().indexOf("bet")>0?e=e+"<b class='bettext'>"+d.events[c].description+"</b><br />":d.events[c].description.toLowerCase().indexOf("invite")>0?d.events[c].description.toLowerCase().indexOf("accept_0")>0&&(a+=d.events[c].description):
e=e+d.events[c].description+"<br />",b.push(d.events[c].eventupdateid)}catch(f){}window.sessionStorage.setItem("listOfDisplayedEvents",$.toJSON(b));$(".GameFeedInfo").html(e);refreshScroller(GameFeedScroller,"GameFeedInfo");$("#MyleagueInvites").html(a);refreshScroller(leaderboardScroller,"MyleagueInvites")}d.justjoinedgame>0?(NotifyFriendsThatUserHasJoinedGame(friendsNotified),ViewLeagues(1)):GetPreGameBetDetails(!0);setTimeout("GetLastEvent(DisplayLastEvent)",3E3)}catch(j){logError("GameDetailsComplete",
j)}}
function populatePitch(d){try{var c="",b,a,e,f,j,h,g,k;d.currenthalf==1?d.firsthalfleftteam==d.hometeam?(teamPlayingFromLeftToRight=d.hometeam,teamPlayingFromRightToLeft=d.awayteam,g=d.hometeamcolour,k=d.awayteamcolour):(teamPlayingFromLeftToRight=d.awayteam,teamPlayingFromRightToLeft=d.hometeam,k=d.hometeamcolour,g=d.awayteamcolour):d.firsthalfleftteam==d.hometeam?(teamPlayingFromLeftToRight=d.awayteam,teamPlayingFromRightToLeft=d.hometeam,k=d.hometeamcolour,g=d.awayteamcolour):(teamPlayingFromLeftToRight=d.hometeam,
teamPlayingFromRightToLeft=d.awayteam,g=d.hometeamcolour,k=d.awayteamcolour);$("#home_team").html(teamPlayingFromLeftToRight);$("#away_team").html(teamPlayingFromRightToLeft);teamPlayingFromLeftToRight==d.hometeam?(b=1,a=4,e=5,f=3,j=6,h=7,RightSaveEventID=17,LeftSaveEventID=18,$("#home_score").html(d.homescore),$("#away_score").html(d.awayscore)):(b=3,a=6,e=7,f=1,j=4,h=5,LeftSaveEventID=17,RightSaveEventID=18,$("#home_score").html(d.awayscore),$("#away_score").html(d.homescore));c=c+'<div class="home-corner icon-corner-'+
k+'" onClick="betpupup(\'CORNER FOR '+teamPlayingFromRightToLeft+"', "+b+');"></div><div id="bubble'+b+'" class="bubble-home-corner bubble"></div>';c=c+'<div class="home-goal icon-goal-'+k+'" onClick="betpupup(\'GOAL FOR '+teamPlayingFromRightToLeft+"', "+a+');"></div><div id="bubble'+a+'" class="bubble-home-goal bubble"></div>';c=c+'<div class="home-wide icon-wide-'+k+'"  onClick="betpupup(\'WIDE BY '+teamPlayingFromRightToLeft+"', "+e+');"></div><div id="bubble'+e+'" class="bubble-home-wide bubble"></div>';
c=c+'<div class="away-save icon-save-'+g+'"  onClick="betpupup(\'SAVE BY '+teamPlayingFromLeftToRight+"', "+RightSaveEventID+');"></div><div id="bubble'+RightSaveEventID+'" class="bubble-away-save bubble"></div>';c+='<div class="gen-free icon-free-gen" onClick="betpupup(\'FREEKICK\', 19);"></div><div id="bubble19" class="bubble-free bubble"></div>';c+='<div class="gen-throw icon-throw-gen" onClick="betpupup(\'THROWIN\', 20);"></div><div id="bubble20" class="bubble-throw bubble"></div>';c=c+'<div class="home-save icon-save-'+
k+'"  onClick="betpupup(\'SAVE BY '+teamPlayingFromRightToLeft+"', "+LeftSaveEventID+');"></div><div id="bubble'+LeftSaveEventID+'" class="bubble-home-save bubble"></div>';c=c+'<div class="away-corner icon-corner-'+g+'" onClick="betpupup(\'CORNER FOR '+teamPlayingFromLeftToRight+"', "+f+');"></div><div id="bubble'+f+'" class="bubble-away-corner bubble"></div>';c=c+'<div class="away-goal icon-goal-'+g+'" onClick="betpupup(\'GOAL FOR '+teamPlayingFromLeftToRight+"', "+j+');"></div><div id="bubble'+
j+'" class="bubble-away-goal bubble"></div>';c=c+'<div class="away-wide icon-wide-'+g+'" onClick="betpupup(\'WIDE BY '+teamPlayingFromLeftToRight+"', "+h+');"></div><div id="bubble'+h+'" class="bubble-away-wide bubble"></div>';HideNonPitchDisplays();$(".pitch-icons").html(c);ShowPitch();$(".gameinfo").show()}catch(l){logError("populatePitch",l)}}
function MatchStartEvents(d){try{return d==11?(logError("LSBind","Starting Match!!!!!!!","",""),playsound("gamestart"),GetGameDetails(fixture,GameDetailsComplete),!1):d==12?(playsound("halftime"),$(".GameFeedInfo").prepend("<b>Half Time</b> <br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),$(".halftime").show(),HidePitch(),!1):d==13?(playsound("secondhalf"),$(".GameFeedInfo").prepend("<b>And we're off again!!</b> <br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),GetGameDetails(fixture,
GameDetailsComplete),!1):d==15?!1:d==16?!1:d==21?!1:!0}catch(c){logError("MatchStartEvents",c)}}
function playsound(d){try{var c;switch(d){case "gamestart":c="whistle.mp3";break;case "halftime":c="whistle.mp3";break;case "secondhalf":c="whistle.mp3";break;case "gameover":c="whistle.mp3";break;case "win":c="cheer_8k.mp3";break;case "lose":c="sadtrombone.mp3";break;case "void":c="pan.mp3"}var b;b=document.getElementById("audio");b.load();b.src="/Content/sounds/"+c;b.play()}catch(a){logError("playsound",a)}}
function MakeSurePitchIsDisplayed(){if($(".pitch").is(":visible")!=!0){var d=GetRequestParam("f");GetGameDetails(d,GameDetailsComplete);logError("MakeSurePitchIsDisplayed","MatchEventReceived while pitch not displayed!!!!!! ","","")}}
function UpdateGameEventFromLightStreamer(d,c,b,a,e,f,j){try{if(fixture==d&&d>0&&!HaveWeDisplayedThisEventBefore(b)&&b>0){if(MatchStartEvents(c)){f!=null&&($(".GameFeedInfo").prepend(f+"<br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"));$("#home_score").html(a);$("#away_score").html(e);checkBetStatusNew(c,j);updateFriendsBetStatus(c,j);if(c==14)$(".fulltime").show(),HidePitch();else if(c==19&&thisFixture)thisFixture.currenthalf==1?thisFixture.numfreesfirsthalf+=1:(thisFixture.currenthalf=
2,thisFixture.numfreessecondhalf+=1);c!=14&&MakeSurePitchIsDisplayed()}updatePreGamebets(c,a,e);AddMyScoreToOverAllLeaderBoard()}}catch(h){logError("UpdateGameEventFromLightStreamer",h)}}
function HaveWeDisplayedThisEventBefore(d){try{var c=window.sessionStorage.getItem("listOfDisplayedEvents"),b;if(typeof c!="undefined"&&c!=null&&c!="")if(b=typeof c!="object"?JSON.parse(c):c,typeof b!="undefined"&&b!=null)for(c=0;c<=b.length-1;c++){if(b[c]==d)return!0}else b=[];else b=[];b.push(d);window.sessionStorage.setItem("listOfDisplayedEvents",$.toJSON(b))}catch(a){logError("listOfDisplayedEvents",a)}logError("LSBind","WE HAVE NOT SHOWED THIS BEFORE!!!!!!!! eventUpateID is "+d,"","");return!1}
function betpupup(d,c){try{uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));if(uiUser==null)return alert("Sign in with Facebook to Play!"),!1;Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"));if(Currentbet!=null&&Currentbet.status==0)return alert("You already have an active bet!! You must wait until this bet is complete untill you make another!!"),!1;if(JSON.parse(window.sessionStorage.getItem("tempBet"))!=null)return alert("You must wait until your previous bet has finished processing!!"),
!1;$("#popupplacebet").show();$("#popupplacebet h4").html("You have selected <span style='color:#FFFFCC;'>'"+d+"'</span>, How many credits do you want to bet?");$("#confirm").attr("onClick","prepareBet("+c+")")}catch(b){logError("betpupup",b)}}
function prepareBet(d){try{var c=10,c=parseInt($("#popupplacebet input:checked").val());uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));var b=new Bet(d,fixture,c,uiUser.id);b.user=uiUser;window.sessionStorage.setItem("tempBet",$.toJSON(b));$("#bubble"+d).removeClass("bubble");$("#bubble"+d).addClass("bubble_loading");$("#popupplacebet").hide();ReTryBetAttempts=0;placeBet(BetComplete,b)}catch(a){logError("prepareBet",a)}}
function placeBet(d,c){if(!c||typeof c=="undefined")c=JSON.parse(window.sessionStorage.getItem("tempBet"));try{$.ajax({url:Config.WS_URL_ROOT+"/Game/PlaceBet",type:"POST",timeout:7E3,data:JSON.stringify(c),dataType:"json",contentType:"application/json: charset=utf-8",success:function(a){d instanceof Function&&d(a)},error:function(a,e){e=="timeout"?ReTryBetAttempts<1?(ReTryBetAttempts+=1,setTimeout("placeBet(BetComplete);",1500)):BetNotPlaced(c):BetNotPlaced(c)}})}catch(b){logError("placeBet",b)}}
function BetComplete(d){try{if(ReTryBetAttempts=0,d.betid>0){Currentbet=d;uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));uiUser.credits=d.creditsremaining;window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser));$(".credits").html(uiUser.credits);Currentbet.user=uiUser;Currentbet.odds=CastToDecimal(Currentbet.odds);window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet));window.sessionStorage.setItem("tempBet",null);NotifyFriendsOfBetPlaced(friendsNotified);$("#button"+
Currentbet.eventid).hide();$("#bubble"+Currentbet.eventid).removeClass("bubble_loading");$("#bubble"+Currentbet.eventid).addClass("bubble_active");$("#bubble"+Currentbet.eventid).html(""+Currentbet.amount+"");Currentbet.incorrectEventID&&($("#bubble"+Currentbet.incorrectEventID).removeClass("bubble_loading"),$("#bubble"+Currentbet.incorrectEventID).addClass("bubble"),$("#bubble"+Currentbet.incorrectEventID).html(Currentbet.incorrectOdds+"/1"));var c="<b class='bettext'>"+d.betdescription+"</b><br />";
$(".GameFeedInfo").prepend(c);refreshScroller(GameFeedScroller,"GameFeedInfo");AddBetToFriendScores(Currentbet);DisplayFriendsLeaderBoard(Currentbet.friendsleaderboardlist);UpdateLeaderboard(Currentbet.leagueleaderboardlist,Currentbet.leagueid)}else d.betid==-2?d.numattempts==0?(d.numattempts=1,placeBet(BetComplete,d)):($("#bubble"+d.eventid).removeClass("bubble_loading"),$("#bubble"+d.eventid).addClass("bubble"),$("#bubble"+d.eventid).html(""+d.odds+"/1"),window.sessionStorage.setItem("Currentbet",
null),window.sessionStorage.setItem("tempBet",null),c="<b class='bettext'>"+d.betdescription+"</b><br />",$(".GameFeedInfo").prepend(c),refreshScroller(GameFeedScroller,"GameFeedInfo"),logError("BetComplete - BetFailed","Failed To connect to place bet in DB twice : -2")):d.betid==-101?d.numattempts==0?(d.numattempts=1,placeBet(BetComplete,d)):($("#bubble"+d.eventid).removeClass("bubble_loading"),$("#bubble"+d.eventid).addClass("bubble_active"),$("#bubble"+d.eventid).html(""+d.odds+"/1"),window.sessionStorage.setItem("Currentbet",
null),window.sessionStorage.setItem("tempBet",null),c="<b class='bettext'>"+d.betdescription+"</b><br />",$(".GameFeedInfo").prepend(c),refreshScroller(GameFeedScroller,"GameFeedInfo"),logError("BetComplete - BetFailed","Failed To connect to place bet in DB twice : -101")):($(".GameFeedInfo").prepend("<b class='bettext'>"+d.betdescription+"</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"))}catch(b){logError("BetComplete",b)}}
function BetNotPlaced(d){ReTryBetAttempts=0;$("#bubble"+d.eventid).removeClass("bubble_loading");$("#bubble"+d.eventid).addClass("bubble");window.sessionStorage.setItem("Currentbet",null);window.sessionStorage.setItem("tempBet",null);$(".GameFeedInfo").prepend("Unable to place bet..try again <br />");refreshScroller(GameFeedScroller,"GameFeedInfo");logError("BetNotPlaced")}function AjaxFail(d,c){var b="status: "+c.status+"; response-text:"+c.responseText;d&&response&&logError("AjaxFail : "+d,b)}
function WaitForFriendScoresToFinishProcessing(){try{if(FriendScoresUpdating!=1&&FriendScoresUpdating!="1")FriendScoresUpdating=1;else for(var d=Math.round((new Date).getTime()/1E3)+10,c=1;c==1;)FriendScoresUpdating!=1&&FriendScoresUpdating!="1"&&(FriendScoresUpdating=1,c=0,logError("WaitForFriendScoresToFinishProcessing","Wait was successfull!!!")),Math.round((new Date).getTime()/1E3)>d&&(c=FriendScoresUpdating=0,logError("WaitForFriendScoresToFinishProcessing","Wait over 10 seconds - reset value!!!"));
return 1}catch(b){return logError("WaitForFriendScoresToFinishProcessing",b),1}}function FinishedProcessingFriendScores(){FriendScoresUpdating=0}
function AddBetToFriendScores(d){try{var c,b=0;try{c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"))}catch(a){}if(c)for(var e=0;e<=c.length-1;e++){if(c[e].FBUserIDList==d.user.fbuserid){c[e].CurrentBet=d;b=1;break}}else c=[],b=1;b==1&&(window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(c)),ReOrderFriendsScoresBasedOnCurrentScore())}catch(f){logError("AddBetToFriendScores",f)}FinishedProcessingFriendScores()}
function AddFriendToFriendScores(d,c){try{var b=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));b==null&&(b=[]);var a=new Leaderboard;a.FBUserIDList=d;a.Credits=0;a.Username=c;IsUserAlreadyInFriendsLeaderBoard(d)==0&&(b.push(a),window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(b)),ReOrderFriendsScoresBasedOnCurrentScore())}catch(e){logError("AddFriendToFriendScores",e)}FinishedProcessingFriendScores()}
function IsUserAlreadyInFriendsLeaderBoard(d){try{var c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));if(c!=null)for(var b=0;b<=c.length-1;b++)if(c[b].FBUserIDList==d)return 1;return 0}catch(a){logError("IsUserAlreadyInFriendsLeaderBoard",a)}}
function UpdateFriendScoresWithNewBalance(d,c){try{var b=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));if(b)for(var a=0;a<=b.length-1;a++)if(b[a].FBUserIDList==d){if(b[a].Credits!=parseInt(c))b[a].Credits=parseInt(c),b[a].CurrentBet=null,window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(b)),ReOrderFriendsScoresBasedOnCurrentScore();break}}catch(e){logError("UpdateFriendScoresWithNewBalance",e)}UpdateLeaderboardWithNewBalance(d,c)}
function UpdateLeaderboardWithNewBalance(d,c){try{var b=JSON.parse(window.sessionStorage.getItem("leaderboard"));if(b)for(var a=0;a<=b.length-1;a++)if(b[a].FBUserIDList==d){b[a].Credits=parseInt(c);window.sessionStorage.setItem("leaderboard",$.toJSON(b));$("#LeagueLeaderboard").html(CreateLeagueScoresView2(b,"ff",!0));refreshScroller(leaderboardScroller,"LeagueLeaderboard");break}}catch(e){logError("UpdateLeaderboardWithNewBalance",e)}}
function UpdateFriendScoresWithNewCredit(d,c,b,a,e){try{var f=window.sessionStorage.getItem("listOfAlreadyReceivedPreGameBetOptionDetails"),j=1,c=d+"-"+c+"-"+a;if(typeof f!="undefined"&&f!=null&&f!="")for(var f=JSON.parse(window.sessionStorage.getItem("listOfAlreadyReceivedPreGameBetOptionDetails")),h=0;h<=f.length-1;h++){if(f[h]==c){j=0;break}}else f=[];if(j==1){f.push(c);var g=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));if(g)for(h=0;h<=g.length-1;h++)if(g[h].FBUserIDList==a){var k=
JSON.parse(window.sessionStorage.getItem("facebookuser"));e==1?(g[h].Credits=parseInt(g[h].Credits)+parseInt(b),g[h].FBUserIDList==k.fbuserid&&NotifyFriendsOfNewBalanceForThisGame(d,k.fbuserid,g[h].Credits)):g[h].Credits=parseInt(g[h].Credits)-parseInt(b);window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(g));ReOrderFriendsScoresBasedOnCurrentScore();break}}window.sessionStorage.setItem("listOfAlreadyReceivedPreGameBetOptionDetails",$.toJSON(f))}catch(l){logError("UpdateFriendScoresWithNewCredit",
l)}}
function UpdateFriendScoresWithBetResult(d){try{var c=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));if(c){for(var b=0;b<=c.length-1;b++)if(c[b].CurrentBet&&c[b].CurrentBet.betid==d.betid){var a=parseInt(c[b].CurrentBet.addamount);c[b].CurrentBet=d;if(d.status==1){var e;e=a==1?parseInt(d.creditsearned)+parseInt(d.amount):parseInt(d.creditsearned);c[b].Credits=parseInt(c[b].Credits)+e}else if(d.status==-1){if(a==0)c[b].Credits=parseInt(c[b].Credits)-parseInt(d.amount)}else if(d.status==-102&&
a==1)c[b].Credits=parseInt(c[b].Credits)+parseInt(d.amount);break}window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(c))}}catch(f){logError("UpdateFriendScoresWithBetResult",f)}FinishedProcessingFriendScores()}
function ReOrderFriendsScoresBasedOnCurrentScore(){try{var d=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores")),c=[],b=1;if(d){for(;d.length>0;){for(var a=-1,e=-1E8,f=0;f<=d.length-1;f++)if(d[f].Credits>e)e=d[f].Credits,a=f;d[a].Pos=b;b+=1;c.push(d[a]);d.splice(a,1)}window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(c));$("#FriendsLeaderboard").html(CreateLeagueScoresView2(c,"ff",!0));refreshScroller(friendsScoreScroller,"FriendsLeaderboard")}}catch(j){logError("ReOrderFriendsScoresBasedOnCurrentScore",
j)}}
function AddMyScoreToOverAllLeaderBoard(){try{var d=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores")),c=JSON.parse(window.sessionStorage.getItem("facebookuser")),b;if(d){for(var a=0;a<=d.length-1;a++)if(d[a].FBUserIDList==c.fbuserid){b=d[a];break}if(b){var e=JSON.parse(window.sessionStorage.getItem("leaderboard")),d=0;if(e){for(a=0;a<=e.length-1;a++)if(e[a].FBUserIDList==c.fbuserid){d=1;break}if(d==0)b.Pos="",e.push(b),window.sessionStorage.setItem("leaderboard",$.toJSON(e)),$("#LeagueLeaderboard").html(CreateLeagueScoresView2(e,"ff",
!0)),refreshScroller(leaderboardScroller,"LeagueLeaderboard")}}}}catch(f){logError("AddMyScoreToOverAllLeaderBoard",f)}}
function updateFriendsBetStatus(d,c){try{var b=window.sessionStorage.getItem("listOfFriendsBets"),a,e=0;if(typeof b!="undefined"&&b!=null&&b!="")if(a=typeof b!="object"?JSON.parse(b):b,b="",typeof a!="undefined"&&a!=null){for(var f=0;f<=a.length-1;f++)if(a[f].status==0){var j=new Date(a[f].eventtime),h=new Date;h.setTime(c.getTime()-5E3);j<=h?(a[f].eventid==d?(a[f].status=1,b=b+"<span class='wintext'>"+a[f].user.name+" wins "+a[f].creditsearned+" credits!!! </span><br />"):(a[f].status=-1,b=b+"<span class='losetext'>"+
a[f].user.name+" loses "+a[f].amount+" credits!!! </span><br />"),UpdateFriendScoresWithBetResult(a[f]),e=1):j<c?(a[f].status=-102,b=b+"<span class='losetext'>"+a[f].user.name+"'s bet was voided!! </span><br />",UpdateFriendScoresWithBetResult(a[f]),e=1):logError("VoidFlow","not clearing friends bet due to LS latency","","")}e==1&&(ReOrderFriendsScoresBasedOnCurrentScore(),FinishedProcessingFriendScores());Config.displayFriendsDetals=="1"&&$(".FriendFeedInfo").prepend(b)}else a=[];else a=[];window.sessionStorage.setItem("listOfFriendsBets",
$.toJSON(a))}catch(g){logError("updateFriendsBetStatus",g)}}
function checkBetStatusNew(d,c){try{if(Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet")),Currentbet==null)return!1;else if(Currentbet.status!=0)return!1;else{var b="",a=new Date(Currentbet.eventtime),e=new Date;e.setTime(c.getTime()-5E3);if(a<=e){if(Currentbet.eventid==d){var f=Math.round(Currentbet.amount*Currentbet.odds+Currentbet.amount),b="<span class='wintext'>BET WON!!!! You win "+f+" credits!</span><br />";Currentbet.status=1;Currentbet.creditsearned=Math.round(Currentbet.amount*
Currentbet.odds);uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));uiUser.credits+=f;window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser));$(".credits").html(uiUser.credits);playsound("win");$(".popup-notify > h1").text("WIN!");$(".popup-notify").fadeIn(200).delay(5E3).fadeOut(200);UpdateFriendScoresWithBetResult(Currentbet)}else b="<span class='losetext'>BET LOST!!!!!!!</span><br />",Currentbet.status=-1,playsound("lose"),UpdateFriendScoresWithBetResult(Currentbet),$(".popup-notify > h1").text("LOSE!"),
$(".popup-notify").fadeIn(200).delay(5E3).fadeOut(200);ReOrderFriendsScoresBasedOnCurrentScore();FinishedProcessingFriendScores()}else if(a<c){b="<span class='losetext'>BET VOID - CREDITS RETURNED</span><br />";uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser"));uiUser.credits+=Currentbet.amount;window.sessionStorage.setItem("facebookuser",$.toJSON(uiUser));$(".credits").html(uiUser.credits);Currentbet.status=-102;playsound("void");UpdateFriendScoresWithBetResult(Currentbet);if(d==4||
d==6)$(".popup-notify > h1").text("GOAL!"),$(".popup-notify").fadeIn(200).delay(5E3).fadeOut(200);ReOrderFriendsScoresBasedOnCurrentScore();FinishedProcessingFriendScores()}else return logError("VoidFlow","not clearing users bet due to LS latency","",""),!1;$("#bubble"+Currentbet.eventid).removeClass("bubble_active");$("#bubble"+Currentbet.eventid).addClass("bubble");var j;j=Currentbet.newodds?Math.round(Currentbet.newodds):Math.round(Currentbet.odds);$("#bubble"+Currentbet.eventid).html(""+j+"/1");
var h=$(".GameFeedInfo").html();$(".GameFeedInfo").html(b+h);refreshScroller(GameFeedScroller,"GameFeedInfo");Currentbet.user=uiUser;Currentbet.odds=CastToDecimal(Currentbet.odds);window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet))}}catch(g){logError("checkBetStatusNew",g)}}
function NotifyFriendsThatUserHasJoinedGame(d){try{uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")),uiUser.currentfixtureid=fixture,$.ajax({url:Config.WS_URL_ROOT+"/Game/NotifyFriendsThatUserHasJoinedGame",type:"POST",data:JSON.stringify(uiUser),dataType:"json",contentType:"application/json: charset=utf-8",error:function(b,a,e){AjaxFail("NotifyFriendsThatUserHasJoinedGame",b,a,e)},success:function(b){d instanceof Function&&d(b)}})}catch(c){logError("NotifyFriendsThatUserHasJoinedGame",
c)}}function NotifyFriendsOfBetResult(d){try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet")),$.ajax({url:Config.WS_URL_ROOT+"/Game/NotifyFriendsOfBetResult",type:"POST",data:JSON.stringify(Currentbet),dataType:"json",contentType:"application/json: charset=utf-8",error:function(b,a,e){AjaxFail("NotifyFriendsOfBetResult",b,a,e)},success:function(b){d instanceof Function&&d(b)}})}catch(c){logError("NotifyFriendsOfBetResult",c)}}
function NotifyFriendsOfBetPlaced(d){try{Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet")),$.ajax({url:Config.WS_URL_ROOT+"/Game/NotifyFriendsOfBetPlaced",type:"POST",data:JSON.stringify(Currentbet),dataType:"json",contentType:"application/json: charset=utf-8",error:function(b,a,e){AjaxFail("NotifyFriendsOfBetPlaced",b,a,e)},success:function(b){d instanceof Function&&d(b)}})}catch(c){logError("NotifyFriendsOfBetPlaced",c)}}function friendsNotified(){}
function updateOdds(d){try{var c=d.split(",");if(c&&c.length>0){Currentbet=JSON.parse(window.sessionStorage.getItem("Currentbet"));for(d=0;d<c.length;d++)try{var b=c[d].split(":"),a=b[0],e=Math.round(b[1]);$("#bubble"+a).hasClass("bubble_active")&&Currentbet?(Currentbet.newodds=e,window.sessionStorage.setItem("Currentbet",$.toJSON(Currentbet))):$("#bubble"+a).html(e+"/1")}catch(f){}}}catch(j){logError("updateOdds",j)}}
function HaveWeDisplayedFriendsBetBefore(d){try{var c=window.sessionStorage.getItem("listOfFriendsBets"),b;if(typeof c!="undefined"&&c!=null&&c!="")if(b=typeof c!="object"?JSON.parse(c):c,typeof b!="undefined"&&b!=null)for(c=0;c<=b.length-1;c++){if(b[c].betid==d.betid)return!0}else b=[];else b=[];b.push(d);window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(b))}catch(a){logError("HaveWeDisplayedFriendsBetBefore",a)}FinishedProcessingFriendScores();return!1}
function DisplayInviteDetails(d){try{var c=d.split(";"),b=c[1];if(!HaveWeDisplayedThisEventBefore(c[2]*-1)){var a=b.replace(/s:/g,";");$("#MyleagueInvites").prepend(a);refreshScroller(leaderboardScroller,"MyleagueInvites")}}catch(e){logError("DisplayInviteDetails",e)}}
function AddBetToFriendsBetList(d){try{var c=d.split(";"),b=c[0],a=c[1],e;if(c)if(c.length==2){if(UserIsMyFriend(b)){e="<b class='friendtext'>"+a+"</b><br />";var f=a.split(" ");AddFriendToFriendScores(b,f[0]+" "+f[1])}}else if(c.length==3){if(UserIsMyFriend(b)){var j=parseInt(c[2]);UpdateFriendScoresWithNewBalance(b,j)}}else{var h=new Bet;h.betdescription=a;h.eventid=c[2];h.betid=c[3];h.eventdesc=c[4];var g=new FriendUser(b,c[5]);h.user=g;h.amount=c[6];h.creditsearned=parseInt(c[7]);h.eventtime=
c[8];UserIsMyFriend(b)&&!HaveWeDisplayedFriendsBetBefore(h)&&(AddBetToFriendScores(h),e=a.toLowerCase().indexOf("wins")>0||a.toLowerCase().indexOf("won")>0?"<b class='wintext'>"+a+"</b><br />":a.toLowerCase().indexOf("lose")>0||a.toLowerCase().indexOf("lost")>0?"<b class='losetext'>"+a+"</b><br />":"<b class='friendtext'>"+a+"</b><br />")}Config.displayFriendsDetals=="1"&&$(".FriendFeedInfo").prepend(e)}catch(k){logError("DisplayFriendsBetDetails",k)}}
function UserIsMyFriend(d){try{var c;try{c=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(b){logError("GetFriends",b)}if(typeof c!="undefined"&&c!=null)for(var a=0;a<=c.length-1;a++)if(c[a].id==d)return!0}catch(e){logError("UserIsMyFriend",e)}return!1}function closepanel(){try{$("#popupplacebet").hide()}catch(d){logError("closepanel",d)}};(function(){var d=Math,c=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",b=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),e=/playbook/gi.test(navigator.appVersion),f=/hp-tablet/gi.test(navigator.appVersion),j="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,h="ontouchstart"in window&&!f,g=c+"Transform"in document.documentElement.style,k=a||e,l=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),m=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,n="onorientationchange"in window?"orientationchange":"resize",o=h?"touchstart":"mousedown",r=h?"touchmove":"mousemove",q=h?
"touchend":"mouseup",u=h?"touchcancel":"mouseup",t=c=="Moz"?"DOMMouseScroll":"mousewheel",p="translate"+(j?"3d(":"("),w=j?",0)":")",e=function(e,f){var d=this,m;d.wrapper=typeof e=="object"?e:document.getElementById(e);d.wrapper.style.overflow="hidden";d.scroller=d.wrapper.children[0];d.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:b,hideScrollbar:a,
fadeScrollbar:a&&j,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){for(var e=a.target;e.nodeType!=1;)e=e.parentNode;e.tagName!="SELECT"&&e.tagName!="INPUT"&&e.tagName!="TEXTAREA"&&a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};d.zoom&&b&&(p="translate(",
w=")");for(m in f)d.options[m]=f[m];d.x=d.options.x;d.y=d.options.y;d.options.useTransform=g?d.options.useTransform:!1;d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar;d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar;d.options.zoom=d.options.useTransform&&d.options.zoom;d.options.useTransition=k&&d.options.useTransition;d.scroller.style[c+"TransitionProperty"]=d.options.useTransform?"-"+c.toLowerCase()+"-transform":"top left";d.scroller.style[c+"TransitionDuration"]="0";d.scroller.style[c+
"TransformOrigin"]="0 0";d.options.useTransition&&(d.scroller.style[c+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");d.options.useTransform?d.scroller.style[c+"Transform"]=p+d.x+"px,"+d.y+"px"+w:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px";if(d.options.useTransition)d.options.fixedScrollbar=!0;d.refresh();d._bind(n,window);d._bind(o);h||(d._bind("mouseout",d.wrapper),d.options.wheelAction!="none"&&d._bind(t));if(d.options.checkDOMChanges)d.checkDOMTime=
setInterval(function(){d._checkDOMChanges()},500)};e.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case o:if(!h&&a.button!==0)break;this._start(a);break;case r:this._move(a);break;case q:case u:this._end(a);break;case n:this._resize();break;case t:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){!this.moved&&
!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(a){var e=document,b;if(this[a+"Scrollbar"]){if(!this[a+"ScrollbarWrapper"]){b=e.createElement("div");this.options.scrollbarClass?b.className=this.options.scrollbarClass+a.toUpperCase():b.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+
(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");b.style.cssText+=";pointer-events:none;-"+c+"-transition-property:opacity;-"+c+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1");this.wrapper.appendChild(b);this[a+"ScrollbarWrapper"]=b;b=e.createElement("div");if(!this.options.scrollbarClass)b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+c+"-background-clip:padding-box;-"+
c+"-box-sizing:border-box;"+(a=="h"?"height:100%":"width:100%")+";-"+c+"-border-radius:3px;border-radius:3px";b.style.cssText+=";pointer-events:none;-"+c+"-transition-property:-"+c+"-transform;-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+c+"-transition-duration:0;-"+c+"-transform:"+p+"0,0"+w;this.options.useTransition&&(b.style.cssText+=";-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[a+"ScrollbarWrapper"].appendChild(b);this[a+"ScrollbarIndicator"]=
b}a=="h"?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=d.max(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW>>0,8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=d.max(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH>>
0,8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(a,!0)}else this[a+"ScrollbarWrapper"]&&(g&&(this[a+"ScrollbarIndicator"].style[c+"Transform"]=""),this[a+"ScrollbarWrapper"].parentNode.removeChild(this[a+"ScrollbarWrapper"]),this[a+"ScrollbarWrapper"]=null,this[a+"ScrollbarIndicator"]=null)},_resize:function(){var a=
this;setTimeout(function(){a.refresh()},b?200:0)},_pos:function(a,e){a=this.hScroll?a:0;e=this.vScroll?e:0;this.options.useTransform?this.scroller.style[c+"Transform"]=p+a+"px,"+e+"px"+w+" scale("+this.scale+")":(a>>=0,e>>=0,this.scroller.style.left=a+"px",this.scroller.style.top=e+"px");this.x=a;this.y=e;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(a,e){var b=a=="h"?this.x:this.y;if(this[a+"Scrollbar"])b*=this[a+"ScrollbarProp"],b<0?(this.options.fixedScrollbar||(b=this[a+
"ScrollbarIndicatorSize"]+(b*3>>0),b<8&&(b=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=b+"px"),b=0):b>this[a+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?b=this[a+"ScrollbarMaxScroll"]:(b=this[a+"ScrollbarIndicatorSize"]-((b-this[a+"ScrollbarMaxScroll"])*3>>0),b<8&&(b=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=b+"px",b=this[a+"ScrollbarMaxScroll"]+(this[a+"ScrollbarIndicatorSize"]-b))),this[a+"ScrollbarWrapper"].style[c+"TransitionDelay"]="0",this[a+"ScrollbarWrapper"].style.opacity=
e&&this.options.hideScrollbar?"0":"1",this[a+"ScrollbarIndicator"].style[c+"Transform"]=p+(a=="h"?b+"px,0":"0,"+b+"px")+w},_start:function(a){var b=h?a.touches[0]:a,e,f;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&h&&a.touches.length>1)f=d.abs(a.touches[0].pageX-
a.touches[1].pageX),e=d.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDistStart=d.sqrt(f*f+e*e),this.originX=d.abs(a.touches[0].pageX+a.touches[1].pageX-this.wrapperOffsetLeft*2)/2-this.x,this.originY=d.abs(a.touches[0].pageY+a.touches[1].pageY-this.wrapperOffsetTop*2)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,a);if(this.options.momentum&&(this.options.useTransform?(e=getComputedStyle(this.scroller,null)[c+"Transform"].replace(/[^0-9-.,]/g,"").split(","),f=e[4]*
1,e=e[5]*1):(f=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1,e=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1),f!=this.x||e!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):m(this.aniTime),this.steps=[],this._pos(f,e);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,
a);this._bind(r);this._bind(q);this._bind(u)}},_move:function(a){var b=h?a.touches[0]:a,e=b.pageX-this.pointX,f=b.pageY-this.pointY,j=this.x+e,g=this.y+f,k=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);if(this.options.zoom&&h&&a.touches.length>1)j=d.abs(a.touches[0].pageX-a.touches[1].pageX),g=d.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDist=d.sqrt(j*j+g*g),this.zoomed=!0,b=1/this.touchesDistStart*this.touchesDist*this.scale,b<this.options.zoomMin?
b=0.5*this.options.zoomMin*Math.pow(2,b/this.options.zoomMin):b>this.options.zoomMax&&(b=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/b)),this.lastScale=b/this.scale,j=this.originX-this.originX*this.lastScale+this.x,g=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[c+"Transform"]=p+j+"px,"+g+"px"+w+" scale("+b+")",this.options.onZoom&&this.options.onZoom.call(this,a);else{this.pointX=b.pageX;this.pointY=b.pageY;if(j>0||j<this.maxScrollX)j=this.options.bounce?this.x+
e/2:j>=0||this.maxScrollX>=0?0:this.maxScrollX;if(g>this.minScrollY||g<this.maxScrollY)g=this.options.bounce?this.y+f/2:g>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY;if(this.absDistX<6&&this.absDistY<6)this.distX+=e,this.distY+=f,this.absDistX=d.abs(this.distX),this.absDistY=d.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)g=this.y,f=0;else if(this.absDistY>this.absDistX+5)j=this.x,e=0;this.moved=!0;this._pos(j,g);this.dirX=e>0?-1:e<0?
1:0;this.dirY=f>0?-1:f<0?1:0;if(k-this.startTime>300)this.startTime=k,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}}},_end:function(a){if(!(h&&a.touches.length!=0)){var b=this,e=h?a.changedTouches[0]:a,f,j,g={dist:0,time:0},k={dist:0,time:0},m=(a.timeStamp||Date.now())-b.startTime,l=b.x,n=b.y;b._unbind(r);b._unbind(q);b._unbind(u);b.options.onBeforeScrollEnd&&b.options.onBeforeScrollEnd.call(b,a);if(b.zoomed)l=b.scale*b.lastScale,l=Math.max(b.options.zoomMin,
l),l=Math.min(b.options.zoomMax,l),b.lastScale=l/b.scale,b.scale=l,b.x=b.originX-b.originX*b.lastScale+b.x,b.y=b.originY-b.originY*b.lastScale+b.y,b.scroller.style[c+"TransitionDuration"]="200ms",b.scroller.style[c+"Transform"]=p+b.x+"px,"+b.y+"px"+w+" scale("+b.scale+")",b.zoomed=!1,b.refresh(),b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a);else{if(b.moved){if(m<300&&b.options.momentum){g=l?b._momentum(l-b.startX,m,-b.x,b.scrollerW-b.wrapperW+b.x,b.options.bounce?b.wrapperW:0):g;k=n?b._momentum(n-
b.startY,m,-b.y,b.maxScrollY<0?b.scrollerH-b.wrapperH+b.y-b.minScrollY:0,b.options.bounce?b.wrapperH:0):k;l=b.x+g.dist;n=b.y+k.dist;if(b.x>0&&l>0||b.x<b.maxScrollX&&l<b.maxScrollX)g={dist:0,time:0};if(b.y>b.minScrollY&&n>b.minScrollY||b.y<b.maxScrollY&&n<b.maxScrollY)k={dist:0,time:0}}if(g.dist||k.dist){g=d.max(d.max(g.time,k.time),10);if(b.options.snap)k=l-b.absStartX,m=n-b.absStartY,d.abs(k)<b.options.snapThreshold&&d.abs(m)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(k=b._snap(l,
n),l=k.x,n=k.y,g=d.max(k.time,g));b.scrollTo(l>>0,n>>0,g)}else b.options.snap?(k=l-b.absStartX,m=n-b.absStartY,d.abs(k)<b.options.snapThreshold&&d.abs(m)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(k=b._snap(b.x,b.y),(k.x!=b.x||k.y!=b.y)&&b.scrollTo(k.x,k.y,k.time))):b._resetPos(200)}else{if(h)b.doubleTapTimer&&b.options.zoom?(clearTimeout(b.doubleTapTimer),b.doubleTapTimer=null,b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.zoom(b.pointX,b.pointY,b.scale==1?b.options.doubleTapZoom:
1),b.options.onZoomEnd&&setTimeout(function(){b.options.onZoomEnd.call(b,a)},200)):b.doubleTapTimer=setTimeout(function(){b.doubleTapTimer=null;for(f=e.target;f.nodeType!=1;)f=f.parentNode;if(f.tagName!="SELECT"&&f.tagName!="INPUT"&&f.tagName!="TEXTAREA")j=document.createEvent("MouseEvents"),j.initMouseEvent("click",!0,!0,a.view,1,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),j._fake=!0,f.dispatchEvent(j)},b.options.zoom?250:0);b._resetPos(200)}b.options.onTouchEnd&&
b.options.onTouchEnd.call(b,a)}}},_resetPos:function(a){var b=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,e=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(b==this.x&&e==this.y){if(this.moved)this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this);if(this.hScrollbar&&this.options.hideScrollbar)c=="webkit"&&(this.hScrollbarWrapper.style[c+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0";
if(this.vScrollbar&&this.options.hideScrollbar)c=="webkit"&&(this.vScrollbarWrapper.style[c+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(b,e,a||0)},_wheel:function(a){var b=this,e,f;"wheelDeltaX"in a?(e=a.wheelDeltaX/12,f=a.wheelDeltaY/12):e="detail"in a?f=-a.detail*3:f=-a.wheelDelta;if(b.options.wheelAction=="zoom"){f=b.scale*Math.pow(2,1/3*(f?f/Math.abs(f):0));if(f<b.options.zoomMin)f=b.options.zoomMin;if(f>b.options.zoomMax)f=b.options.zoomMax;f!=b.scale&&
(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){b.wheelZoomCount--;!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))}else{e=b.x+e;f=b.y+f;if(e>0)e=0;else if(e<b.maxScrollX)e=b.maxScrollX;if(f>b.minScrollY)f=b.minScrollY;else if(f<b.maxScrollY)f=b.maxScrollY;b.scrollTo(e,f,0)}},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},
_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,b=a.x,e=a.y,f=Date.now(),c,j,h;if(!a.animating)if(a.steps.length){c=a.steps.shift();if(c.x==b&&c.y==e)c.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(c.time),a._pos(c.x,c.y),a.animating=!1,c.time?a._bind("webkitTransitionEnd"):a._resetPos(0)):(h=function(){var g=Date.now();if(g>=f+c.time)a._pos(c.x,c.y),a.animating=!1,a.options.onAnimationEnd&&
a.options.onAnimationEnd.call(a),a._startAni();else if(g=(g-f)/c.time-1,j=d.sqrt(1-g*g),g=(c.x-b)*j+b,a._pos(g,(c.y-e)*j+e),a.animating)a.aniTime=l(h)},h())}else a._resetPos(400)},_transitionTime:function(a){a+="ms";this.scroller.style[c+"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[c+"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[c+"TransitionDuration"]=a)},_momentum:function(a,b,e,f,c){var b=d.abs(a)/b,j=b*b/0.0012,h=0,h=0;a>0&&j>e?(e+=c/(6/
(j/b*6.0E-4)),b=b*e/j,j=e):a<0&&j>f&&(f+=c/(6/(j/b*6.0E-4)),b=b*f/j,j=f);j*=a<0?-1:1;return{dist:j,time:b/6.0E-4>>0}},_offset:function(a){for(var b=-a.offsetLeft,e=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,e-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,e*=this.scale);return{left:b,top:e}},_snap:function(a,b){var e,f,c;c=this.pagesX.length-1;e=0;for(f=this.pagesX.length;e<f;e++)if(a>=this.pagesX[e]){c=e;break}c==this.currPageX&&c>0&&this.dirX<0&&c--;a=this.pagesX[c];f=(f=d.abs(a-this.pagesX[this.currPageX]))?
d.abs(this.x-a)/f*500:0;this.currPageX=c;c=this.pagesY.length-1;for(e=0;e<c;e++)if(b>=this.pagesY[e]){c=e;break}c==this.currPageY&&c>0&&this.dirY<0&&c--;b=this.pagesY[c];e=(e=d.abs(b-this.pagesY[this.currPageY]))?d.abs(this.y-b)/e*500:0;this.currPageY=c;c=d.max(f,e)>>0;return{x:a,y:b,time:c||200}},_bind:function(a,b,e){(b||this.scroller).addEventListener(a,this,!!e)},_unbind:function(a,b,e){(b||this.scroller).removeEventListener(a,this,!!e)},destroy:function(){this.scroller.style[c+"Transform"]="";
this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(n,window);this._unbind(o);this._unbind(r);this._unbind(q);this._unbind(u);this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(t));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a,b,e,f=0;b=0;if(this.scale<this.options.zoomMin)this.scale=
this.options.zoomMin;this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=this.scroller.offsetWidth*this.scale>>0;this.scrollerH=(this.scroller.offsetHeight+this.minScrollY)*this.scale>>0;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&this.maxScrollX<
0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;if(typeof this.options.snap=="string"){this.pagesX=[];this.pagesY=[];e=this.scroller.querySelectorAll(this.options.snap);a=0;for(b=e.length;a<b;a++)f=this._offset(e[a]),
f.left+=this.wrapperOffsetLeft,f.top+=this.wrapperOffsetTop,this.pagesX[a]=f.left<this.maxScrollX?this.maxScrollX:f.left*this.scale,this.pagesY[a]=f.top<this.maxScrollY?this.maxScrollY:f.top*this.scale}else if(this.options.snap){for(this.pagesX=[];f>=this.maxScrollX;)this.pagesX[b]=f,f-=this.wrapperW,b++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);b=f=0;for(this.pagesY=[];f>=this.maxScrollY;)this.pagesY[b]=
f,f-=this.wrapperH,b++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[c+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,b,e,f){var c=a;this.stop();c.length||(c=[{x:a,y:b,time:e,relative:f}]);a=0;for(b=c.length;a<b;a++){if(c[a].relative)c[a].x=this.x-c[a].x,c[a].y=this.y-c[a].y;this.steps.push({x:c[a].x,
y:c[a].y,time:c[a].time||0})}this._startAni()},scrollToElement:function(a,b){var e;if(a=a.nodeType?a:this.scroller.querySelector(a))e=this._offset(a),e.left+=this.wrapperOffsetLeft,e.top+=this.wrapperOffsetTop,e.left=e.left>0?0:e.left<this.maxScrollX?this.maxScrollX:e.left,e.top=e.top>this.minScrollY?this.minScrollY:e.top<this.maxScrollY?this.maxScrollY:e.top,b=b===void 0?d.max(d.abs(e.left)*2,d.abs(e.top)*2):b,this.scrollTo(e.left,e.top,b)},scrollToPage:function(a,b,e){this.options.onScrollStart&&
this.options.onScrollStart.call(this);if(this.options.snap)a=a=="next"?this.currPageX+1:a=="prev"?this.currPageX-1:a,b=b=="next"?this.currPageY+1:b=="prev"?this.currPageY-1:b,a=a<0?0:a>this.pagesX.length-1?this.pagesX.length-1:a,b=b<0?0:b>this.pagesY.length-1?this.pagesY.length-1:b,this.currPageX=a,this.currPageY=b,a=this.pagesX[a],b=this.pagesY[b];else{a*=-this.wrapperW;b*=-this.wrapperH;if(a<this.maxScrollX)a=this.maxScrollX;if(b<this.maxScrollY)b=this.maxScrollY}this.scrollTo(a,b,e||400)},disable:function(){this.stop();
this._resetPos(0);this.enabled=!1;this._unbind(r);this._unbind(q);this._unbind(u)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):m(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,b,e,f){var j=e/this.scale;if(this.options.useTransform)this.zoomed=!0,f=f===void 0?200:f,a=a-this.wrapperOffsetLeft-this.x,b=b-this.wrapperOffsetTop-this.y,this.x=a-a*j+this.x,this.y=b-b*j+this.y,this.scale=e,this.refresh(),this.x=
this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[c+"TransitionDuration"]=f+"ms",this.scroller.style[c+"Transform"]=p+this.x+"px,"+this.y+"px"+w+" scale("+e+")",this.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};typeof exports!=="undefined"?exports.iScroll=e:window.iScroll=e})();var GameFeedScroller,friendsScoreScroller,leaderboardScroller,popupScroller;
function refreshScroller(d,c){c=="GameFeedInfo"?GameFeedScroller||(d=GameFeedScroller=new iScroll("wrapper",{hScrollbar:!1,vScrollbar:!1})):c=="MyleagueInvites"||c=="LeagueLeaderboard2"?leaderboardScroller||(d=leaderboardScroller=new iScroll("wrapper3",{hScrollbar:!1,vScrollbar:!1})):c=="FriendsLeaderboard"?friendsScoreScroller||(friendsScoreScroller=new iScroll("wrapper2",{hScrollbar:!1,vScrollbar:!1}),d=leaderboardScroller):c=="popup"&&!popupScroller&&(d=popupScroller=new iScroll("wrapperpopup",
{hScrollbar:!1,scrollbarClass:"myScrollbar"}));d&&typeof d!="undefined"&&setTimeout(function(){d.refresh()},0)}function ShowTips(){$("#tooltips").slideToggle("fast",function(){$("#helpclickbtn").html($("#helpclickbtn").html()=="<span>?</span>&nbsp;Help!"?"<span>X</span>&nbsp;Hide":"<span>?</span>&nbsp;Help!")})}function ToggleUserInfo(){$("#userinfo").slideToggle("fast",function(){})}
function slider(d){d==0?($(".slidepanel").slideUp(),$(".game-control-close").hide(),$(".button-1").removeClass("active")):($(".slidepanel").not("#slide"+d).slideUp(),$(".button-1").removeClass("active"),$("#slide"+d).slideToggle("fast",function(){$("#slide"+d).is(":visible")?($(".game-control-close").show(),$("#slidebtn"+d).addClass("active")):($(".game-control-close").hide(),$(".button-1").removeClass("active"))}))}
$(window).load(function(){$("#featured").orbit({animation:"horizontal-push",directionalNav:!1,animationSpeed:800,timer:!1})});function tempLeague(d,c,b,a){this.leagueID=d;this.name=c;this.desc=b;this.createrID=a}function Leaderboard(){this.Username=this.Pos=null;this.Credits=0;this.TimeStamp=this.CurrentBet=this.UserID=this.FBUserIDList=this.CurrentUser=null}
function PopulateLeaderFacebook(){var d=window.sessionStorage.getItem("facebookfriendlist"),c=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/LeaderBoard/GetFacebookFriendsLeaderbroad",type:"POST",data:"FacebookFriends="+d+"&user="+c,dataType:"html",error:function(b,a,e){AjaxFail("PopulateLeaderFacebook",b,a,e)},success:function(b){b&&$("#Resultsff").append(CreateLeagueScoresView2(b,"ff",!0))}})}
function PopulateOverallLeader(){var d=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/LeaderBoard/GetOverallLeaderBoard",type:"POST",data:d,dataType:"json",contentType:"application/json: charset=utf-8",error:function(c,b,a){AjaxFail("PopulateOverallLeader",c,b,a)},success:function(c){$("#ResultsOverall").append(CreateLeagueScoresView2(c,"o",!0))}})}function GetLeagueTable(){}
function GetLeagueTable_WithLeagueHeader(d,c,b,a){var e=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/LeaderBoard/GetleagueLeaderboard",type:"POST",data:"LeagueID="+d+"&User="+e,dataType:"html",error:function(a,b,e){AjaxFail("GetLeagueTable_WithLeagueHeader",a,b,e)},success:function(e){DisplayLeagueTable(e,d,c,b,a)}})}
function DisplayLeagueTable(d,c,b,a,e){IsthisLeaderBoardDataUptoDate(d,c)==1&&($("#LeagueLeaderboard").show(),$("#LeagueLeaderboard").html(CreateLeagueScoresView2(d,"ff",!0)),refreshScroller(leaderboardScroller,"LeagueLeaderboard"),d=typeof d!="object"?JSON.parse(d):d,window.sessionStorage.setItem("leaderboard",$.toJSON(d)),JSON.parse(window.sessionStorage.getItem("facebookuser")),c=new tempLeague(c,b,a,e),window.sessionStorage.setItem("leagueview",$.toJSON(c)))}
function UpdateLeaderboard(d,c){try{if(d&&c>0){var b=JSON.parse(window.sessionStorage.getItem("leagueview")),a=1;b&&c!=b.leagueID&&(a=0);if(a==1&&IsthisLeaderBoardDataUptoDate(d,c)==1){$("#LeagueLeaderboard").show();$("#LeagueLeaderboard").html(CreateLeagueScoresView2(d,"ff",!0));refreshScroller(leaderboardScroller,"LeagueLeaderboard");var e=typeof d!="object"?JSON.parse(d):d;window.sessionStorage.setItem("leaderboard",$.toJSON(e))}}}catch(f){logError("UpdateLeaderboard",f)}}
function updateLeaderboardLog(d,c){var b=[];b.push(d);b.push(c);window.sessionStorage.setItem("LeaderboardLog",$.toJSON(b))}
function IsthisLeaderBoardDataUptoDate(d,c){var b=1,a=typeof d!="object"?JSON.parse(d):d,e;try{if(e=a[0].TimeStamp){var f=new Date(e),j=JSON.parse(window.sessionStorage.getItem("LeaderboardLog"));if(j&&j!="null"&&j!=""){var h=j[0];j[1]==c&&h&&(new Date(h)>f?b=0:updateLeaderboardLog(e,c))}else updateLeaderboardLog(e,c)}}catch(g){logError("IsthisLeaderBoardDataUptoDate",g)}return b}
function CreateLeagueScoresView2(d,c,b){c===void 0&&(c="mediumTable");b=!1;b===void 0&&(b=!0);var a=JSON.parse(window.sessionStorage.getItem("facebookuser")),d=typeof d!="object"?JSON.parse(d):d,c='<table class="'+c+'">';if(b){c+="<thead><tr>";for(var e in d[0])c+='<th scope="col" class="'+e.toString()+'">'+e+"</th>";c+="</tr></thead>"}c+="<tbody>";for(b=0;b<d.length;b++){var f=d[b].CurrentUser,j=d[b].FBUserIDList,h=d[b].CurrentBet,g="";h&&h.status==0&&h.betid>0&&(g=" beton");c+=f==!0||a.fbuserid==
j?'<tr class="alt_me'+g+'">':'<tr class="alt'+g+'">';for(e in d[b])c+='<td class="'+e.toString()+'">'+d[b][e]+"</td>";c+="</tr>"}c+="</tbody>";c+="</table>";return c};function createleaguemanager(d){var c=d.Name.value,d=d.Description.value,b=JSON.parse(window.sessionStorage.getItem("facebookuser")),a=getFacebookStatus();b!=void 0?a==1?(b=window.sessionStorage.getItem("facebookuser"),$.ajax({url:Config.WS_URL_ROOT+"/League/LeagueCreateHandler",type:"POST",data:"name="+c+"&description="+d+"&user="+b,dataType:"html",error:function(a,b,c){AjaxFail("createleaguemanager",a,b,c)},success:function(a){var b="";b+='<div class="display-label">Name</div><div class="display-field">'+
JSON.parse(a).Name+"</div>";b+='<div class="display-label">Description</div><div class="display-field">'+JSON.parse(a).Description+"</div>";b+='<div class="display-label">Join Code</div><div class="display-field" ID="joinCode">'+JSON.parse(a).JoinCode+"</div>";$("#CreatedLeague").append(b);$("#leagueform").hide();$("#friendsInvite").show()}})):(window.sessionStorage.removeItem("facebookuser"),c="",c+='<div class="display-label">Error</div><div class="display-field">You Must Log In to create a league</div>',
$("#CreatedLeague").append(c)):a==1&&(c="",c+='<div class="display-label">Error</div><div class="display-field">You Must Log In to create a league</div>',$("#CreatedLeague").append(c))}
function SendInvite(d){var c=window.sessionStorage.getItem("facebookuser"),b=d.invite.value,d=d.league.value,a=document.getElementById("joinCode").firstChild.nodeValue;$.ajax({url:Config.WS_URL_ROOT+"/League/sendInvites",type:"POST",data:"user="+c+"&inviteList="+b+"&league="+d+"&joinCode="+a,dataType:"html",error:function(a,b,c){AjaxFail("SendInvite",a,b,c)},success:function(a){var b="";b+='<div class="display-field">'+a+"</div>";$("#invitedetails").append(b)}})}
function ViewLeagues(d){var c=JSON.parse(window.sessionStorage.getItem("facebookuser"));if(c){if(thisFixture){if(c.currentfixtureid!=thisFixture.fixtureid)c.currentfixtureid=thisFixture.fixtureid,window.sessionStorage.setItem("facebookuser",$.toJSON(c))}else{var b=GetRequestParam("f");if(c.currentfixtureid!=b)c.currentfixtureid=b,window.sessionStorage.setItem("facebookuser",$.toJSON(c))}$.ajax({url:Config.WS_URL_ROOT+"/League/GetYourLeague",type:"POST",data:c,error:function(a,b,f){AjaxFail("ViewLeagues",
a,b,f)},success:function(a){a&&d==1&&DisplayOneTimeOnlyLeagueDetailsForthisFixture(a)}})}}
function DisplayOneTimeOnlyLeagueDetailsForthisFixture(d){var c=0,b=0,d=typeof d!="object"?JSON.parse(d):d,a=JSON.parse(window.sessionStorage.getItem("facebookuser"));if(a.currentfixtureid&&a.currentfixtureid>0)for(var e=0;e<d.length;e++)d[e].fixtureid==a.currentfixtureid&&(c==0&&(GetLeagueTable_WithLeagueHeader(d[e].ID,d[e].Name,d[e].Description,d[e].CreaterFBID),c=1),schema.push("LT"+d[e].ID),d[e].CreaterFBID>0&&(b=1));c==1&&LSBind("FixtureID"+a.currentfixtureid);b==1&&$("#FriendInviteButton").hide();
return c}
function CreateLeaguesView(d,c,b){c===void 0&&(c="mediumTable");b=!1;b===void 0&&(b=!0);d=typeof d!="object"?JSON.parse(d):d;c='<table class="'+c+'">';if(b){c+="<thead><tr>";for(var a in d[0])c+='<th scope="col" class='+a.toString()+">"+a+"</th>";c+="</tr></thead>"}c+="<tbody>";for(b=0;b<d.length;b++){var e=d[b].Name,f=d[b].Description;c+=b%2==0?'<tr class="alt" onclick="GetLeagueTable_WithLeagueHeader('+d[b].ID+",'"+e.replace("'","`")+"','"+f.replace("'","`")+"','"+d[b].CreaterFBID+"');return false;\" >":'<tr class="alt" onclick="GetLeagueTable_WithLeagueHeader(\''+
d[b].ID+"','"+e.replace("'","`")+"','"+f.replace("'","`")+"','"+d[b].CreaterFBID+"');return false;\">";for(a in d[b])c+='<td class="'+a.toString()+'">'+d[b][a]+"</td>";c+="</tr>"}c+="</tbody>";c+="</table>";return c}
function joinleague(d){var d=d.JoinCode.value,c=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/League/JoinleagueHandler",type:"POST",data:"user="+c+"&joinCode="+d,dataType:"html",error:function(b,a,e){AjaxFail("joinleague",b,a,e)},success:function(b){var a="";a+='<div class="display-field">'+b+"</div>";$("#joinMessage").append(a)}})};var cock=1;cock+=2;
function LSBind(d){if(LSBound==0)page=new PushPage,page.context.setDebugAlertsOnClientError(!1),page.context.setDomain("botsn.com"),page.onEngineCreation=function(c){LSEngine=c;LogThisInteractionTime();logError("LSBind","page.onEngineCreation - LightStreamer Engine is created!","","");LSEngine.context.setDebugAlertsOnClientError(!1);LSEngine.connection.setLSHost("ls.botsn.com");LSEngine.connection.setLSPort(8055);LSEngine.connection.setAdapterName("FBALLSRV");LSEngine.changeStatus("STREAMING");LSEngine.onStatusChange=
function(b){logError("LSBind","LightStream Status Changed. newStatus is "+b+".","","")}},page.onEngineLost=function(){var c=GetRequestParam("f");c>0&&(LogThisInteractionTime(),ClearLightstreamObjects(),LSBind("FixtureID"+c),GetGameDetails(fixture,GameDetailsComplete),GetFriendsDetails(),ViewLeagues(1));logError("LSBind","LightStream connection lost. Reconnecting.","","")},page.bind(),page.createEngine("SoccerBallApp","LS","SHARE_SESSION"),group=Array(d),pushTable=new NonVisualTable(group,schema,"MERGE"),
pushTable.setSnapshotRequired(!0),pushTable.onItemUpdate=function(c,b){LogThisInteractionTime();try{var a,e,f,j,d,g,k;if(typeof schema=="undefined"||schema==null)alert("schema is null!!!"),schema=["Ball","EventID","timestamp","Adapter","Admin","FixtureID","HomeScore","AwayScore","EventDescription","EventLogID","EventOdds","UBD","UserID","BD","EventTime"],FriendsAddedToLSSchema=0,AddMyFriendsToLightStreamerSchema();for(var l=0;l<schema.length;l++)if(b.isValueChanged(schema[l])){var m=b.getNewValue(schema[l]),
n=schema[l];if(m!=null)switch(n!="timestamp"&&(m=m.substring(13)),n){case "Ball":var o=m.indexOf(",");if(o>-1){var r=parseInt(m.substr(0,o+1)),q=parseInt(m.substr(o+1));SendFBall.to(r,q)}break;case "EventID":a=m;break;case "FixtureID":e=m;break;case "HomeScore":j=m;break;case "AwayScore":d=m;break;case "EventDescription":f=m;break;case "EventLogID":g=m;break;case "UBD":break;case "timestamp":break;case "UserID":break;case "EventOdds":k=m;break;case "EventTime":eventUpdateTime=new Date(m);break;case "KeepAlive":KeepAliveCount+=
1;break;default:if(n.substring(0,3)=="UBD")AddBetToFriendsBetList(m);else if(n.substring(0,3)=="UID")DisplayInviteDetails(m);else if(n.substring(0,2)=="LT"){var u=n.substring(2);UpdateLeaderboard(m,u)}}}g>0&&(logError("LSBind","EventReceived is "+a,"",""),UpdateGameEventFromLightStreamer(e,a,g,j,d,f,eventUpdateTime));k&&updateOdds(k)}catch(t){logError("LSBind",t)}},page.addTable(pushTable,"livegames")}function ClearLightstreamObjects(){pushTable=group=page=LSEngine=null}
function AddMyFriendsToLightStreamerSchema(){try{if(uiUser=JSON.parse(window.sessionStorage.getItem("facebookuser")),schema.push("UID"+uiUser.fbuserid),FriendsAddedToLSSchema==0){var d=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"));if(typeof d!="undefined"&&d!=null){for(var c=0;c<=d.length-1;c++)schema.push("UBD"+d[c].id);FriendsAddedToLSSchema=1}}}catch(b){logError("AddMyFriendsToLightStreamerSchema",b)}}
function AddLeagueToLightStreamer(d){GetRequestParam("f")>0&&(schema.push("LT"+d),LSBind("FixtureID"+fixtureCheck))}function LogThisInteractionTime(){lastInteractionTime=(new Date).getTime()}
function CheckConnection(){try{if(lastInteractionTime==null){var d=GetRequestParam("f");d>0&&(LogThisInteractionTime(),LSBind("FixtureID"+d))}else{var c=(new Date).getTime();if(parseInt((c-lastInteractionTime)/1E3)>timeBetweenLightstreamConnections&&(d=GetRequestParam("f"),d>0))$(".GameFeedInfo").prepend("Connection lost. Reconnecting...<br />"),logError("LSBind","Connection lost. Reloading page!!!!!!!","",""),refreshScroller(GameFeedScroller,"GameFeedInfo"),window.location="http://www.botsn.com/Game/?f="+
d}}catch(b){logError("CheckConnection",b)}setTimeout("CheckConnection();",timeBetweenLightstreamConnections*1E3)};(function(d){d([],function(){if(!document.getElementById)throw"Browser not compatible";if(window.Lightstreamer)throw"Warning: Lightstreamer singleton already on the page; lscommons.js should be the first Lightstreamer file included";var c=function(){},c={Hg:!1,Vu:" 29355 $",Vm:!1,Ir:function(){},OH:function(b){for(var a in b)this[a]||(this[a]=b[a])},RT:function(b,a,e){for(var f in a.prototype)if(b.prototype[f])if(e)e==="O"&&(b.prototype[f]=a.prototype[f]);else{for(var c="super_"+f;a.prototype["_"+
c];)c="super_"+c;b.prototype["_"+c]=a.prototype[f]}else if(f.indexOf("_super_")!=0||!e)b.prototype[f]=a.prototype[f];if(!e){for(e="_super";b.prototype[e];)e+="_super";b.prototype[e]=a}if(!b.prototype.Xb)b.prototype.Xb=this.Ro;if(!b.prototype.hS)b.prototype.hS=this.oW},Ro:function(b,a){if(b.prototype["_super_"+a]){for(;b.prototype["_super_"+a];)a="super_"+a;a="_"+a;if(this[a].apply)return this[a].apply(this,c.Av(arguments,2))}},oW:function(b){var a="_super";if(b.prototype[a]){for(;b.prototype[a+"_super"];)a+=
"_super";this[a].apply&&this[a].apply(this,c.Av(arguments,1))}},Av:function(b,a){for(var e=[],f=a,c=b.length;f<c;f++)e[f-a]=b[f];return e},Nh:[],getLogger:function(){return c.gE},gs:function(){return(new Date).getTime()}};(function(b){b.OH({xu:"CONNECTING",Ip:"STREAMING",XA:"STALLED",Xr:"POLLING",ZW:"DISCONNECTED",OJ:{length:-1},Sk:/^[a-zA-Z0-9]*$/,Hb:/^[a-zA-Z0-9_]*$/,Um:/^[a-zA-Z0-9_.^]*$/,aJ:"LS4_",nY:function(a){a=[].concat(a);return typeof a[0]=="undefined"?a:[null].concat(a)},Zk:function(a){return window.encodeURIComponent?
encodeURIComponent(a):(a=escape(a),a.replace(b.RK,"%2B"))},dq:function(a){return window.decodeURIComponent?decodeURIComponent(a):unescape(a)},ms:function(a,e,f){b.GE(a,function(a){b.Vm||e(a)},f)},GE:function(a,b,f){return typeof window.addEventListener!="undefined"?(window.addEventListener(a,b,!1),!0):typeof document.addEventListener!="undefined"&&!f?(document.addEventListener(a,b,!1),!0):typeof window.attachEvent!="undefined"?window.attachEvent("on"+a,b):!1},Le:function(a,e,f,c,d,g){var k=new Number(a),
l=this.Al?this.Al:b.Dt;return isNaN(k)?(l.pE("This is a not valid value for "+e+': "'+a+'". Please use a number',e),f):c==!0&&k!=Math.round(k)?(l.pE("This is a not valid value for "+e+": "+a+". Please use an integer",e),f):!isNaN(d)&&k<d?(l.pE("This is a not valid value for "+e+": "+a+". The minimum value allowed is "+d,e),f):!isNaN(g)&&k>g?(l.pE("This is a not valid value for "+e+": "+a+". The maximum value allowed is "+g,e),f):(l.log(e,k),k)},KJ:function(a,e,f){var c=this.Al?this.Al:b.Dt;return a===
!0||a===!1?(c.log(e,a),a):(c.pE("This is a not valid value for "+e+': "'+a+'". Please use true or false',e),f)},lp:function(a){if(this.IK!=null&&this.IK!=""){var b=""+this.IK;if((""+a).toLowerCase().indexOf(b.toLowerCase())==-1)return!1}return!0},HO:function(a){if(typeof a!="undefined")if(a===!0||a===!1)return a===!0;else if(a!=null)return!isNaN(a)&&a!=""?parseFloat(a,10):(a||a=="")&&a.toString?a.toString():isNaN(a)?NaN:(b.Dt.sX(!1,"HO"),a);return null},MD:/^\s*([\s\S]*?)\s*$/,Eh:function(a){return a.replace(b.MD,
"$1")},lY:function(a,b){return!a||b.toLowerCase()=="http:"&&a==80||b.toLowerCase()=="https:"&&a==443},VN:function(a,b){for(var f=a.length;oi<f;oi++)a[0]==null||(b?new Number(a[0]):new String(a[0]));return Gf},gJ:function(a,b){var f={},c;for(c in a)f[c]=a[c]==null?null:b?new Number(a[c]):new String(a[c]);return f},Ns:function(a){return Math.round(Math.random()*(a?a:1E3))},getClosureFor:function(a,b){return function(){var f=arguments;return function(){a.apply(b,f)}}},getClosureForNoParams:function(a,
b){return function(){a.apply(b,arguments)}},QA:function(){return navigator.onLine===!1},Fm:"i",rX:"g",Wa:"gi",RK:RegExp("\\+",b.Wa)})})(c);c.avoidLSGlobals=!1;c.OH({lV:function(){this.CS(["ChartLine","ChartTable","DynaMetapushTable","DynaScrollTable","FieldNameDescriptor","FieldPositionDescriptor","GroupIdDescriptor","GroupListDescriptor","ItemNameDescriptor","ItemPositionDescriptor","LabelFormatter","MetapushTable","MultiDynaMetapushTable","NonVisualTable","OverwriteTable","PushPage","SchemaIdDescriptor",
"SchemaListDescriptor","ScreenTableHelper","ScrollTable","FlashBridge","MessageListener"],!0,!0)},CS:function(b,a,e){for(var f=0;f<b.length;f++)this.Db(b[f]);if(a)window.LS_cell=c.cellOverwrite,window.LS_cs=c.cellScroll,window.LS_cM=c.cellMetapush;if(e)window.LS_fadeCell=c.vT},Db:function(b){c[b]&&(window[b]=c[b])},DS:function(){for(var b=document.getElementsByTagName("script"),a=0;a<b.length;a++){var e=null;if((e=/lspushpage\.js\?(.*)$/.exec(b[a].src))!=null)c.avoidLSGlobals=e[1]=="avoidLSGlobals=true"}}});
c.OH({sV:null,ut:null,Kg:function(){return this.sV!=null?this.sV:document.childNodes&&!document.all&&!navigator.taintEnabled&&!navigator.accentColorName?this.sV=!0:this.sV=!1},SK:function(){if(this.ut!=null)return this.ut;if(this.Kg()){if(Gp=navigator.userAgent)if(Gp.indexOf(" Version/")>-1){if(Gp.indexOf(" Version/3.0")<=-1)return this.ut=!1}else if(Gp.indexOf("Chrome/")>-1)return this.ut=!1;return this.ut=!0}return this.ut=!1},aD:RegExp("[^0-9.]+",c.rX),Tt:null,iR:function(b,a){if(window.opera){if(!b)return!0;
if(this.Tt===null)if(window.opera.version){var e=window.opera.version(),e=e.replace(this.aD,"");this.Tt=parseFloat(e)}else this.Tt=7;return a===!0?this.Tt<=b:a===!1?this.Tt>=b:this.Tt==b}return!1},BK:RegExp("msie([0-9]+)[.;]",c.rX),qm:null,Kh:function(b,a){if(window.ActiveXObject){if(this.qm===null&&b){var e=this.BK.exec(navigator.userAgent.toLowerCase());if(e&&e.length>=2)this.qm=e[1]}return this.qm!==null&&b?a===!0?this.qm<=b:a===!1?this.qm>=b:this.qm==b:!0}return!1},JA:null,nh:function(){if(this.JA!==
null)return this.JA;var b=navigator.userAgent.toLowerCase();if(window.ScriptEngine&&ScriptEngine().indexOf("InScript")>-1&&b.indexOf("icab")>-1)return c.TE.log("nh","iCab"),this.JA=!0;if(document.all&&(tX=b.indexOf("msie"),tX>-1&&(uG=b.substring(tX+5,tX+8),uG.indexOf(5)>-1)))return c.TE.log("nh","IE5"),this.JA=!0;c.TE.log("nh",!1);return this.JA=!1},SE:{},ib:/Firefox\/(\d+\.?\d*)/,gK:function(b,a){if(this.SE===null)return!1;b?a=a===!0||a===!1?a:"":(b=-1,a=!1);if(this.SE[b+""+a]||this.SE[b+""+a]===
!1)return this.SE[b+""+a];var e=navigator.userAgent;if(e.indexOf("Firefox")<=-1)return this.SE=null,!1;var f=0;e.indexOf("Firefox/")>-1&&(e=this.ib.exec(e))&&(f=Number(e[1]));f=a===!0?f<=b:a===!1?f>=b:f==b;return this.SE[b+""+a]=f},Xk:null,DK:function(){if(this.Xk!==null)return this.Xk;var b=navigator.userAgent,b=b.toLowerCase();return this.Xk=b.indexOf("android")>-1&&b.indexOf("webkit")>-1},CP:null,Sl:function(){return this.CP!==null?this.CP:this.CP=navigator.userAgent.indexOf("Chrome/")>-1}});(function(b){b.OH({iw:function(a,
e){b.DD.log("iw",a,e);this.Pt(a,e,"")},Pt:function(a,e,f){var c="";b.IK!=null&&b.IK!=""&&(c="domain=."+b.IK+"; ");a=b.Zk(a)+"="+e+"; "+c+f+"path=/;";document.cookie=a;b.DD.log("Pt",a)},gm:function(a){for(var a=b.Zk(a)+"=",e=document.cookie.toString(),e=e.split(";"),f=b.DD,c=0;c<e.length;c++)if(e[c]=b.Eh(e[c]),f.log("gm",a,"?",e[c]),e[c].indexOf(a)==0)return e=e[c].substring(a.length,e[c].length),f.log("gm",a,e),e;f.log("gm",a,null);return null},Hh:function(a){b.DD.log("Hh",a);var e=new Date;e.setTime(e.getTime()-
864E5);e="expires="+e.toGMTString()+"; ";this.Pt(a,"deleting",e)},bg:!1,mw:function(){var a=b.DD;a.log("mw",0);var e="LS__cookie_test"+b.Ns();this.iw(e,"testing");var f=this.gm(e);if(f=="testing"&&(a.log("mw",1),this.Hh(e),f=this.gm(e),f==null))a.log("mw",2),this.bg=!0},Dm:1E3,vu:200})})(c);c.OH({FD:"|",Zo:function(b){b=this.gm(b);if(!b)return null;b=b.split(this.FD);b[0]==""&&b.shift();b[b.length-1]==""&&b.pop();return b.length>0?b:null},eG:function(b,a){var e=this.gm(b);if(e){if(e.indexOf(this.FD+
a+this.FD)>-1)return!1}else e=this.FD;e+=a+this.FD;this.iw(b,e);return!0},Ri:function(b,a){var e=this.gm(b);if(e){var f=this.FD+a+this.FD;e.indexOf(f)>-1&&(e=e.replace(f,this.FD),e==this.FD?this.Hh(b):this.iw(b,e))}},KC:function(b,a){var e=a.join(this.FD);this.iw(b,e)}});(function(b){b.am=function(a){this.fg=null;this.fg=typeof a!="undefined"?a:{}};b.am.Eb=function(a,b){var f={},c=a.JO(),d;for(d in c){f[d]={};for(var g in c[d])f[d][g]=c[d][g]==null?null:b?new Number(c[d][g]):new String(c[d][g])}return new this(f)};
b.am.prototype={YQ:function(a,b,f){this.fg[b]||(this.fg[b]={});this.fg[b][f]=a},ww:function(a,b){return!this.fg[a]?null:typeof this.fg[a][b]=="undefined"?null:this.fg[a][b]},jK:function(a,b){if(this.fg[a]){this.fg[a][b]&&delete this.fg[a][b];for(var f in this.fg[a])return;delete this.fg[a]}},insertRow:function(a,b){this.fg[b]=a},vn:function(a){return!this.fg[a]?null:this.fg[a]},vt:function(a){var b=this.vn(a);this.AP(a);return b},AP:function(a){this.fg[a]&&delete this.fg[a]},JO:function(){return this.fg}}})(c);
c.qc=function(b){this.pc=b?b:"GE"};c.qc.prototype={RZ:function(b){var a=!1;b&&(a=c.gE.RZ(b));return a||c.gE.RZ(this.pc)},xA:function(b){c.XU?this.log(b,arguments,c.XU):this.log(b,arguments)},log:function(b){if(this.RZ()){c.obfMap&&(b=c.obfMap.Aqc(b));var a=this.XS(arguments);c.gE.GN(this.pc,a)}},ZH:function(b,a,e,f,j){this.RZ(e)&&(c.obfMap&&(j[f]=c.obfMap.Aqc(j[f])),a=b+" "+this.XS(j,f),this.pc!=e&&c.gE.GN(this.pc,a,b),c.gE.GN(e,a,b))},DU:function(b,a){this.ZH(this.nx(b),a,"EX",1,arguments)},xM:function(b,
a){this.ZH(a,b,"EX",1,arguments)},error:function(b,a){this.ZH(b,a,"ER",1,arguments)},pE:function(b,a){this.error(b,a);throw b;},db:function(b,a){this.RZ("ER")&&c.aL.Au(this.error,0,this,[b,a])},ET:function(b,a,e){this.ZH(this.nx(b,a),e,"ER",2,arguments)},sX:function(b,a){b||this.ZH("",a,"AS",1,arguments)},XS:function(b,a){for(var e=" ",f=a?a:0;f<b.length;f++)try{var c=b[f];c==null?e+="NULL":c.prototype?e+=c.apply():c.length<0?e+="*":c.charAt!=null?e+=c:c[0]==c?e+=c:c.length!=null&&c.top==null?(e+=
"(",e+=this.XS(c),e+=")"):e+=c;e+=" "}catch(d){e+="missing-parameter "}return e},nx:function(b,a){var e=b.message;typeof e=="undefined"&&(b.getMessage&&(e=b.getMessage()),typeof e=="undefined"&&(e=b));e="exception\n"+e+" \n\n";a&&(e+="thrown by your callback\n\n"+a);b.stack&&(e+=b.stack,e+="\n");return e}};(function(b){b.LogSystem=function(){this.Ig="";this.fm={};this.Nk=this.fm.length=0;this.ow=new b.BufferConsumer;this.addConsumer(this.ow,!0);this.ow.QO++;this.ow.gH[0]="START OF LOG";this.ow.gH["0_C"]=
"GE";this.Hv={};this.Al=this.getLogger("LS")};b.LogSystem.prototype={getLogger:function(a){this.Hv[a]||(this.Hv[a]=new b.qc(a));return this.Hv[a]},getInternalLog:function(){return this.ow},addConsumer:function(a,b){this.fm[this.fm.length]=a;this.fm.length++;a.uj=this;b!=!0&&this.ow.sendLogToConsumer(a);this.Sp(a.mh.split(" "))},removeConsumer:function(a){ZG=!1;for(var b=0;b<this.fm.length&&!ZG;)this.fm[b]==a&&(this.Gt(b),ZG=!0),b++;return ZG},Gt:function(a){NC=this.fm.length-1;a!=NC&&(this.fm[a]=
this.fm[NC]);delete this.fm[NC];this.fm.length--;this.UD()},dc:function(a){a&&!(this.Ig.indexOf(a)>-1)&&(this.Ig+=this.Ig==""?a:" "+a,this.ow.addLogCategory(a))},Sp:function(a){for(var b in a)this.dc(a[b])},UD:function(){this.Ig="";for(var a=0;a<this.fm.length;a++)this.Sp(this.fm[a].mh.split(" "))},GN:function(a,b,f){if(this.RZ(a))return b=this.or(++this.Nk)+a+" "+b,this.bQ(a,b,f),b},RZ:function(a){return this.Ig.length==0||this.Ig.indexOf(a)==-1?!1:!0},or:function(a){var b=new Date,f=window.name;
f+=" ";f+=a;f+=": ";f+=b.getHours();f+=":";f+=b.getMinutes();f+=":";f+=b.getSeconds();f+=",";f+=b.getMilliseconds();f+=" ";return f},bQ:function(a,b,f){var c;for(c=0;c<this.fm.length;c++){var d=this.fm[c];try{d.mh.indexOf(a)>-1&&(d.Kp==!0?d.gF(f,a):d.gF(b,a))}catch(g){}}},gw:function(a,b){this.Al.error("Sorry, the "+a+" is not compatible with this Browser",b)},gg:function(a){return a=="ER"||a=="AS"||a=="EX"},GG:function(){for(var a=0;a<this.fm.length;a++)this.fm[a].xQ&&this.fm[a].xQ()},Yd:function(a,
b,f){var c=!0;typeof HH!="undefined"&&HH&&(c=!gQ.MaR("onClientAlert","WHf",{Ji:b,Hr:f}));if(c&&a.onClientAlert)try{a.onClientAlert(b,f)}catch(d){this.Al.ET(d,a.onClientAlert,"onClientAlert")}},iq:function(){var a=new b.BufferConsumer;a.setHistoryDim(10);a.addLogCategory("ER");a.Kp=!0;b.HF=a;this.addConsumer(a)},Wg:function(a,b){with(c)if(QM==null&&HF!=null)QM=new FunctionConsumer(a,b),QM.addLogCategory("ER"),QM.Kp=!0,this.removeConsumer(HF),HF.sendLogToConsumer(QM),this.addConsumer(QM,!0),HF=null}};
b.Nh.push(function(){b.gE=new b.LogSystem;b.gE.ow.setHistoryDim(5)})})(c);c.OH({Sh:null,Qk:null,QM:null,HF:null});(function(b){b.LogConsumer=function(){this.mh="";this.Kp=!1};b.LogConsumer.prototype={gF:function(){},isCompatible:function(){return!1},addLogCategory:function(a){a&&!(this.mh.indexOf(a)>-1)&&(this.mh+=this.mh==""?a:" "+a,this.uj&&this.uj.dc(a))},getLogCategories:function(){return this.mh}}})(c);(function(b){b.BufferConsumer=function(){this.hS(b.BufferConsumer);this.KX=this.cR=0;this.QO=
-1;this.gH={}};b.BufferConsumer.prototype={isCompatible:function(){return!0},extractLog:function(a,e,f,c){var d=1;if(a==null)a=this.KX;else if(a=this.QO-a+1,a<this.KX)a=this.KX;e==null&&(e="\n");for(var g="",c=c===!0;a<=this.QO;)typeof f!="undefined"&&f&&(g+=f,c&&(g+=d+"=")),g+=c?b.Zk(this.gH[a].replace(/[\n\r\f]/g,"||")):this.gH[a],g+=e,a++,d++;return g},sendLogToConsumer:function(a){for(var b=this.KX;b<=this.QO;)a.mh.indexOf(this.gH[b+"_C"])>-1&&a.gF(this.gH[b],this.gH[b+"_C"]),b++},setHistoryDim:function(a){this.cR=
a},gF:function(a,b){for(var f=++this.QO,c=f-this.cR+1;this.KX<c;)delete this.gH[this.KX],delete this.gH[this.KX+"_C"],this.KX++;this.gH[f]=a;this.gH[f+"_C"]=b}};b.RT(b.BufferConsumer,b.LogConsumer)})(c);(function(b){b.RemoteConsumer=function(a,e,f){this.hS(b.RemoteConsumer);this.bn=a;this.VC=e?e:0;this.ja=f?f:0;this.NV=this.IX=0;this.WL=100;this.gH=new b.BufferConsumer;this.gH.setHistoryDim(this.bn)};b.RemoteConsumer.prototype={HY:function(){var a=!1;if(typeof HH!="undefined"&&HH)a=!0;else if(!b.dA||
!b.dA.Ib){this.NV<this.WL&&this.gH.setHistoryDim(this.NV+1);return}var e=this.gH.extractLog(this.NV,"&","LS_log",!0);e!=""&&(a?HH.KPl(e):b.dA.Yh("KPl",e));this.NV=0;this.gH=new b.BufferConsumer;this.gH.setHistoryDim(this.bn)},xQ:function(){b.aL.Au(this.HY,0,this)},gF:function(a,b){this.ja>0&&this.IX>=this.ja?this.NV>0&&this.xQ():(this.VC>0&&a.length>this.VC&&(a=a.substr(0,this.VC)),this.NV++,this.gH.gF(a,b),this.IX++,this.NV>=this.bn&&this.xQ())},wI:function(a){this.VC=a?a:0},Ti:function(a){this.ja=
a?a:0},isCompatible:function(){return!0}};b.RT(b.RemoteConsumer,b.LogConsumer)})(c);(function(b){b.FunctionConsumer=function(a,e,f){this.hS(b.FunctionConsumer);this.Dg=a;this.IH=f?f:a;this.xh=e};b.FunctionConsumer.prototype={isCompatible:function(){return!this.Dg?!1:this.Dg.apply?!0:!1},gF:function(a,e){var f=Array(a),c=this.Dg;if(b.gE.gg(e))c=this.IH;if(c.apply)try{c.apply(this.xh,f)}catch(d){}}};b.RT(b.FunctionConsumer,b.LogConsumer)})(c);(function(b){b.AlertConsumer=function(a){this.hS(b.AlertConsumer);
this.Bn=a;this.NV=0;this.gH=new b.BufferConsumer;this.gH.setHistoryDim(this.Bn)};b.AlertConsumer.prototype={isCompatible:function(){return window.alert},gF:function(a,e){this.NV++;this.gH.gF(a,e);if(this.NV>=this.Bn)this.NV=0,b.aL.Au(this.CW,0,this,[this.gH.extractLog(this.Bn,"\n")]),this.gH=new b.BufferConsumer,this.gH.setHistoryDim(this.Bn)},CW:function(a){alert(a)}};b.RT(b.AlertConsumer,b.LogConsumer)})(c);(function(b){b.Dc=function(a){this.de=a;this.Al=b.gE.getLogger("FM");this.PK=b.gE.getLogger("CE");
this.ui=b.gE.getLogger("M1")};b.Dc.prototype={gW:function(a,b){var f=this.OT(a,b);this.PK.xA("gW",a,b,f.nJ,f.log,f.UO);return f},OT:function(a,e){var f={},c=1;try{if(this.de==null)return c=2,f.log="null",f.EN=1,f.UO=!0,f;else if(this.de.closed)return c=3,this.de=null,f.log="closed",f.EN=2,f.UO=!0,f;else if(!this.de.Lightstreamer||a&&!this.de.Lightstreamer.Hg)return c=4,f.log=!this.de.Lightstreamer?"not global":"not active",f.EN=!this.de.Lightstreamer?3:4,this.de=null,f.UO=!1,f;else if(a)if(this.de.gQ)if(c=
5,this.de.HH){if(e&&!this.de.HH.oP)return c=6,this.de=null,f.log="wait conf",f.EN=7,f.UO=!1,f}else return c=11,this.de=null,f.log="too young",f.EN=5,f.UO=!1,f;else if(this.de.Lightstreamer.Cp)if(this.de.Lightstreamer.Cp.ef){var c=7,d=this.de.Lightstreamer.Cp.ef;if(b.Cp)b.Cp.ef=d;this.de=d;var g=this.gW(!0);g.log="linked: "+g.log;f.EN=8;return g}else return c=8,this.de=null,f.log="linked w/o reference",f.EN=9,f.UO=!1,f;else return c=9,this.Al.sX(!1,"gW",this.de),this.de=null,f.log="not engine",f.EN=
10,f.UO=!0,f;c=10;f.log="OK";f.EN=11;f.nJ=!0;return f}catch(k){return this.de=null,f.log="exception "+c+" "+k,f.EN=12,f.UO=!0,f}},LS:function(a,e){var f=a+"__TRASH",c='eval("'+this.hX(a,f)+'; ")';this.Al.log("LS",1);c=b.bU("javascript:"+c,a);this.Al.log("LS",2,c);if(c===!1)return!1;else if(!c)if(c=b.bU(b.fN,a),this.Al.log("LS",4,c),c===!1)return!1;else if(c==null)return this.ui.log("popup warning",1),!0;try{this.Al.log("LS",5);if(c.closed)return!0;if(e){this.Al.log("LS",5.1);if(c==c.top&&!c.Lightstreamer){this.Al.log("LS",
5.2);this.ui.log("popup warning",2);try{this.XY(c,a,f)}catch(d){this.Al.DU(d,"LS",22)}return!0}c=c.parent;this.Al.log("LS",5.3);if(c==null)return!0}this.Al.log("LS",6);if(!c.Lightstreamer)return!0;this.Al.log("LS",7);if(!c.Lightstreamer.gE)return!0;this.Al.log("LS",8);this.de=c}catch(g){this.Al.DU(g,"LS",11)}return!0},TW:function(a,b){return this.LS("LS__"+a,!0)===!1?!1:this.gW(!0,!b)},hX:function(a,b){return"var callFun = "+function(a,b){if(window.name==a&&window==top&&(!window.Lightstreamer||!window.Lightstreamer.gE))window.name=
b,window.close()}.toString()+"; callFun('"+a+"', '"+b+"');"},XY:function(a,b,f){a.name!=b&&a.name!=f||a.close()}}})(c);c.OH({Qu:0,SI:0,eI:!1,Nd:"You have Norton Internet Security or Norton\nPersonal Firewall installed on this computer.\nIf no real-time data show up, then you need\nto disable Ad Blocking in Norton Internet\nSecurity and then refresh this page",bU:function(b,a,e){var f=null;c.TE.log("bU",document.cookie);try{f=this.Eo(b,a,e)}catch(d){return c.TE.DU(d),!1}if(f)try{this.SI++}catch(h){this.Vm=
!0}return f},Eo:function(b,a,e){if(window.SymError){e=!0;this.SI-this.Qu<-5&&(e=!1);if(window.SymRealWinOpen&&e)return this.Qu++,c.TE.log("Eo",1),window.SymRealWinOpen(b,a,"height=100,width=100",!0);else if(!this.eI){this.eI=!0;c.TE.db(this.Nd,"window.open");b=null;if(window.HH)b=HH;else if(c.Cp)b=c.Cp;b!=null&&c.gE.Yd(b,100,this.Nd)}this.Qu=0;return null}else return!e&&c.gs()-c.Zv>c.KS?!1:window.open(b,a,"height=100,width=100",!0)}});c.OH({Kt:function(b){for(var a=0,e=b.length,f=0;f<e;f++)a+=b.charCodeAt(f);
return parseInt(a)},LG:function(b,a,e,f,c){var d=3,g,k=e;e-=f;f="";a=this.Kt(a.toString());if(a>0){var l=b.length;if(l>0){var m;for(m=0;k+d-m<=l;m+=3){var n=m;if(e>0)for(n=a*3;n>=e;n-=e);g=b.substring(m,d-1);var n=b.substring(n,n+2),o=b.substring(k,k+d-m);g=parseInt(g)-parseInt(n)+c-parseInt(o);f=unescape("%"+g.toString(16))+f;d+=3;k+=3;a+=g}}}return f}});(function(){c.MessageListener=function(){};c.MessageListener.prototype={onAbort:function(){},onError:function(){},onDiscarded:function(){},onDeny:function(){},
onProcessed:function(){}}})(c);(function(b){b.Kr=function(a){this.parent=this.name=null;this.Al=b.gE.getLogger("OP");a&&this.jo(a)};b.Kr.prototype={Qn:b.Le,fW:b.KJ,jD:function(a,e){this[a]=b.HO(e);this.parent==window.HH&&this.oZ(a)},oZ:function(a,e,f){var c={Cx:this.name,FU:a};c.ED=b.HO(this[a]);this.Al.log("oZ",a,a!="Xw"?this[a]:"[...]");if(this.parent==window.HH){var a=gQ.iIZ(),d;for(d in a)a[d].Yh("KFu",c)}else if(!b.dA.DMB("KFu",c))return this.Al.error("The LightstreamerEngine instance is not available",
e),this[a]=f,!1;return!0},jo:function(a){for(var e=this.tl,f=0;f<e.length;f++)this[e[f]]=b.HO(a[e[f]])}}})(c);c.IK=null;c.fN="lsblank.html?";(function(b){var a=["ca","ZF","vZ","VC","ja"];c.Context=function(e){this.vZ=this.ZF=this.ca=null;this.ja=this.VC=0;this.gE=null;this.tl=a;this.hS(b.Context,e);this.name="context"};c.Context.prototype={getLogger:function(){return this.gE},jo:function(a){this.Xb(b.Context,"jo",a);if(!this.gE&&a.gE)this.gE=a.gE},bind:function(){if(!(this.parent&&this.parent!=window.HH)){if(b.IK!=
null&&b.IK!=""){document.domain=b.IK;var a="domain="+b.IK+"&";b.fN+=a;if(b.sh)b.sh.hx=a}b.BE=this;b.mw();return!0}},setDebugAlertsOnClientError:function(a){var b=this.ZF;this.ZF=a===!0;this.parent==null?this.Gn():this.oZ("ZF","setDebugAlertsOnClientError",b)},Gn:function(){if(this.ZF)if(b.Sh)this.Al.log("Gn",2);else{var a=new b.AlertConsumer(1);a.addLogCategory("ER");b.gE.addConsumer(a,!0);b.Sh=a;this.Al.log("Gn",1)}else b.Sh?(b.gE.removeConsumer(b.Sh),b.Sh=null,this.Al.log("Gn",3)):this.Al.log("Gn",
4)},setRemoteAlertsOnClientError:function(a,b,c){var d=this.vZ,g=this.ja,k=this.VC;this.vZ=a===!0;if(c)this.ja=this.Qn(c,"setRemoteAlertsOnClientError",this.ja,!0,0);if(b)this.VC=this.Qn(b,"setRemoteAlertsOnClientError",this.VC,!0,0);if(this.parent==null)this.ZC();else if(a=this.oZ("ja","setRemoteAlertsOnClientError"),a&=this.oZ("VC","setRemoteAlertsOnClientError"),a&=this.oZ("vZ","setRemoteAlertsOnClientError"),!a)this.vZ=d,this.ja=g,this.VC=k},ZC:function(){if(this.vZ)if(b.Qk)b.Qk.wI(this.VC),b.Qk.Ti(this.ja),
this.Al.log("ZC",2);else{var a=new b.RemoteConsumer(1,this.VC,this.ja);a.addLogCategory("ER");b.gE.addConsumer(a,!0);b.Qk=a;this.Al.log("ZC",1)}else b.Qk?(b.gE.removeConsumer(b.Qk),b.Qk=null,this.Al.log("ZC",3)):this.Al.log("ZC",4)},setDomain:function(a){if(this.parent==window.HH||this.parent==null){if(a!=null&&a!=""&&b.BE!=this)b.IK=a,this.ca=b.IK,this.Al.log("setDomain",b.IK);b.lp(location.hostname)||this.Al.error("The domain set is inconsistent with the hostname used","setDomain")}}};b.RT(b.Context,
b.Kr);b.Nh.push(function(){b.WG=new b.Context;b.WG.setDebugAlertsOnClientError(!0);b.WG.gE=b.gE})})(c);(function(b){var a=["wA","QY","jL","Pa","kP","bJ","nw","pO","Ia","OP","bR","uM","cU","Jc","PM"];c.Policy=function(e){this.wA=0;this.jL=this.QY=NaN;this.Pa=2E3;this.kP=3E3;this.bJ=NaN;this.nw=0;this.pO=3E4;this.OP=this.Ia=!0;this.bR=4E3;this.uM=1E3;this.cU=300;this.Jc=2E3;this.PM=4E3;this.tl=a;this.hS(b.Policy,e);this.name="policy"};c.Policy.prototype={setForceBindTimeout:function(a){var b=this.Jc;
this.Jc=this.Qn(a,"setForceBindTimeout",this.setForceBindTimeout,!0,0);this.oZ("Jc","setForceBindTimeout",b)},getForceBindTimeout:function(){return this.Jc},setSwitchCheckTimeout:function(a){var b=this.PM;this.PM=this.Qn(a,"setSwitchCheckTimeout",this.setSwitchCheckTimeout,!0,0);this.oZ("PM","setSwitchCheckTimeout",b)},getSwitchCheckTimeout:function(){return this.PM},setRequestSerializationTimeout:function(a){var b=this.cU;this.cU=this.Qn(a,"setRequestSerializationTimeout",this.cU,!0,0);this.oZ("cU",
"setRequestSerializationTimeout",b)},getRequestSerializationTimeout:function(){return this.cU},setMaxBandwidth:function(a){var b=this.wA;this.wA=(new String(a)).toLowerCase()=="unlimited"?0:this.Qn(a,"setMaxBandwidth",this.wA,!1,0);this.oZ("wA","setMaxBandwidth",b)},getMaxBandwidth:function(){return this.wA},setKeepaliveInterval:function(a){var b=this.QY;this.QY=this.Qn(a,"setKeepaliveInterval",this.QY,!0,1);this.oZ("QY","setKeepaliveInterval",b)},getKeepaliveInterval:function(){return!isNaN(this.jL)?
this.jL:this.QY},setTimeoutForStalled:function(a){var b=this.Pa;this.Pa=this.Qn(a,"setTimeoutForStalled",this.Pa,!0,1);this.oZ("Pa","setTimeoutForStalled",b)},getTimeoutForStalled:function(){return this.Pa},setTimeoutForReconnect:function(a){var b=this.kP;this.kP=this.Qn(a,"setTimeoutForReconnect",this.kP,!0,1);this.oZ("kP","setTimeoutForReconnect",b)},getTimeoutForReconnect:function(){return this.kP},setPollingInterval:function(a){var b=this.nw;this.nw=this.Qn(a,"setPollingInterval",this.nw,!0,0);
this.oZ("nw","setPollingInterval",b)},getPollingInterval:function(){return!isNaN(this.bJ)?this.bJ:this.nw},setIdleTimeout:function(a){var b=this.pO;this.pO=this.Qn(a,"setIdleTimeout",this.pO,!0,0);this.oZ("pO","setIdleTimeout",b)},getIdleTimeout:function(){return this.pO},setSlowingEnabled:function(a){var b=this.Ia;this.Ia=this.fW(a,"setSlowingEnabled",this.Ia);this.oZ("Ia","setSlowingEnabled",b)},isSlowingEnabled:function(){return this.Ia},setCanUseGetForStreaming:function(a){var b=this.OP;this.OP=
this.fW(a,"setCanUseGetForStreaming",this.OP);this.oZ("OP","setCanUseGetForStreaming",b)},canUseGetForStreaming:function(){return this.OP},setBufferedStreamingHandled:function(){},setConnectTimeout:function(a){var b=this.bR;this.bR=this.Qn(a,"setConnectTimeout",this.bR,!0,1);this.oZ("bR","setConnectTimeout",b)},getConnectTimeout:function(){return this.bR},setFirstPollInterval:function(a){var b=this.uM;this.uM=this.Qn(a,"setFirstPollInterval",this.uM,!0,0);this.oZ("uM","setFirstPollInterval",b)},getFirstPollInterval:function(){return this.uM}};
b.RT(b.Policy,b.Kr)})(c);(function(b){var a=["cl","HR","uh","gb","Cg","wr","Xw","cu"];c.Connection=function(e){this.cl="/lightstreamer";this.HR=!1;this.uh=location.hostname;this.gb=location.port;this.Cg=null;this.cu="STREAMING_IN_PROGRESS";this.Xw=this.wr=null;this.tl=a;this.hS(b.Connection,e);this.name="connection"};c.Connection.prototype={setServerUrlPath:function(a){var b=this.cl;if(a){for(a.indexOf("/")!=0&&(a="/"+a);a.length>0&&a.lastIndexOf("/")==a.length-1;)a=a.substring(0,a.length-1);this.cl=
a}else this.cl="/lightstreamer";this.oZ("cl","setServerUrlPath",b)},getServerUrlPath:function(){return this.cl},setLSHost:function(a,f){var c=this.uh;a?(a.indexOf("://")>0&&(a=a.substring(a.indexOf("://")+3)),!b.lp(a)&&f!==!0&&this.Al.error("Lightstreamer Server hostname inconsistent with the domain set","setLSHost"),NX=this.uh=a):NX=this.uh=location.hostname;this.oZ("uh","setLSHost",c)},getLSHost:function(){return this.uh},setLSPort:function(a){var b=this.gb;this.gb=a?this.Qn(a,"setLSPort",this.gb,
!0,0):location.port;this.oZ("gb","setLSPort",b)},getLSPort:function(){return this.gb},setAdapterName:function(a){var b=this.Cg;this.Cg=a;this.oZ("Cg","setAdapterName",b)},getAdapterName:function(){return this.Cg},setStatusBarUrlPortion:function(a){var f=this.cu;this.cu=b.Zk("_"+a);this.oZ("cu","setStatusBarUrlPortion",f)},getStatusBarUrlPortion:function(){return this.cu},setUserName:function(a){var b=this.wr;this.wr=a;this.oZ("wr","setUserName",b)},setPassword:function(a){var b=this.Xw;this.Xw=a;
this.oZ("Xw","setPassword",b)}};b.RT(b.Connection,b.Kr)})(c);(function(b){var a=["Pm","Ud","Cm","vL"];b.XZ=function(e){this.Pm=!1;this.Cm=this.Ud=null;this.vL=b.ZW;this.tl=a;this.hS(b.XZ,e);this.name="Qg"};b.RT(b.XZ,b.Kr)})(c);(function(b){b.Za=function(a,e,f,c,d){this.cp=c===!0;this.jT=a;this.iZ=e;this.qu=this.cp?[]:{readId:0,writeId:0,firstId:0};this.bG=d||!1;this.aL=f;this.Al=b.gE.getLogger("XS");if(!this.cp&&(this.ld=b.Za.sA++,b.Za.ed[this.ld]=this,!b.Za.uI))b.Za.uI=!0,this.aL.Td(b.Za.TK,50,b.Za);
this.Al.log("Za")};b.Za.uI=!1;b.Za.ed={};b.Za.sA=0;b.Za.TK=function(){for(var a in this.ed)this.ed[a].TK()};b.Za.remove=function(a){delete this.ed[a.ld]};b.Za.prototype={eR:function(a,e,f,c){this.cp?this.aL.Au(this.CU,0,this,[a,e,f,c]):this.CU(a,e,f,c);this.bG&&b.ML.jd()},CU:function(a,e,f,c){this.cp?(this.qu.push(new b.Za.Ql(a,e,f,c)),this.TK()):(this.ZI(),this.qu[this.qu.writeId]=new b.Za.Ql(a,e,f,c),this.qu.writeId++,this.UW())},UW:function(){for(var a=this.qu.readId;this.qu.firstId<a;this.qu.firstId++)delete this.qu[this.qu.firstId]},
ZI:function(){if(this.qu.firstId==this.qu.readId&&this.qu.firstId==this.qu.writeId)this.qu.writeId=0,this.qu.readId=0,this.qu.firstId=0,this.qu={readId:0,writeId:0,firstId:0},this.Al.log("ZI")},TK:function(){if(this.cp)for(;this.qu.length>0;){var a=this.qu.shift();this.cG(a)}else{for(var b=this.qu.readId;b<this.qu.writeId;)a=this.qu[b],this.cG(a),b++;this.qu.readId=b}},cG:function(a){try{if(this.jT.lVw(a.YG,a.oD))if(this.iZ[a.ub])this.iZ[a.ub](a.As);else this.Al.xM("cG",3,a)}catch(b){this.Al.DU(b,
"cG",a)}}};b.Za.Ql=function(a,b,f,c){this.ub=a;this.YG=b;this.As=f;this.oD=c};b.Za.Ql.prototype.toString=function(){return["[|Za.Event",this.ub,this.YG,this.As,this.oD,"]"].join("|")}})(c);(function(b){b.ML=function(){this.Al=b.gE.getLogger("XX");this.Kd=50;this.uw=[];this.is=b.gs();this.Gw()};b.ML.iC=function(a,b){return a.kt-b.kt};b.ML.cT=0;b.ML.jd=function(){b.ML.cT==0&&(b.ML.cT++,window.postMessage&&window.postMessage("Lightstreamer.run","*"))};b.ML.prototype={toString:function(){return["[|ML",
this.Kd,this.uw.length,"]"].join("|")},Gw:function(){this.Al.log("Gw",1);this.mx&&(clearInterval(this.mx),this.Al.log("Gw",2));this.start()},start:function(){var a=this;this.mx=setInterval(function(){a.Tu()},this.Kd);window.postMessage&&b.ms("message",function(e){e.data=="Lightstreamer.run"&&(b.ML.cT--,a.Tu())},!0)},YI:function(a,b,f){a={HT:a};if(b)a.context=b;if(f)a.As=f;return a},kB:function(a,b,f){this.Al.log("kB",1,b,f);a.Kd=f?b:null;a.kt=this.is+parseInt(b);this.uw.push(a)},Td:function(a,b,f,
c){return this.Au(a,b,f,c,!0)},ul:function(a){if(a)a.HT=null,a.Kd=null},Au:function(a,b,f,c,d){this.Al.log("Au",1);a=this.YI(a,f,c);this.kB(a,b,d);return a},Tu:function(){if(b.Vm)clearInterval(this.mx);else{this.is=b.gs();var a=[];if(this.uw.length>0)for(this.uw.sort(b.ML.iC);this.uw.length>0&&this.uw[0].kt<=this.is&&!b.Vm;){var e=this.uw.shift();e.HT&&(this.tk(e),e.Kd&&a.push(e))}for(e=0;e<a.length;e++)a[e].kt=this.is+a[e].Kd,this.uw.push(a[e])}},tk:function(a){try{a.context?a.As?a.HT.apply(a.context,
a.As):a.HT.apply(a.context):a.As?a.HT.apply(null,a.As):a.HT()}catch(b){var f=null;try{f=a.HT.name||a.HT.toString()}catch(c){}this.Al.DU(b,"tk",f)}}};b.Nh.push(function(){b.aL=new b.ML})})(c);(function(b){for(var a=0;a<b.Nh.length;a++)b.Nh[a]();b.Nh=[];b.Dt=b.gE.getLogger("OP");b.TE=b.gE.getLogger("FM");b.DD=b.gE.getLogger("CH");b.pC=b.gE.getLogger("PC");b.qe=b.gE.getLogger("PF");b.eu=b.gE.getLogger("LC");b.version="5.0.1446.3";b.toString=function(){return"[Lightstreamer web client version "+this.version+
"]"};window.OpenAjax&&(OpenAjax.hub?OpenAjax.hub.registerLibrary("Lightstreamer","http://www.lightstreamer.com/","5.0"):(OpenAjax.registerLibrary("Lightstreamer","http://www.lightstreamer.com/","5.0"),OpenAjax.registerGlobals("Lightstreamer",["Lightstreamer"])))})(c);return c})})(window.define||function(d,c){window.Lightstreamer=c()});(function(d){d(["./lscommons"],function(c){if(!c)throw"Warning: lscommons.js not included before lspushpage.js";c.dQ=" 28858 $";c.eu.log("pushpage",window.name);(function(b){c.GroupDescriptor=function(){this.Al=b.gE.getLogger("TL")};b.GroupDescriptor.prototype={FZ:function(a){if(a==null)return null;else if(a.St)return a.St;else if(a.iv)return this.gv?this.gv[a.iv]:null;else{var b=Number(a);return isNaN(b)?this.gv?(a=a.toString(),this.gv[a]):null:b}}};b.GroupDescriptor.ih=function(a){return a==null?
null:a.ds?a:a.WM?a:a.join&&typeof a.join=="function"?new b.GroupListDescriptor(a):new b.GroupIdDescriptor(a)}})(c);(function(b){c.GroupIdDescriptor=function(a){this.hS(b.GroupIdDescriptor);this.ds=String(a)};c.GroupIdDescriptor.prototype={EC:function(){return null},hw:function(){return this.ds},getId:function(){return this.ds}};b.RT(b.GroupIdDescriptor,b.GroupDescriptor)})(c);(function(b){c.GroupListDescriptor=function(a){this.hS(b.GroupListDescriptor);this.WM=b.nY(a);this.gv={};for(a=1;a<this.WM.length;a++)this.tO(this.WM[a])||
(this.WM[a]="item_name_error"),this.gv[this.WM[a]]=a};c.GroupListDescriptor.prototype={tO:function(a){return!a?(this.Al.error("Item names cannot be empty","GroupListDescriptor"),!1):!isNaN(a)?(this.Al.error("Item names cannot be numbers","GroupListDescriptor"),!1):!b.Um.test(a)?(this.Al.error("Item names should be alphanumeric(underscore, caret and dot also allowed)","GroupListDescriptor"),!1):!0},EC:function(a){return this.WM[a]},hw:function(){this.WM.shift();var a=this.WM.join(" ");this.WM=[null].concat(this.WM);
return a},getList:function(){return this.WM}};b.RT(b.GroupListDescriptor,b.GroupDescriptor)})(c);(function(b){c.SchemaDescriptor=function(){this.Al=b.gE.getLogger("TL");this.length=0};b.SchemaDescriptor.prototype={PE:function(a,b){if(a)if(a.Ot)return a.Ot;else if(a.Nt)return this.Yp(a.Nt,b);else{var f=Number(a);return isNaN(f)?this.Yp(a,b):f}else return null},ak:function(a,b){return typeof a=="string"?!0:!b&&this.Oc?a>this.length+this.Oc.length:a>this.length},sm:function(){this.Oc=null},Id:function(a){if(!this.Oc)this.Oc=
b.SchemaDescriptor.Kx(a)}};b.SchemaDescriptor.Kx=function(a){return a?a.AX?a:a.uA?a:a.join&&typeof a.join=="function"?new b.SchemaListDescriptor(a):new b.SchemaIdDescriptor(a):null}})(c);(function(b){c.SchemaIdDescriptor=function(a){this.hS(b.SchemaIdDescriptor);this.AX=a};c.SchemaIdDescriptor.prototype={getId:function(){return this.AX},En:function(a,b){if(typeof a=="string")return a;else if(a>this.length&&this.Oc&&!b)return this.Oc.En(a);return null},Yp:function(a,b){if(this.Oc&&!b){var f=this.Oc.Yp(a);
return isNaN(f)?f:this.length+f}return a},YA:function(a){if(!this.length)this.length=a},reset:function(){this.length=0},Pf:function(){return this.AX}};b.RT(b.SchemaIdDescriptor,b.SchemaDescriptor)})(c);(function(b){var a=this.cD+"empty",e=this.cD+"numbers";c.SchemaListDescriptor=function(a){this.hS(b.SchemaListDescriptor);this.uA=b.nY(a);this.gv={};for(a=1;a<this.uA.length;a++)this.nv(this.uA[a])||(this.uA[a]="field_name_error"),this.gv[this.uA[a]]=a;this.length=this.uA.length-1};c.SchemaListDescriptor.prototype=
{getList:function(){return this.uA},En:function(a,b){if(typeof a=="string")return a;else if(a<=this.length)return this.uA[a];else if(this.Oc&&!b){var e=this.Oc.En(a-this.length);return this.gv[e]?"$"+e:e}return null},Yp:function(a,b){if(this.gv[a])return this.gv[a];else if(!this.Oc||b)return a;a.indexOf("$")==0&&(a=a.substring(1));var e=this.Oc.Yp(a);return isNaN(e)?e:this.length+e},nv:function(f){return!f?(this.Al.error(a,"SchemaListDescriptor"),!1):!isNaN(f)?(this.Al.error(e,"SchemaListDescriptor"),
!1):!b.Um.test(f)?(this.Al.error("Field names should be alphanumeric(underscore, caret and dot also allowed)","SchemaListDescriptor"),!1):!0},YA:function(){},reset:b.Ir,Pf:function(){this.uA.shift();var a=this.uA.join(" ");this.uA=[null].concat(this.uA);return a}};b.RT(b.SchemaListDescriptor,b.SchemaDescriptor)})(c);c.ItemDescriptor=function(){};c.ItemDescriptor.prototype={};(function(b){c.ItemNameDescriptor=function(a){this.hS(b.ItemNameDescriptor);this.iv=String(a)};c.ItemNameDescriptor.prototype=
{toString:function(){return this.iv},getName:function(){return this.iv}};b.RT(b.ItemNameDescriptor,b.ItemDescriptor)})(c);(function(b){c.ItemPositionDescriptor=function(a){this.hS(b.ItemPositionDescriptor);this.St=Number(a)};c.ItemPositionDescriptor.prototype={toString:function(){return String(this.St)},getPosition:function(){return this.St}};b.RT(b.ItemPositionDescriptor,b.ItemDescriptor)})(c);c.FieldDescriptor=function(){};c.FieldDescriptor.prototype={};(function(b){c.FieldNameDescriptor=function(a){this.hS(c.FieldNameDescriptor);
this.Nt=String(a)};c.FieldNameDescriptor.prototype={toString:function(){return this.Nt},getName:function(){return this.Nt}};b.RT(b.FieldNameDescriptor,b.FieldDescriptor)})(c);(function(b){c.FieldPositionDescriptor=function(a){this.hS(b.FieldPositionDescriptor);this.Ot=Number(a)};c.FieldPositionDescriptor.prototype={toString:function(){return String(this.Ot)},getPosition:function(){return this.Ot}};b.RT(b.FieldPositionDescriptor,b.FieldDescriptor)})(c);(function(b){function a(a){return function(e){this.Qs.style[a]=
e===b.Es?null:e}}function e(a){return function(){return this.Qs.style[a]||""}}function f(a){return function(e){!e||e===b.Es?this.Qs.removeAttribute(a):this.Qs.setAttribute(a,e)}}function c(a){return function(){this.Qs.getAttribute(a)}}function d(a,b){if(b)this.Qs.innerHTML=a;else if(this.Qs.childNodes.length!=1||this.Qs.firstChild.nodeType!=3){if(this.Qs.firstChild!=null)this.Qs.innerHTML="";this.Qs.appendChild(document.createTextNode(a))}else this.Qs.firstChild.nodeValue=a}function g(a){if(a)return this.Qs.innerHTML;
else if(this.Qs.firstChild)return this.Qs.firstChild.nodeValue;return""}var k={input:!0,textarea:!0};b.pu=function(b,n){this.Qs=b;n||(n=b.getAttribute("update"));if(n)if(n.toLowerCase().indexOf("style.")==0){var o=n.slice(6);this.Ur=a(o);this.er=e(o)}else this.Ur=f(n),this.er=c(n);else b.nodeName.toLowerCase()in k?(this.Ur=f("value"),this.er=c("value")):(this.Ur=d,this.er=g);this.ek=l++;this.RL=this.UN=null;this.AW=this.vA=0};var l=0;b.pu.nl=function(a,e){var f=[];e||(e=["*"]);for(var c=0;c<e.length;c++)for(var d=
a.getElementsByTagName(e[c]),j=0;j<d.length;j++){var h=d[j].getAttribute(b.YX);h&&h.toUpperCase()==b.px&&f.push(new b.pu(d[j]))}return f};b.pu.Wi=function(a){for(var b=null;a!=null&&a!=document;)b=a,a=a.parentNode;return a==null?b!=null&&b.nodeName=="HTML"?!0:!1:!0};b.pu.prototype={HD:function(a){if(a!=null&&this.Qs.className!=a)this.Qs.className=a},Zl:function(a){for(var b in a)this.Qs.style[b]=a[b]},Wi:function(){return b.pu.Wi(this.Qs)},IO:function(){return!this.Qs.id?this.Wi(this.Qs):document.getElementById(this.Qs.id)===
this.Qs},UW:function(){this.Qs&&delete this.Qs}}})(c);(function(b){b.OH({cellOverwrite:function(a,e,f,c,d,g,k,l){b.oN(b.sw,a,e,f,c,d,g,k,l,"cellOverwrite")},cellScroll:function(a,e,f,c,d,g,k,l){b.oN(b.ON,a,e,f,c,d,g,k,l,"cellScroll")},cellMetapush:function(a,e,f,c,d,g,k,l){b.oN(b.GB,a,e,f,c,d,g,k,l,"cellMetapush")},oN:function(a,e,f,c,d,g,k,l,m,n){b.pC.log("oN",arguments);var o=c.toString(),r=f;a==b.sw&&(r=r.toString());var q=b.kx.HA(e);q.jC.YQ(g,r,o);q.Lv.YQ(d,r,o);var u=b.kx.Jg(d,g,l,m);q.Ys(u,
r,o,a)}})})(c);(function(b){b.OH({Lr:RegExp("^https?:\\/\\/",b.Fm),ku:function(a){var e;if(this.Lr.test(a))return a;else{e=location.protocol+"//"+location.hostname;location.port&&!b.lY(location.port,location.protocol)&&(e+=":"+location.port);if(a.indexOf("/")!=0){e+=location.pathname;var f=e.lastIndexOf("/");f!=e.length-1&&(e=e.substring(0,f+1))}e+=a;return e}},Du:/,/,RO:/\./,tw:function(a,b){if(a){if(!a.replace)return a;b?(a=a.replace(this.RO,""),a=a.replace(this.Du,".")):a=a.replace(this.Du,"");
return new Number(a)}return 0},XU:function(){return b.dA.toString()}})})(c);c.OH({Od:"&nbsp;",Es:"\u00a0",sw:"H",ON:"V",Qd:"AV",GB:"X",Di:"Z",aR:"K",QR:"AX",PU:"AXZ",rU:"M",hD:"O",Yo:"OX",tx:"OXZ",Yx:"A",Sx:"A",BT:"B",LO:"D",TN:"C",Bq:1,El:2,Pi:3,VQ:4,dL:5});(function(b){b.JM=function(){this.gX={};this.lZ={};this.GQ=0;this.sa=!1;this.Ij=-1;this.pr={};this.dN=0;this.Al=b.gE.getLogger("LC");this.Al.log("JM","new PageContext")};b.JM.prototype={HA:function(a,e){this.gX[a]||(this.gX[a]=e==b.rU?new b.PO(a):
new b.oI(a));return this.gX[a]},NK:function(a,e){this.Al.xA("NK",arguments);b.gE.getLogger("UP").xA("NK",arguments);var f=b.mR.Zu(a[0]);if(!f)return!0;f.HN(a,e,!1);return!0},Mw:function(a){this.Ij++;this.pr[this.Ij]=a;this.dN++;a={};a.uV=b.dA.gp;a.Gd=this.Ij;return a},BN:function(a,b,f){if(this.pr[a]){var c=this.pr[a];Oe=b==1?"onProcessed":b==38?"onDiscarded":b==30?"onAbort":b<=0?"onDeny":"onError";try{if(b<=0)c.onDeny(b,f);else c[Oe]()}catch(d){this.Al.DU(d,Oe)}delete this.pr[a];this.dN--}},QL:function(){for(var a=
{},b=0,f=this.Ij;f>=0;f--){if(b==this.dN)break;this.pr[f]&&(a[b]=f,b++)}for(f=b-1;f>=0;f--)this.BN(a[f],30,null);this.Al.sX(this.dN==0,"QL");this.Ij=-1;this.pr={};this.dN=0},UW:function(){for(var a in this.gX)this.gX[a].UW()}}})(c);(function(b){b.Dx=function(a){this.fK=this.Ko=!1;this.hU=this.qX(a);this.Ju=1E3;this.Dv=!1;this.Al=b.gE.getLogger("LC");this.ip()};b.Dx.prototype={qX:function(a){var b=this;return function(){if(!b.Ko){b.fK=!0;if(a&&a.length)for(var f=0;f<a.length;f++)try{a[f]()}catch(c){this.Al.DU(c,
"hU",a[f])}b.fK=!1;b.Ko=!0}}},jE:function(){return!(this.Ko||this.fK)},ip:function(){if(document&&typeof document.readyState!="undefined")if(document.readyState.toUpperCase()=="COMPLETE"){this.Al.log("ip",1);this.wF();return}else this.Al.log("ip",2),b.aL.Au(this.UZ,this.Ju,this);else if(this.GR()){this.Al.log("ip",3);this.wF();return}if(typeof window.OpenAjax!="undefined"&&typeof OpenAjax.addOnLoad!="undefined")this.Al.log("ip",4),OpenAjax.addOnLoad(this.hU,null,"library");else if(b.ms("load",this.hU)){if(b.iR()){var a=
!0;if(b.ms("DOMContentLoaded",this.di()))if(this.Al.log("ip",7,window.opera.version),b.iR(7,!0))return;else b.iR(8,!0)&&(a=!1);else this.Al.log("ip",6),a=!1;b.aL.Au(this.PQ,this.Ju,this,[a])}}else this.Al.log("ip",5),this.wF()},wF:function(){b.aL.Au(this.hU,0)},UZ:function(){this.Ko||(document.readyState.toUpperCase()=="COMPLETE"?this.hU():b.aL.Au(this.UZ,this.Ju,this))},PQ:function(a){if(!this.Ko)this.Ne||!a&&this.GR()?b.Cp&&b.Cp.Yb?this.Dv=!0:this.hU():b.aL.Au(this.PQ,this.Ju,this,[a])},di:function(){var a=
this;return function(){a.Ne=!0}},GR:function(){return typeof document.getElementsByTagName!="undefined"&&typeof document.getElementById!="undefined"&&(document.getElementsByTagName("body")[0]!=null||document.body!=null)}}})(c);(function(b){b.rk=function(){this.IW=!1;this.sM=null;this.bV=0;this.Al=b.gE.getLogger("EL")};b.rk.prototype={co:function(a){this.Al.log("co",b.Cp.Vx.Qg,b.Cp.Cm);if(b.Cp.Vx.Qg.Cm||b.Cp.Cm)if(b.Cp.Vx.Qg.Ud=="S"){if(this.IW=!0,a=b.gs(),this.sM===null||a-this.sM>=2E3)this.sM=a,
a=b.Ns(),this.Al.log("co",2,a),this.bV++,b.aL.Au(this.OK,a,this),b.Cp.ij(b.Cp.Im,null)}else a&&this.Al.log("co",3)},OK:function(){this.bV--;this.Al.log("OK",1);YO=b.Cp.Cm?b.Cp.Cm:b.Cp.Vx.Qg.Cm;b.Cp.Hn(b.Cp.Im,YO,b.Cp.Vx.Qg.Ud,b.Cp.Vx.Qg.Pm,!0)},jp:function(){this.IW=!1}}})(c);(function(b){b.fF=function(){};b.fF.prototype={Up:function(a,e){this.Al.xA("Up",arguments);if(a==6){var f=b.mR.Zu(e);f&&f.wN()}else if(a!=7&&a!=8&&a==9&&(f=b.mR.Zu(e))&&f.PZ)b.Cp&&b.Cp.Vx&&b.Cp.Vx.getStatus()==b.xu&&(f.Xc*=2,
f.Xc+=500),b.aL.kB(f.PZ,f.Xc),delete f.PZ,delete f.Xc},TV:function(a,e,f){this.Al.xA("TV",arguments);this.sa=!0;var c=b.mR.Zu(f);if(c){var d,g,k;if(c.ea==b.aR)g=c.vQ,k=c.ug.ds,c=c.uW,d=c.ug.EC(g);if(b.Cp.onServerDeny)try{b.Cp.onServerDeny(a,e,c,g,d,k)}catch(l){this.Al.ET(l,b.Cp.onServerDeny,"onServerDeny")}}},onLostUpdates:function(a){this.Al.xA("onLostUpdates",arguments);var e=a[1],f=a[2],c=b.mR.Zu(a[0]);if(!c)return!1;var d;if(c.ea==b.aR)d=c.ug.ds,e=c.vQ,c=c.uW;if(c.onLostUpdates){var g=c.ug.EC(e);
try{c.onLostUpdates(e,f,g,d)}catch(k){this.Al.ET(XF,c.onLostUpdates,"onLostUpdates")}}return!0},onEndOfSnapshot:function(a){this.Al.xA("onEndOfSnapshot",arguments);var e=a[1],f=b.mR.Zu(a[0]);if(!f)return!1;if(f.ea.indexOf(b.QR)>-1)f.xg=!0;if(f.onEndOfSnapshot){var c=f.ug.EC(e);try{f.onEndOfSnapshot(e,c)}catch(d){this.Al.ET(d,f.onEndOfSnapshot,"onEndOfSnapshot")}}return!0}};b.RT(b.JM,b.fF)})(c);(function(b){b.mL=function(){this.VM=new b.Dc(null);this.tG={};this.BO={};this.fJ=0;this.lC=!1;this.CV=5E3;
this.ZU=!1;this.DP=this.Qi=0;this.Wu=!1;this.Qe=!0;this.IB=!1;this.hq=-1;b.aL.Td(this.Ph,6E4,this);this.Al=b.gE.getLogger("EP");this.PK=b.gE.getLogger("CE")};b.mL.prototype={gI:function(){return!b.Cp?null:this.VM.de!=null?(this.PK.log("gI",1,this.VM.gW(!0).log),this.VM.de!==null?this.VM.de:null):null},wk:function(){var a=null,e=b.Cp;if(b.Kh()&&e.AT)this.VM.de=e.ef,this.Al.log("wk",1);else if((this.Wu||e.ef==null)&&this.Qe&&!e.Yb)a=this.Mp(),this.Al.log("wk",2,a),this.Wu=!1;else if(e.ef!=null)this.VM.de=
e.ef,this.Al.log("wk",3),this.Wu=!0;else return this.fJ==10&&(this.lC||this.Al.db("No way to find the Engine. Please check your configuration","seekEngine")),this.fJ<=10&&this.fJ++,this.Al.log("wk",4,this.fJ),null;this.Al.log("wk",5,this.VM.gW(!0,!e.Yb).log);if(this.VM.de!=null){this.DP=0;try{return this.tG[this.VM.de.HH.getEngineFrameName()]="OK",this.VM.de}catch(f){this.Al.log("wk",10)}}if(b.iR()&&e.Ci()&&a&&a.log=="null")return this.Al.log("wk",6),e.Dr(),null;this.DP++;if(this.DP>=(e.Yb?20:10))this.DP=
0,b.pZ.IW?(this.Al.log("wk",7),b.pZ.co()):e.Ci()&&this.mr()&&!e.Yb?(this.Al.log("wk",8),e.Dr()):(this.Al.log("wk",9),this.ZU=!0);return null},mr:function(){if(b.gK(2)&&this.sD)return this.Al.log("mr",1),!0;else if(b.iR())return this.Al.log("mr",2),!0;else if(b.Sl())return this.Al.log("mr",3),!0},Mp:function(){var a=this.JC();if(!a)return this.Al.log("Mp",1),!1;var e=a[2],f=this.VM.TW(e,b.Cp.Yb);this.tG[e]=f===!1||!f.nJ&&f.UO==!1?!1:f.log?f.log:"unknown";this.Al.log("Mp",3,e,f.log);if(a[3]&&a[3]!=
location.host)this.sD=!0;return f},JC:function(){if(!b.bg)return this.Al.log("JC",1),null;var a=b.Dm+(b.Cp.sG?b.vu:0),e=b.Zo(b.aJ+b.Cp.Im);if(!e)return this.Al.log("JC",2),null;for(var f=0;f<e.length;f++){var c=e[f]+"_"+b.Cp.Im,d=b.Zo(b.aJ+c);if(!d||d.length<=2)this.Al.log("JC",3,e[f]);else if(d[1]!="S"&&!this.IB)this.Al.log("JC",4,e[f],d[1]);else if(this.tG[d[2]])this.Al.log("JC",5,e[f],d[2]);else{var g=b.gs(),k=g-parseInt(d[0]),l=1E3-k;if(k>a)this.BO[c]?k>b.Dm*2?(this.BO[c]=null,this.Al.log("JC",
6.1,e[f],k)):(this.BO[c]=d[0],b.Cp.Zd(l),this.Al.log("JC",6.2,e[f],k)):this.Al.log("JC",6,e[f],k);else{if(b.Cp.sG)if(this.BO[c]){if(this.BO[c]==d[0]){this.Al.log("JC",8,d[0],k);b.Cp.Zd(l);continue}}else{this.Al.log("JC",7,d[0],k);this.BO[c]=d[0];b.Cp.Zd(l);continue}b.Zv=g;b.KS=b.Dm-k;k>100&&this.Al.log("JC",9,k);this.Al.log("JC",10,e[f],d);return d}}}return null},rs:function(){if(!this.NY)this.Al.log("rs"),this.NY=b.aL.Td(this.FE,this.CV,this)},sq:function(){this.Al.log("sq");b.aL.ul(this.NY);delete this.NY},
FE:function(){this.PK.xA("FE");if(b.dA.Ib){if(this.gI()===null)return this.Al.log("FE",1),b.dA.Kb(),!1;this.PK.log("FE",2);return b.dA.NQp()}return!1},EK:function(a){!b.Ki.lC&&this.ZU&&a==this.Qi&&!b.dA.Ib&&(a=b.Cp.Yb?"Unable to create the Engine.":"Unable to find the Engine. ",a+=b.Cp.Ci()?"Creating a new Engine.":"Retrying. If the problem persists, please check your configuration.",this.Al.db(a,"bind"),b.Cp.Dr())},oC:function(){this.ZU=!1;b.aL.Au(this.EK,2E4,this,[new Number(++this.Qi)])},Ph:function(){var a=
document.cookie.toString();this.rw(a);this.dh(a)},rw:function(a){var b=this.tG;this.tG={};for(var f in b)b[f]&&a.indexOf(f)>-1&&(this.tG[f]=b[f])},dh:function(a){var b=this.BO;this.BO={};for(var f in b)b[f]&&a.indexOf(f)>-1&&(this.BO[f]=b[f])},lI:function(a){var b=this.gI();if(b!=null)try{return b.document.bgColor=a,b.document.bgColor}catch(f){}return null}}})(c);(function(b){c.UpdateItemInfo=function(){this.Al=b.gE.getLogger("IC")};c.UpdateItemInfo.prototype={iE:function(a,b,f,c){this.NU=f;this.mX=
a;this.qP=b;this.xX=c},isValueChanged:function(a){this.Al.log("isValueChanged",arguments);var b=this.mX.QI.PE(a);return this.Un(b,this.mX.QI.ak(b))},Un:function(a,b){if(b){if(this.mX.WV.vn(this.qP)){var f="";this.mX.WV.ww(this.qP,a)?f=a:this.mX.WV.ww(this.qP,a+"|rem")&&(f=a+"|rem");if(f!="")return this.mX.WV.ww(this.qP,f)!=this.mX.eE.ww(this.qP,a)?!0:!1}}else return this.NU[a+1]==null?!0:this.NU[a+1].length>-1;return this.mX.eE.ww(this.qP,a)?!0:!1},isSnapshot:function(){this.Al.log("isSnapshot",arguments);
return this.xX},getNewValue:function(a){this.Al.log("getNewValue",arguments);var b=this.mX.QI.PE(a),f=this.mX.QI.ak(b);return this.Un(b,f)?f?!this.mX.WV.vn(this.qP)?null:(b=(f=this.mX.WV.ww(this.qP,b))?f:this.mX.WV.ww(this.qP,b+"|rem"))?b:null:this.NU[b+1]:this.jS(b)},getOldValue:function(a){this.Al.log("getOldValue",arguments);return this.jS(this.mX.QI.PE(a))},jS:function(a){return this.mX.eE.ww(this.qP,a)},getNumFields:function(){return this.mX.Vw&&this.mX.Vw.length==0?null:this.mX.QI.length},addField:function(a,
b,f){this.Al.log("addField",arguments);typeof f=="undefined"&&(f=!0);var c=this.mX.QI.PE(a);if(!this.mX.QI.ak(c)){var d=this.getNumFields();if(d==null)d=this.mX.QI.length;this.Al.pE("addField() method can only add fields that are not part of the subscription schema. Please use a value greater than "+d,"addField")}f?this.mX.WV.YQ(b,this.qP,c+"|rem"):(this.mX.WV.YQ(b,this.qP,c),this.mX.WV.jK(this.qP,c+"|rem"))},forEachChangedField:function(a){for(var b=this.NU.bZ,f=0;f<b.length;f++){var c=this.mX.QI.En(b[f]),
d=this.jS(b[f]),g=this.NU[b[f]+1];try{a(b[f],c,d,g,this)}catch(k){this.Al.ET(k,a,"forEachChangedField")}}}}})(c);(function(b){c.VisualUpdateInfo=function(){this.Rc=null;this.Lt=1200;this.QW=this.kN=0;this.Al=b.gE.getLogger("IC")};c.VisualUpdateInfo.prototype={Qn:b.Le,iE:function(a,b,f,c){this.NU=f;this.oR=c;this.mX=a;this.Gd=this.qP=b;this.Lt=1200;this.QW=this.kN=0},getFormattedValue:function(a){return this.mX.WX.ww(this.qP,this.mX.QI.PE(a))},setFormattedValue:function(a,b){var f=this.mX.QI.PE(a);
this.mX.WX.YQ(b,this.qP,f)},getServerValue:function(a){a=this.mX.QI.PE(a);if(this.oR)return typeof a=="number"?this.NU[a+1]:this.NU[a];else if(!this.mX.QI.ak(a)&&(this.NU[a+1]==null||this.NU[a+1].length>-1))return this.NU[a+1];return this.mX.eE.ww(this.qP,a)},setHotTime:function(a){this.Lt=this.Qn(a,"setHotTime",1200,!0,0)},setColdToHotTime:function(a){this.kN=this.mX.ea!=b.ON&&this.mX.ea!=b.GB?this.Qn(a,"setColdToHotTime",0,!0,0):0},setHotToColdTime:function(a){this.QW=this.mX.ea!=b.ON&&this.mX.ea!=
b.GB?this.Qn(a,"setHotToColdTime",0,!0,0):0},eY:function(a,b,f,c){this.Al.log("eY",arguments);var d=this.mX.dZ[a];if(d!=null&&(d=this.mX.aE.Wc(this.Rc,d),d!=null)){if(d.UN==null)d.UN={},d.RL={};d.UN[c]=b?b:"";d.RL[c]=f?f:""}},setRowAttribute:function(a,b,f){this.CG(a,b,f)},setRowStyle:function(a,b){this.CG(a,b,"CLASS")},setAttribute:function(a,e,f,c){a=this.mX.QI.PE(a);this.eY(a,e,f,c);if(this.mX.ea==b.ON||this.mX.ea==b.GB)e=this.mX.aE,f=this.mX.dZ[a],f!=null&&(a=e.dj.ww(this.Rc,f),a||(a={},e.dj.YQ(a,
this.Rc,f)),a[c]=1)},setStyle:function(a,b,f){this.eY(this.mX.QI.PE(a),b,f,"CLASS")},CG:function(a,e,f){var c=this.Rc,e=e?e:"",d=this.mX.aE;d.Kv.YQ(a?a:"",c,f);d.UP.YQ(e,c,f);if(this.mX.ea==b.ON||this.mX.ea==b.GB)f!="CLASS"&&(d.wm.ww(c,f)||d.wm.YQ(1,c,f))},forEachChangedField:function(a){for(var e=this.mX.IA,f=0;f<e.length;f++){var c=this.mX.QI.En(e[f]),d=this.mX.WX.ww(this.qP,e[f]),g=typeof e[f]=="number"?this.NU[e[f]+1]:this.NU[e[f]];typeof g=="undefined"&&(g=this.mX.eE.ww(this.qP,e[f]));if(g&&
g.length<=-1&&(this.mX.ea==b.Qd||this.mX.ea==b.ON))g=this.mX.eE.ww(this.qP,e[f]);try{a(e[f],c,g,d,this)}catch(k){this.Al.ET(k,a,"forEachChangedField")}}}}})(c);c.RowInfo=function(){};c.RowInfo.prototype={iE:function(b,a,e){this.mX=b;this.qP=a;this.Oj=e?e:this.mX.aE.an[a]},getServerValue:function(b){var a=this.mX.aE,b=this.mX.dZ[this.mX.QI.PE(b)];if(b==null)return null;a=a.fp.ww(this.Oj,b);return!a?null:a},getCellValue:function(b){var a=this.mX.aE,b=this.mX.dZ[this.mX.QI.PE(b)];if(b==null)return null;
var e=a.qi.ww(this.Oj,b);return e===null?a.Lv.ww(this.Oj,b):e}};(function(b){b.Ub=function(){};b.Ub.prototype={Jg:function(a,e,f,c){for(var d="Lightstreamer|temp|id",g=0;document.getElementById(d)&&g<100;)d+=b.Ns(),g++;f=f||"div";g="<"+f+" id='"+d+"'";e&&(g+=" class='"+e+"'");g+=">"+a+"</"+f+">";document.write(g);a=document.getElementById(d);a.removeAttribute("id");return new b.pu(a,c)},Fq:function(a){var a=this.HA(a).bc(),b;for(b in a){var f=a[b],c=!1,d;for(d in f)f[d].IO()?c=!0:delete f[d];c||delete a[b]}},
wn:function(a,b){if(!a.CLASS)for(var f in b)a[f]||(a[f]=b[f]);return a},MI:function(a,e,f,c,d,g,k){var l=b.mR.KT(a);if(l&&k==l.BG){k=l.aE;if((k.ea==b.ON||k.ea==b.GB)&&k.an)f=k.an[c];var m=null,c=f,n=l.dZ[d];if(n!=null){if(l.ea==b.Qd){var o=k.Wc(c,n);if(o)m=o.Md,o.Md=null}o=!1;if(m==null&&(m=l.WX.ww(e,d),m==null))if(g)m=k.Lv.ww(f,n),o=!0;else return!1;l.Qo.jK(e,d);e=m;if(e=="")e=b.Es;f=k.ag.vn(f);this.eX(a,c,n,e,b.Sx,f,o);return!0}}},eX:function(a,e,f,c,d,g,k){var a=this.HA(a),k=k?!0:a.MH,l=a.Wc(e,
f);if(l==null)return!0;var m=null,n=null;if(d==b.Sx)m=l.hN,l.hN=null;else if(d==b.BT||d==b.LO)m=l.nR,l.nR=null,l.hN=null;if(d==b.LO)e=a.jC.ww(e,f),m==null&&e?(m={},m.CLASS=e):e&&(m.CLASS=e);m!=null?m=this.wn(m,g):g&&(m=g);m!=null&&typeof m.CLASS!="undefined"&&(n=m.CLASS);l.Ur(c,k);l.HD(n);l.Zl(m);return!0},PL:function(a,e,f,c,d,g){a=this.HA(a);if((a.ea==b.ON||a.ea==b.GB)&&a.an)e=a.an[f];f=a.Wc(e,c);if(f!=null&&f.vA==g){g=null;g=d?a.ag.vn(e):a.xL.vn(e);a=e=null;d?(e=f.hN,f.hN=null):(e=f.nR,f.nR=null);
e!=null?e=this.wn(e,g):g&&(e=g);if(e!=null)typeof e.CLASS!="undefined"&&(a=e.CLASS);else return!0;f.HD(a);f.Zl(e);return!0}}};b.RT(b.JM,b.Ub)})(c);(function(b){b.IG=function(a,b,f,c,d,g,k){this.iE(a,b,f,c,d,g,k)};b.IG.prototype={iE:function(a,e,f,c,d,g,k){this.Bp=k?k:null;this.qk=e;this.CY=a;this.gk=f?b.ft.Bu(f):null;this.SB=c?b.ft.Bu(c):null;this.hk=d;this.YY=g;this.oh=0}}})(c);(function(b){b.JN=function(){this.length=0;this.Va={}};b.JN.prototype={fw:function(a){this.Va[this.length]=a;this.length++},
ww:function(){if(this.length<=0)return null;this.length--;return this.Va[this.length]}}})(c);(function(b){b.lb=function(a){this.md=a;this.oT=new b.JN;this.IS=0;this.hO={};this.ra=!1;this.WJ={}};b.lb.prototype={Ct:function(a,e,f,c,d,g){var d=this.Pc(d),k=++a.AW,l=this.oT.ww();return l==null?(this.hO[this.IS]=new b.IG(a,e,f,c,d,k,g),this.IS++):(this.hO[l].iE(a,e,f,c,d,k,g),l)},Pc:function(a){a/=this.md;return a>1?a:1},sQ:function(a){var e=this.hO[a];if(!(e.YY<e.CY.AW)){var f=this.WJ[e.CY.ek],c=this.hO[f];
if(c){if(!c.qk)if(e.qk)c.Bp&&b.aL.tk(c.Bp);else if(e.oh=c.oh,e.hk<c.hk)e.hk=c.hk;this.oT.fw(f)}this.WJ[e.CY.ek]=a;if(e.gk)e.EE=b.ft.LM(e.CY.Qs,"backgroundColor");if(e.SB)e.bo=b.ft.LM(e.CY.Qs,"color");this.ra||this.Yi(this.md)}},tc:function(a){var b=this.WJ[a.ek];b&&(delete this.WJ[a.ek],this.oT.fw(b))},JE:function(a){var e=b.gs(),f=0;a&&(f=e-(a+this.md));var a=!1,c;for(c in this.WJ){var d=this.WJ[c],g=this.hO[d];if(g.oh>g.hk)this.oT.fw(d),delete this.WJ[c],g.Bp&&b.aL.kB(g.Bp,0);else{if(g.gk)g.CY.Qs.style.backgroundColor=
"rgb("+this.iF(g.EE[0],g.gk[0],g.hk,g.oh)+","+this.iF(g.EE[1],g.gk[1],g.hk,g.oh)+","+this.iF(g.EE[2],g.gk[2],g.hk,g.oh)+")";if(g.SB)g.CY.Qs.style.color="rgb("+this.iF(g.bo[0],g.SB[0],g.hk,g.oh)+","+this.iF(g.bo[1],g.SB[1],g.hk,g.oh)+","+this.iF(g.bo[2],g.SB[2],g.hk,g.oh)+")";a=!0}g.oh++}a?(c=b.gs(),e=c-e+f,e>this.md&&(f=e/this.md,e=Math.floor(f),f-=e,this.Mf(e),e=this.md*f),this.Of(this.md-e,c)):this.ra=!1},Of:function(a,e){b.aL.Au(this.JE,a,this,[e])},Mf:function(a){for(var b in this.WJ){var f=this.hO[this.WJ[b]];
if(!(f.oh>f.hk))f.oh+a<f.hk?f.oh+=a:f.oh=f.hk}},Yi:function(a){if(this.ra!=!0)this.ra=!0,this.Of(a)},iF:function(a,b,f,c){a=new Number(a);b=new Number(b);return Math.ceil(a+1/f*c*(b-a))}}})(c);(function(b){b.vT=function(a,e,f,c,d){var g=b.aL.YI(typeof d=="string"?function(){eval(d)}:d),a=new b.pu(a),e=b.sO.Ct(a,!1,e,f,c,g);b.sO.sQ(e)}})(c);(function(b){b.bD=function(){this.eM={};this.af="An RGB color value must be in the form 'rgb(x, y, z)' or 'rgba(x, y, z, a)'. ";this.XI=" is not a valid color";
this.cW=" is not a valid value";this.Al=b.gE.getLogger("CC")};b.bD.prototype={QG:function(a){if(a>=0&&a<=9)return new Number(a);a=a.toUpperCase();return a=="A"?10:a=="B"?11:a=="C"?12:a=="D"?13:a=="E"?14:a=="F"?15:(this.Al.error("A hexadecimal number must contain numbers between 0 and 9 and letters between A and F. "+a+this.cW,"setStyle"),null)},Bu:function(a){return a.indexOf("rgb")==0?this.Mu(a):a.indexOf("#")==0?this.YP(a):this.Fi(a)},Hm:function(a){var b=0,f=0,c;for(c=a.length;c>=1;c--){var d=
this.QG(a.substring(c-1,c));if(d==null)return null;var g;for(g=1;g<=f;g++)d*=16;f++;b+=d}return b},YP:function(a){a.indexOf("#")==0&&(a=a.substring(1,a.length));if(a.length==3)a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2);else if(a.length!=6)return this.Al.error("A hexadecimal color value must be 6 character long. "+a+this.XI,"setStyle"),null;var b=a.substring(0,2),f=a.substring(2,4),a=a.substring(4,6);Ya=this.Hm(b);hA=this.Hm(f);Eu=this.Hm(a);return Ya==null||hA==null||
Eu==null?null:[Ya,hA,Eu]},At:function(a){var b=document.createElement("DIV");b.style.backgroundColor=a;var f=this.LM(b,"backgroundColor",a);if(f[0]==255&&f[1]==255&&f[2]==255&&a.toUpperCase()!="WHITE"){var c=document.getElementsByTagName("BODY")[0];c&&(c.appendChild(b),f=this.LM(b,"backgroundColor",a),c.removeChild(b))}this.eM[a]=f;return this.eM[a]},Fi:function(a){var e="";if(this.eM[a])return this.eM[a];if(b.Kh())e=b.Ki.lI(a);else return this.At(a);if(!e||e==""||e==a){var f=document.bgColor;document.bgColor=
a;e=document.bgColor;document.bgColor=f}if(!e||e==""||e==a)return this.At(a);this.eM[a]=this.YP(e);return this.eM[a]},Mu:function(a){var b,f;if(a.indexOf("rgb(")==0)b=4,f=")";else if(a.indexOf("rgba(")==0)b=5,f=",";else return this.Al.error(this.af+a+this.XI,"setStyle"),null;var a=a.substring(b,a.length),c=a.indexOf(",");b=this.Ov(a.substring(0,c));var d=a.indexOf(",",c+1),c=this.Ov(a.substring(c+1,d));f=a.indexOf(f,d+1);a=this.Ov(a.substring(d+1,f));return b==null||c==null||a==null?null:[b,c,a]},
Ov:function(a){if(a.indexOf("%")==a.length-1){a=parseFloat(a.substring(0,a.length-1));if(a>100|a<0)return this.Al.error("An rgb element must be a number >=0 and <=255 or a percentile >=0 and <=100. "+a+this.cW,"setStyle"),null;a*=2.55}return a},LM:function(a,b,f){if(a==null)return[255,255,255];var c="";try{if(window.getComputedStyle||document.defaultView&&document.defaultView.getComputedStyle){var d=document.defaultView.getComputedStyle(a,null);d&&(c=d.getPropertyValue(b=="backgroundColor"?"background-color":
b))}}catch(g){}try{!this.hZ(c,f)&&a.currentStyle&&(c=a.currentStyle[b=="background-color"?"backgroundColor":b])}catch(k){}try{if(!this.hZ(c,f))if(d=b=="background-color"?"backgroundColor":b,a.style[d]!="")c=a.style[d];else return[255,255,255]}catch(l){}if(c=="transparent"&&a.parentNode)return this.LM(a.parentNode,b);else if(c=="transparent")return[255,255,255];return!this.hZ(c,f)?[255,255,255]:this.Bu(c)},hZ:function(a,b){return!a||a==""?!1:b?a!=b?!0:!1:!0}}})(c);(function(b){b.uv=function(){};b.uv.prototype=
{iE:function(){this.length=0;this.pk={};if(!this.Rp)this.JT={}}}})(c);(function(b){b.dm=function(a,e,f){this.hS(b.dm);this.vk=a;this.aH=e;this.GX=f;this.Rp=!0;this.iE()};b.dm.prototype={removeChild:function(a){if(!(this.length<=0))this.length--,delete this.pk[a.ld],this.vk.removeChild(a.Tk()),a.parentNode=null},insertBefore:function(a,b){b!=a&&a&&(b?this.pk[b.ld]==null?this.appendChild(a):(this.JV(a),this.vk.insertBefore(a.Tk(),b.Tk())):this.appendChild(a))},appendChild:function(a){a&&(this.JV(a),
this.aH?this.vk.insertBefore(a.Tk(),this.aH):this.vk.appendChild(a.Tk()))},JV:function(a){if(a.parentNode!=this)this.length++,this.pk[a.ld]=a,a.parentNode&&a.parentNode.removeChild(a),a.parentNode=this},tF:function(a){if(this.length<=a)return null;a+=this.GX;return this.getElementById(this.vk.childNodes[a].getAttribute("id"))},getElementById:function(a){return this.pk[a]},UW:function(){this.vk&&delete this.vk;this.aH&&delete this.aH;for(var a in this.pk)this.pk[a].UW()}};b.RT(b.dm,b.uv)})(c);(function(b){b.CL=
function(){this.hS(b.CL);this.Rp=!1;this.iE()};b.CL.prototype={removeChild:function(a){if(!(this.length<=0)){this.length--;var b;for(b=this.pk[a.ld];b<this.length;b++)this.JT[b]=this.JT[b+1],this.pk[this.JT[b].ld]=b;this.pk[a.ld]=null;this.JT[this.length]=null;a.parentNode=null}},insertBefore:function(a,b){if(b!=a&&a)if(b)if(this.pk[b.ld]==null)this.appendChild(a);else{a.parentNode&&a.parentNode.removeChild(a);var f=this.pk[b.ld];for(th=this.length;th>=f+1;th--)this.JT[th]=this.JT[th-1],this.pk[this.JT[th].ld]=
th;this.JV(a,f)}else this.appendChild(a)},appendChild:function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),this.JV(a,this.length))},JV:function(a,b){this.length++;this.pk[a.ld]=b;this.JT[b]=a;a.parentNode=this;a.LL()},tF:function(a){return this.JT[a]},getElementById:function(a){return this.JT[this.pk[a]]},UW:function(){for(var a=0;a<this.length;a++)this.JT[a].UW()}};b.RT(b.CL,b.uv)})(c);(function(b){b.JR=function(a,b,f,c){this.ld="a|"+a+"|"+f;this.UJ=a;this.qP=f;this.keyCode=c;this.hf=b;this.Fb=
this.parentNode=null};b.JR.prototype={LL:function(){},Tk:function(){if(this.Fb!=null)return this.Fb;var a=b.kx.HA(this.UJ);this.Fb=a.IZ.cloneNode(!0);this.Fb.setAttribute("id",this.ld);for(var e=b.pu.nl(this.Fb),f=0;f<e.length;f++){var c=e[f],d=c.Qs.getAttribute("FIELD");d&&a.Ys(c,this.qP,d,a.ea)}return this.Fb},UW:function(){this.Fb&&delete this.Fb}}})(c);(function(b){b.qF=function(a,e,f,c,d){this.nK=a;this.NZ="The LightstreamerEngine instance is not available";this.HI=this.An=this.SO=null;this.context=
new b.Context(f);this.context.parent=this;this.policy=new b.Policy(c);this.policy.parent=this;this.connection=new b.Connection(e);this.connection.parent=this;this.Qg=new b.XZ(d);this.Qg.parent=this;this.Al=b.gE.getLogger("EH")};b.qF.prototype={BS:function(a){return b.dA.Ib?!0:(this.Al.pE(this.NZ,a),!1)},Pb:function(a){if(this.BS(a))try{return this.nK[a]()}catch(e){this.Al.DU(e,a),this.Al.error(this.NZ,a),b.aL.Au(b.dA.NQp,0,b.dA)}return null},XN:function(a){this.HI=a},jl:function(a,b){this.SO=a;this.An=
b},changeStatus:function(a){a==b.Ip||a==b.ZW||a==b.Xr?this.BS("changeStatus")&&(this.Al.log("changeStatus",a),b.dA.DMB("wXd",a)):this.Al.pE("Please use one of: POLLING, STREAMING, DISCONNECTED","changeStatus")},rJ:function(){this.changeStatus(b.Ip)},xP:function(){this.changeStatus(b.ZW)},Ch:function(){this.changeStatus(b.Xr)},getStatus:function(){return this.BS("getStatus")?this.HI:null},getApplicationName:function(){return this.BS("getApplicationName")?b.Cp.Im:null},getSessionServerName:function(){return this.BS("getSessionServerName")?
this.SO:null},getSessionServerAddress:function(){return this.BS("getSessionServerAddress")?this.An:null},getPushPages:function(){if(this.Pb("getPushPages")==null)return[]},sendMessage:function(a,e,f,c){if(this.BS("sendMessage")){f&&(f=b.kx.Mw(f));if(!b.dA.uS)return!1;if(!e&&e!=0)e="";else if(!b.Hb.test(e))return this.Al.pE("The given sequence name("+e+") is not valid: use only alphanumeric characters plus underscore, or null","sendMessage"),!1;if(c&&isNaN(c)||c==="")return this.Al.pE("The given timeout("+
c+") is not valid: use a number or null","sendMessage"),!1;b.dA.sHJ("aFN",{fo:a,QE:e,OQ:f,Dk:c});return!0}return!1},fr:function(){this.BS("fr")&&b.dA.Yh("fr")}}})(c);(function(b){b.nt=function(a,e){this.kH=e;this.HP=a;b.ms("unload",b.getClosureForNoParams(this.Ae,this))};b.nt.prototype={Ae:function(){try{this.HP.removeChild(this.kH),delete this.kH,delete this.HP}catch(a){}}}})(c);(function(b){b.mb=function(){this.ee=this.ZD=null;this.fV=this.Ha=0;this.Al=b.gE.getLogger("EW")};b.mb.prototype={Mk:function(a,
e,f){if(this.fV!=f)this.Al.log("Mk",0);else{var c=!1,d=null;if(b.dA.Ib)this.Al.log("Mk",1);else if(a){this.Ha++;c=!this.lj(a);if(!c)a.Lightstreamer.Ki?d=a.Lightstreamer.Ki:a.qI?d=a.qI:(this.Al.log("Mk",6),c=!0);if(!c)if(d||(this.Al.log("Mk",8),c=!0),d.gI){if(d.lC==!0){b.Ki.Qe=!1;b.Ki.lC=!0;b.Ki.gI()==null?this.Al.db("This Push-page can't receive real-time data because the corresponding engine could not start"):this.Al.sX(!1,"Mk");this.Al.log("Mk",4);return}d=d.gI();d==null?(this.Al.log("Mk",2),c=
!0):(this.Al.log("Mk",3),e.ef=d,b.Ki.Wu=!1)}else this.Al.log("Mk",7);c&&b.aL.Au(this.Mk,this.Ha<=30?1E3:1E4,this,[a,e,f])}else this.Al.log("Mk",5)}},bS:function(a,b){this.fV++;this.Ha=0;this.Mk(a,b,this.fV)},lj:function(){try{return this.Al.log("lj",0),!0}catch(a){return this.Al.DU(a,"lj",document.domain),!1}},NA:function(){if(!document.getElementsByTagName)return!1;if(this.ee)return this.Al.log("NA",7),!1;this.Al.log("NA",6,b.iR(9,!1)?b.Cp.Cm+b.fN:"about:blank");var a="LS__"+b.Ns();this.ZD=a;this.Al.log("NA",
a);var e=document.getElementsByTagName("BODY")[0];if(!e)return this.Al.error("The createEngine() method should be called in the BODY part of the page, not in the HEAD","createEngine"),!1;var f;try{f=document.createElement("iframe"),f.style.visibility="hidden",f.style.height="0px",f.style.width="0px",f.name=a,b.Kh()?(f.src=b.Cp.hC,e.appendChild(f)):(e.appendChild(f),f.src=b.Cp.hC),this.ee=new b.nt(e,f)}catch(c){return this.Al.DU(c,"NA",5),null}try{if(f.contentWindow){this.Al.log("NA",1);try{f.contentWindow.name=
a}catch(d){}return f.contentWindow}else return document.frames&&document.frames[a]?(this.Al.log("NA",2),document.frames[this.ZD]):(this.Al.log("NA",3),self)}catch(g){return this.Al.DU(g,"NA",4),self}}}})(c);(function(b){c.PushPage=function(){this.context=b.WG;this.Vx=null;this.JK=window;this.TL=2E3;this.Ud=this.Cm=null;this.Pm=!1;this.Cv=0;this.qI=b.Ki;this.hd=0;this.sC=b.AO;this.xC=!0;this.Rj=0;this.Yb=!1;this.ri=0;this.AT=!1;this.Wl=null;this.dG=0;this.bY="The application name is missing";this.Vd=
"createEngine() has already been called";this.YM=!0;this.ef=this.Im=this.hC=null;this.kx=b.kx;this.QZ=b.mR;this.dR=this.dg=null;this.sG=!0;this.Uv=null;this.Al=b.gE.getLogger("PP")};c.PushPage.prototype={Qn:b.Le,setControlRequestTimeout:function(a){this.QZ.uU=this.Qn(a,"setControlRequestTimeout",this.QZ.uU,!0,10)},useFragmentToConfEngine:function(a){this.YM=a!==!1},cs:function(a){this.Al.log("cs",a);this.kx.lZ[a]?delete this.kx.lZ[a]:this.Al.error("No such ScreenTableHelper to be deleted: "+a,"cs")},
Hn:function(a,e,f,c,d){this.qI.Qe=f=="S";this.Im=a;e.charAt(e.length-1)!="/"&&(e+="/");this.Cm=e;this.Ud=f;this.Pm=c===!0;e+="../../Scripts/lsengine.html";this.Al.log("Hn",b.bg,f);if(b.bg&&f!="N"&&(c=this.Bj(f,a))!=!1)return this.Al.log("Hn",1,a,f),this.Cv++,b.aL.Au(this.kw,c.Ah,this,[a,e,f,c,d,this.Pm]),this.ij(this.Im,null),!1;this.Al.log("Hn",0,a,f);this.iJ(e,a,d,this.Pm,f);return!0},Bj:function(a,e,c){var d={Ah:0},h=!1,g=b.gs(),k=b.Zo(b.aJ+e);if(!k)return this.Al.log("Bj",1),!1;for(var l=0;l<
k.length;l++){var m=b.Zo(b.aJ+k[l]+"_"+e);this.Al.log("Bj",2,k[l],m);if(!m||m.length<2)this.FG(k[l],e);else if(!(a=="S"&&m[1]!="S"))if(c&&c[k[l]]){if(m[0]!=c[k[l]])return this.Al.log("Bj",3,m[0],c[k[l]]),!0;this.Al.log("Bj",4)}else{var n=Number(m[0])+b.Dm+2E3-g;this.Al.log("Bj",5,k[l],n);if(n<=-6E4)this.FG(k[l],e);else{if(n<this.TL)n=this.TL;d[k[l]]=m[0];h=!0;d.Ah=d.Ah>n?d.Ah:n}}}return h?(this.Al.log("Bj",6,d),d):(this.Al.log("Bj",7),!1)},FG:function(a,e){b.Hh(b.aJ+a+"_"+e);b.Ri(b.aJ+e,a)},Zm:function(){this.Yb&&
this.FG(this.dg,this.Im)},NM:function(a){var e=b.eG(b.aJ+this.Im,this.dg);if(a&&!e)return!1;e=b.Zo(b.aJ+this.dg+"_"+this.Im);if(a&&e)return!1;else e&&e.length>2?(this.Al.log("NM",1,e),this.OL()):b.KC(b.aJ+this.dg+"_"+this.Im,[b.gs(),this.Ud]);return!0},fO:function(){this.dR=b.aL.Td(this.NM,b.Dm,this)},OL:function(){this.dR&&(b.aL.ul(this.dR),delete this.dR)},iJ:function(a,e,c,d,h){var g=b.dA;if(!g.Ib)if(g.Uq)this.Al.log("iJ",2),b.aL.Au(this.iJ,g.KR,this,[a,e,c,d,h]);else{this.AS();this.dg=b.Ns();
this.qI.lC=!1;if(b.bg){for(;!this.NM(!0);)this.dg=b.Ns();this.fO()}h=this.YM?"#":"?";h+="build=1446.3&";h+="id="+this.dg+"&";b.IK!=null&&b.IK!=""&&(h+="domain="+b.IK+"&");e&&(h+="engineName="+e+"&");d&&(h+="suppressDefaultStatusChangeHandler=true&");c&&this.Vx?(this.Vx.context.ZF||(h+="debugAlerts=false&"),this.Vx.context.vZ||(h+="remoteDebug=false&")):(this.context.ZF||(h+="debugAlerts=false&"),this.context.vZ||(h+="remoteDebug=false&"));b.ObjectTree&&(h+="d=true&");this.hC=a+h;this.ef=self;this.Yb=
!0;this.ri=0;this.Rj++;g.iE(!0);this.Al.log("iJ",1,this.Rj);this.Et(this.Rj)}},Zd:function(a){a>2500?a=2500:a<50&&(a=50);return this.Uv=this.Uv&&this.Uv<a?this.Uv:a},enableFasterSeekEngine:function(a){this.sG=!a},LJ:function(a){var e=100,c=b.gs();a&&this.Wl&&(e+=c-this.Wl-a);this.Wl=c;a=this.Zd(a?a+e:100);this.Uv=null;this.Al.log("LJ",1,e,a);e=this.Rj;this.dG++;b.aL.Au(this.Et,a,this,[e,a])},Et:function(a,e){e&&this.dG--;if(a!=this.Rj||b.dA.Ib)this.Al.xA("Et",5);else if(this.FI(),this.ef==self)this.Al.log("Et",
1),this.LJ(e);else{var c=this.qI.wk();c?(this.Al.log("Et",4),this.Rj++,b.dA.egZ(c,this.Yb)):(this.Al.log("Et",3),this.LJ(e))}},FI:function(){if(this.xC)this.xC=!1,this.qI.oC(),this.Al.log("FI",11);if(this.ef!=self||this.qI.lC)this.Al.sX(this.ef!=self||this.qI.lC!=!0,"FI"),this.Al.log("FI",1);else{if(!this.sC.ee&&(!b.NG.jE()||!b.Kh())){var a=this.sC.NA();if(a){if(a!=self){this.ef=a;this.AT=!0;this.Al.log("FI",4);return}}else{this.Al.log("FI",3);return}}if(this.ef==self&&this.sC.ee)if(b.SK())try{if(window.frames[this.sC.ZD]){this.ef=
window.frames[this.sC.ZD];var e=""+this.ef.location;this.Al.log("FI",8,e,this.hC);if(e.indexOf("../../Scripts/lsengine.html")<0)this.ef.location=this.hC}else this.Al.log("FI",9);return}catch(c){this.Al.DU(c,"FI",10),this.ef=self}else if(!b.Kh())if(this.ef=b.bU(this.hC,this.sC.ZD,!0),this.Al.log("FI",5),this.ef===!1)this.ef=self;else if(this.ef==null&&this.ri<=10){this.ri++;this.ef=self;this.Al.log("FI",6);return}this.Al.log("FI",7)}},ij:function(a,e){var c=b.dA;if(!c.Ib)c.Uq?(this.Al.log("seekEngine",
1),b.aL.Au(this.ij,c.KR,this,[a,e])):(this.AS(),this.Rj++,this.Al.log("seekEngine",a,this.Rj),this.qI.lC=!1,this.qI.Qe=!0,this.qI.IB=!1,this.Im=a,c.iE(!0),this.sC.bS(e,this),this.Et(this.Rj))},kw:function(a,b,c,d,h,g){this.Cv--;if(this.Ud=="N")this.Al.log("kw",1);else if(this.Bj(c,a,d))if(c=="S")this.ij(a,null);else{this.Al.error("An application with this engine name("+a+") already exists within this browser.\nThis Push-page can't receive real-time data because the corresponding engine could not start",
"createEngine");if(this.onEngineCreation)try{this.onEngineCreation(null)}catch(k){this.Al.ET(k,this.onEngineCreation,"onEngineCreation")}this.qI.lC=!0}else this.Yb&&!h?this.Al.error(this.Vd,"createEngine"):this.iJ(b,a,h,g,c)},LD:function(a){this.TL=a?1E4:2E3;this.Vx.context.gE=null;this.AS()},AS:function(){this.Yb=this.AT=!1;this.ef=null;var a=this.sC.ee;if(a)this.sC.ee=null,b.aL.Au(a.Ae,6E4,a);this.OL()},Ci:function(){return this.Cm&&!this.Yb&&this.Ud=="S"},Dr:function(){this.Ci()&&this.Hn(this.Im,
this.Cm,"N",this.Pm,!1)},nm:function(a){if(this.onClientError)try{this.onClientError(a)}catch(b){this.Al.DU(b,"nm")}}};c.PushPage.prototype.isMasterPushPage=function(){return b.dA.Gq};c.PushPage.prototype.onEngineLost=function(){};c.PushPage.prototype.setCheckEngineTimeout=function(a){this.qI.CV=this.Qn(a,"setCheckEngineTimeout",a,!0,10)};c.PushPage.prototype.getTable=function(a){return(a=this.QZ.KT(a))&&a.ea!==b.aR?a:null};c.PushPage.prototype.getTables=function(){var a={},e;for(e in this.QZ.Nu){var c=
this.QZ.KT(e);c&&c.ea!==b.aR&&(a[e]=c)}return a};c.PushPage.prototype.onServerDeny=function(a,b){alert("Subscription Error.\n"+b+"(code "+a+").")};c.PushPage.prototype.onClientError=function(){};c.PushPage.prototype.onClientAlert=function(a,e){b.aL.Au(alert,0,null,["Warning "+a+"\n"+e])};c.PushPage.prototype.createEngine=function(a,e,c,d){this.GV?this.Al.pE(this.Vd,"createEngine"):(a?b.Sk.test(a)?e?b.Cp==null?this.Al.pE("Can't create the Engine if PushPage is not bound. Please call the bind() method of PushPage before",
"createEngine"):b.Cp!=this?this.Al.pE("There should be only one instance of PushPage per each HTML page. Can't create the Engine if a different PushPage is bound. Please call the createEngine() of that PushPage","createEngine"):c!="SHARE_SESSION"&&c!="FAIL"&&c!="NEW_SESSION"&&(typeof c!="undefined"&&this.Al.pE("onSimilarEngineFound must be one of: SHARE_SESSION, FAIL, NEW_SESSION.","createEngine"),c="NEW_SESSION"):this.Al.pE("Cannot load the Engine without a path","createEngine"):this.Al.pE("The given engine name("+
a+") is not valid: use only alphanumeric characters","createEngine"):this.Al.pE(this.bY,"createEngine"),c=c.substr(0,1),this.GV=!0,this.Hn(a,e,c,d,!1))};c.PushPage.prototype.seekEngine=function(a,e){this.GV?this.Al.pE(this.Vd,"seekEngine"):(a?b.Sk.test(a)||this.Al.pE("The given engine name("+a+") is not valid: use only alphanumeric characters","createEngine"):this.Al.pE(this.bY,"seekEngine"),this.GV=!0,this.ij(a,e))};c.PushPage.prototype.bind=function(){this.Al.xA("bind");b.OH({qKn:"28442324223623531823424",
Tqf:"52312352492633183053182",extraN1:"58412404420380382389392"});b.YX=b.LG(""+b.qKn+b.Tqf+b.extraN1,"document",51,6,500);b.OH({extraV1:"93449415449423434431426",extraV2:"40141541541141541443278"});b.px=b.LG(""+b.qKn+b.Tqf+b.extraN1+b.extraV1+b.extraV2,"document",74,5,500);if(b.Cp==this)return this.Al.error("This object is already bound","bind"),!1;if(this.context.bind()){b.Cp=this;b.gE.Wg(this.nm,this);window.console&&window.console.firebug&&b.gE.Yd(this,130,"Firebug is known to cause performance and memory issues with Lightstreamer.");
if(b.FlashBridge)for(var a in b.FlashBridge.bridges)b.FlashBridge.bridges[a].iL();return!0}else return!1};c.PushPage.prototype.getWindowReference=function(){return this.JK};c.PushPage.prototype.cellOverwrite=function(a,e,c,d,h,g,k,l){b.cellOverwrite(a,e,c,d,h,g,k,l)};c.PushPage.prototype.cellScroll=function(a,e,c,d,h,g,k,l){b.cellScroll(a,e,c,d,h,g,k,l)};c.PushPage.prototype.cellMetapush=function(a,e,c,d,h,g,k,l){b.cellMetapush(a,e,c,d,h,g,k,l)};c.PushPage.prototype.addTable=function(a,e){(!a||!e&&
e!==0)&&this.Al.pE("Table Object And/Or Table id is null","addTable");a.JX!="COMMAND"&&a.JX!="MERGE"&&a.JX!="DISTINCT"&&a.JX!="RAW"&&this.Al.pE(a.JX+" is not a valid subscription mode. Admitted values are MERGE, DISTINCT, RAW, COMMAND","addTable");b.Cp==null&&this.Al.pE("Can't add a table if PushPage is not bound. Please call the bind() method of PushPage before adding tables","addTable");return this.QZ.RR(a,e)};c.PushPage.prototype.addScreenTableHelper=function(a){this.Al.log("addScreenTableHelper",
a);this.kx.lZ[a.bA]?this.Al.error("ScreenTableHelper already set for "+a.bA+", add new cells to the previously provided ScreenTableHelper","addScreenTableHelper"):this.kx.lZ[a.bA]=a};c.PushPage.prototype.removeTable=function(a){this.Al.log("removeTable",1,a);return!this.QZ.KT(a)?(this.Al.error("No table to delete with id "+a,"removeTable"),null):this.QZ.UY(a)};c.PushPage.prototype.onEngineCreation=function(){};c.PushPage.prototype.onEngineReady=function(){}})(c);(function(b){b.qM=function(a){this.Nu=
{};this.rf={};this.hd=1;this.BW=a;this.uU=2E3;this.Al=b.gE.getLogger("TL")};b.qM.prototype={Zu:function(a){return this.KT(this.rf[a])},KT:function(a){return a&&this.Nu[a]?this.Nu[a]:null},RR:function(a,e){if(a.Tp!=b.vd)return this.Al.error("Can't add a table that is already in 'running' state. Please add the table instance only once ["+e+"]","addTable"),null;this.Al.log("RR",0,a,e);var c=this.Nu[e];c&&(c=this.UY(e));if(!a.Iq(e,++this.hd))return this.Al.log("RR",1),a.NB(),c;this.Nu[e]=a;a.Tw();this.BW.uS&&
this.ue(a);this.Al.log("RR",2);return c},UY:function(a){var e=this.Nu[a];if(!e)return this.Al.xM("UY",a,1),null;if(e.Tp==b.vd)return this.Al.xM("UY",a,2),null;else if(e.Tp==b.RI||e.Tp==b.ql)this.Al.sX(this.BW.Ib,"UY",4,a),this.Al.log("UY",2,a,e),e.uE?this.BW.ZjS("EV",{CF:e.uE}):this.BW.ZjS("EV",{bA:a,uV:this.BW.gp});e.uE&&delete this.rf[e.uE];e.NB();delete this.Nu[a];return e},ue:function(a,e,c){if(e){if(a.Tp!=b.NJ){this.Al.log("ue",1);return}if(e!=this.BW.FK){this.Al.log("ue",2);return}if(c!=a.TM){this.Al.log("ue",
3);return}}else a.Tp!=b.aT&&this.Al.sX(!1,"ue"),a.Sn();this.Al.log("ue",4);b.aL.Au(this.ue,this.uU,this,[a,this.BW.FK,a.TM]);this.BW.ZjS("LvW",{BG:a.BG,bA:a.ld,TM:a.TM,uV:this.BW.gp,uu:a.uu,vY:a.js})},TB:function(a,e,c,d){var h=this.Nu[a];!h||h.Tp!=b.NJ||h.BG!=c||h.TM!=d?this.Al.log("TB",1,c,d,h):(h.TB(e),this.rf[e]=a,this.Mt(h))},Mt:function(a,e,c,d,h,g){if(a.Tp!=b.RI)this.Al.log("Mt",1);else{if(e){if(e!=this.BW.FK||a.BG!=d||a.TM!=h)return this.Al.log("Mt",1,e,this.BW),!1;g++}else g=1;e=c?c*2:this.uU;
this.Al.log("Mt",3,e,a);a.PZ=b.aL.YI(this.Mt,this,[a,this.BW.FK,e,a.BG,a.TM,g]);a.Xc=e;this.BW.ZjS("jWj",{uV:this.BW.gp,CF:a.uE,hQ:g})}},se:function(){this.Al.log("se");for(var a in this.Nu)this.ue(this.Nu[a])},AC:function(a){a.Tp==b.vd||a.ea===b.aR?(this.Al.log("AC",1,a),this.Al.sX(a.Tp!=b.vd,"AC")):(this.Al.log("AC",2,a),delete this.rf[a.uE],a.cA())},Xx:function(){this.Al.log("Xx",1);for(var a in this.Nu)this.AC(this.Nu[a]);this.rf={}}}})(c);(function(b){c.ScreenTableHelper=function(e,c){this.bA=
e;this.Al=b.gE.getLogger("TL");this.qC=!1;this.Uw=[];if(c)for(var d=0;d<c.length;d++)this.addCell(c[d]);this.fL=a;this.vE=document};c.ScreenTableHelper.prototype={addCell:function(a){var c=a.getAttribute("table");!c||c!=this.bA?this.Al.pE("The cell does not belong to the '"+this.bA+"' screen table","addCell"):(this.qC=!0,this.Uw[this.Uw.length]=new b.pu(a))},setNodeTypes:function(a){a&&a.length>0?this.fL=a:this.Al.pE("The given array is not valid or empty","setNodeTypes")},setRootNode:function(a){a&&
a.getElementsByTagName?this.vE=a:this.Al.pE("The given root element is not valid","setRootNode")}};var a=["div","span","input"];b.ScreenTableHelper.dC=a})(c);(function(b){b.oI=function(a){this.ld=a;this.aE=this.ea=null;this.IJ=0;this.ab=new b.am;this.Kv=new b.am;this.UP=new b.am;this.ag=new b.am;this.xL=new b.am;this.Lv=new b.am;this.jC=new b.am;this.vc=0;this.dj=new b.am;this.wm=new b.am;this.qi=new b.am;this.fp=new b.am;this.an={};this.Nr={};this.Hc=1;this.wY=[];this.XC={};this.Xf={};this.sP=0;
this.Al=b.gE.getLogger("ST")};b.oI.prototype={BL:function(a){if(this.ea!=null&&this.ea!=a.ea)return this.Al.error("A Data Table cannot be associated with a Screen Table that was previously associated with a Data Table of a different type","addTable"),!1;this.aE=a;this.MH=a.MH;if(this.ea==null)this.ea=a.ea;return!0},Ys:function(a,e,c,d){if((d.indexOf(b.ON)>-1||d.indexOf(b.GB)>-1)&&this.vc<e)this.vc=e;this.IJ++;this.insertCell(a,e,c)},insertCell:function(a,b,c){this.ab.YQ(a,b,c)},Wc:function(a,b){return this.ab.ww(a,
b)},deleteCell:function(a,b){this.ab.jK(a,b)},Xs:function(a,e){tY=this.Lv.ww(a,e);if(!tY)tY=b.Es;b.kx.eX(this.ld,a,e,tY,b.LO,this.xL.vn(a),!0)},mi:function(a){return this.ab.vn(a)},bc:function(){return this.ab.JO()},PB:function(a,b){b&&this.ab.AP(a);this.qi.AP(a);this.fp.AP(a);this.dj.AP(a);this.Kv.AP(a);this.UP.AP(a);this.xL.AP(a);this.ag.AP(a);this.wm.AP(a);delete this.XC[a];delete this.Xf[a];var c=this.Nr[a];c&&(delete this.an[c],delete this.Nr[a])},iu:function(a){if(a!=0){var b=this.sP-this.Hc+
1;if(!(b<=a)){a=b-a;for(b=1;b<=a;b++)this.GL()}}},GL:function(){this.Al.sX(this.aE,"GL");var a=this.sP-this.Hc+1;if(a<=0)return 0;var e=this.wY.shift();if(this.aE&&this.aE.onChangingValues)try{this.aE.onChangingValues(e,null)}catch(c){this.Al.ET(c,this.aE.onChangingValues,"onChangingValues")}e&&b.pu.Wi(e)&&e.parentNode.removeChild(e);this.PB(this.Hc,!0);this.Hc++;return a-1},vr:function(a,b,c){var d=this.aE,h=d.WX.vn(a),g;for(g in h){var k=d.dZ[g];k!=null&&(this.fp.YQ(d.eE.ww(a,g),b,k),h[g]!==null?
this.qi.YQ(h[g],b,k):c&&this.qi.YQ(null,b,k))}},HM:function(a,e,c,d){if(a!=e){var h;d&&(h=this.Ax(a,null));do{var g=a;a+=c;this.Ax(a,g)}while(a!=e);d&&(this.Al.sX(this.ea==b.GB,"HM",1),this.Ax(null,e,h))}},Ax:function(a,e,c){var d={ks:{}},h;h=a?this.qi.vn(a):c.qi;for(var g in h)d.ks[g]=c&&c.ks[g]?this.ZZ(a,e,g,c.ks[g]):this.ZZ(a,e,g);var k,l,m,n,o,r;if(a)h=this.ag.vt(a),g=this.xL.vt(a),l=this.Kv.vt(a),k=this.UP.vt(a),n=this.qi.vt(a),o=this.fp.vt(a),r=this.dj.vt(a),pj=this.wm.vt(a),this.aE.XR&&(m=
this.aE.XR[a]);else if(h=c.ag,g=c.xL,l=c.Kv,k=c.UP,n=c.qi,o=c.fp,r=c.dj,pj=c.wm,this.aE.XR)m=c.XR;if(e)this.ag.insertRow(h,e),this.xL.insertRow(g,e),this.Kv.insertRow(l,e),this.UP.insertRow(k,e),this.qi.insertRow(n,e),this.fp.insertRow(o,e),this.dj.insertRow(r,e),this.wm.insertRow(pj,e),this.aE.XR&&(this.aE.XR[e]=m);else if(d.ag=h,d.xL=g,d.Kv=l,d.UP=k,d.qi=n,d.fp=o,d.dj=r,d.wm=pj,this.aE.XR)d.XR=m;if(a&&e&&this.aE&&(a=b.Zp,a.iE(this.aE,this.Nr[e],e),this.aE.onRowUpdate))try{this.aE.onRowUpdate(e,
a)}catch(q){this.Al.ET(q,this.aE.onRowUpdate,"onRowUpdate")}return d},ZZ:function(a,e,c,d){var d=a?this.Wc(a,c):d,h;e&&(h=this.Wc(e,c));h||(h=document.createElement("div"),h=new b.pu(h));e&&this.insertCell(h,e,c);var g,k=!1;if(a){g=this.dj.ww(a,c);var l=this.wm.vn(a);if(g)for(var m in l)g[m]||(g[m]=1);else g=l;a=this.qi.ww(a,c);a===null&&(e&&(a=this.Lv.ww(e,c)),k=!0)}else g=d.rR,a=d.LY?null:d.er();h.hN=d.hN;h.nR=d.nR;h.UN=d.UN;h.RL=d.RL;h.vA=d.vA;h.Qs.className=d.Qs.className;for(m in g)h.Qs.style[m]=
d.Qs.style[m];if(e){d=this.dj.ww(e,c);for(m in d)g[m]||(h.Qs.style[m]="");a===null&&(a=this.Lv.ww(e,c));b.kx.eX(this.ld,e,c,a,b.TN,null,k)}else h.LY=a==null,h.LY||h.Ur(a),h.rR=g;return h},UW:function(){this.aE&&this.aE.fd&&this.aE.fd.appendChild&&delete this.aE.fd;var a=this.bc(),b;for(b in a)for(var c in a[b])a[b][c].UW();this.lh&&delete this.lh;this.RB&&delete this.RB;this.IZ&&delete this.IZ;this.TD&&delete this.TD;this.kM&&delete this.kM;this.tU&&(this.tU.UW?this.tU.UW():delete this.tU);this.wO&&
this.wO.UW();this.gV&&this.gV.UW();for(b in this.XC)this.XC[b]&&this.XC[b].UW&&this.XC[b].UW()}}})(c);(function(b){b.PO=function(a){this.hS(b.PO,a);this.ea=b.rU};b.PO.prototype={BL:function(a){if(a.ea!=b.rU)return this.Al.error("A Data Table cannot be associated with a Screen Table that was previously associated with a Data Table of a different type","addTable"),!1;this.aE=a;return!0}};b.RT(b.PO,b.oI)})(c);c.OH({vd:1,NJ:2,RI:3,ql:4,aT:5});(function(b){c.Table=function(a,e,c){this.ug=a?b.GroupDescriptor.ih(a):
null;this.QI=e?b.SchemaDescriptor.Kx(e):null;this.JX=(new String(c)).toUpperCase();this.Uk=!1;this.uE=this.Lx=this.KV=this.eJ=this.HS=this.ti=this.tI=null;this.eE=new b.am;this.WV=new b.am;this.WX=new b.am;this.IA=null;this.Qo=new b.am;this.Tp=b.vd;this.ld=null;this.js="";this.TM=0;this.BG=null;this.vA=0;this.EJ=3E3;this.uu=0;this.ea=null;this.Vq="This method must be called at runtime. See the documentation for further details";this.oB="This method cannot be called at runtime. See the documentation for further details";
this.Al=b.gE.getLogger("TL");this.QT=0};c.Table.prototype={Qn:b.Le,fW:b.KJ,Iq:function(a,e){this.Al.log("Iq",a,e);this.Tp=b.aT;this.BG=e;this.ld=a;this.TM++;this.QT++;this.Al.sX(this.QT==1,"Iq",1,this.QT,this);return!0},Sn:function(){this.uE=null;this.TM++;this.Xc=this.PZ=null;this.Tp=b.NJ;this.Al.log("Sn",this)},TB:function(a){this.Al.log("TB",a);this.uE=a;this.Tp=b.RI},cA:function(){this.Tp=b.aT;this.EM();this.Al.log("cA",this)},NB:function(){this.Tp=b.vd;this.BG=null;this.EM();delete this.js;this.QT--;
this.Al.sX(this.QT==0,"NB",1,this.QT,this);this.Al.log("NB",this)},EM:function(){this.uE=null;this.QI&&this.QI.reset();this.Xc=this.PZ=null;this.Al.log("EM",this)},wN:function(){this.Tp=b.ql;if(this.onStart)try{this.onStart()}catch(a){this.Al.ET(a,this.onStart,"onStart")}},Tq:function(){return this.Tp!=b.vd},PV:function(){return this.Tp==b.ql},oc:function(){this.ug||this.Al.pE("Cannot initiate a "+this.getClassName()+" without a group",this.getClassName())},fG:function(){this.QI||this.Al.pE("Cannot initiate a "+
this.getClassName()+" without a schema",this.getClassName())},Tw:function(){this.js="LS_mode="+this.JX+"&LS_id="+b.Zk(this.ug.hw())+"&LS_schema="+b.Zk(this.QI.Pf())+"&";this.Lx!=null&&(this.js+="LS_data_adapter="+b.Zk(this.Lx)+"&");this.KV!=null&&(this.js+="LS_selector="+b.Zk(this.KV)+"&");this.HS!=null&&(this.js+="LS_start="+this.HS+"&");this.eJ!=null&&(this.js+="LS_end="+this.eJ+"&");this.Uk!=null&&this.Uk!=!1&&(this.js+="LS_snapshot="+this.Uk+"&");if(this.tI!=null){var a=this.tI;a=="unfiltered"?
this.js+="LS_requested_max_frequency="+a+"&":a!="unlimited"&&a>0&&(this.js+="LS_requested_max_frequency="+a+"&")}if(this.ea.indexOf(b.Di)>-1)this.tf=this.tI;if(this.ti!=null)a=this.ti,a!="unlimited"&&a>0&&(this.js+="LS_requested_buffer_size="+a+"&");this.Al.log("Tw",this.js)},getSchema:function(){return this.QI},getGroup:function(){return this.ug},setDataAdapter:function(a){this.Al.log("setDataAdapter",arguments);this.Lx=a},getId:function(){return this.ld},setSelector:function(a){this.Al.log("setSelector",
arguments);this.KV=a},hI:function(){return this.KV},setItemsRange:function(a,b){this.HS=this.Qn(a,"setItemsRange",this.HS,!0,1);this.eJ=this.Qn(b,"setItemsRange",this.eJ,!0,this.HS)},Tn:function(){return[this.HS,this.eJ]},setRequestedMaxFrequency:function(a){a=new String(a);a=a.toLowerCase();this.tI=a=="unfiltered"||a=="unlimited"?a:this.Qn(a,"setRequestedMaxFrequency",this.tI,!1,0)},WR:function(){return this.tI},setRequestedBufferSize:function(a){a=new String(a);a=a.toLowerCase();this.ti=a=="unlimited"?
a:this.Qn(a,"setRequestedBufferSize",this.ti,!0,0)},as:function(){return this.ti},setSnapshotRequired:function(a){a===!0||a===!1?this.Uk=a:this.JX=="DISTINCT"?this.Uk=this.Qn(a,"setSnapshotRequired",this.Uk,!0,0):this.Al.pE("Numeric values are only allowed when the subscription mode is DISTINCT","setSnapshotRequired")},jB:function(){return this.Uk},onItemUpdate:function(){},onLostUpdates:function(){},onEndOfSnapshot:function(){},onStart:function(){},getClassName:function(){return null},HN:function(a,
e,c){if(this.ea==b.aR)return this.uW.Vw.YA(a.length-2),a=this.sPd(a),a==null?!0:this.uW.HN(a,e,!0);c||this.QI.YA(a.length-2);this.vA++;if(this.vA>=this.EJ)this.vA=0,this.dK&&this.dK();var d=a[1],h=new String(d);if(this.ea.indexOf(b.GB)>-1&&(h=this.Ppf(a,d,c),h==null))return h;this.ea.indexOf(b.Di)>-1&&!c&&this.DF(a);this.JH(h);if(this.onItemUpdate){b.ZM.iE(this,h,a,e);e=this.ug.EC(d);try{this.onItemUpdate(d,b.ZM,e)}catch(g){this.Al.ET(g,this.onItemUpdate,"onItemUpdate")}}if(!this.Tq())return h;this.ga(h,
a);return h},JH:function(a){var e=this.WV.vn(a),c;for(c in e){var d=c,d=c.indexOf("|rem");d>-1&&d==c.length-4?(d=c.substring(0,c.length-4),this.ea.indexOf(b.ON)>-1?this.WX.YQ(this.WV.ww(a,c),a,d):this.WX.YQ(null,a,d)):(this.WV.jK(a,c),this.ps(null,a,c))}},hu:function(a){return a==null?"":a.length===-1?null:a},ps:function(a,b,c){a=this.hu(a);a!=null&&this.IA.push(c);this.WX.YQ(a,b,c)},ga:function(a,e){this.IA=[];for(var c=e.length-2,d=1,h=2;d<=c;d++,h++)e[h]==null?this.eE.YQ(null,a,d):e[h]!==b.OJ&&
this.eE.YQ(e[h],a,d),this.ps(e[h],a,d);var h={},g=this.WV.vn(a);for(d in g){var k=d.indexOf("|rem");k>-1&&k==d.length-4&&(d=d.substring(0,d.length-4));h[d]=!0;this.Mi(a,d,g)}k=this.WX.vn(a);for(d in k)d<=c||h[d]!=!0&&this.Mi(a,d,g)},Mi:function(a,e,c){var d;c?(d=c[e],typeof d=="undefined"&&(d=c[e+"|rem"],typeof d=="undefined"&&(d=null))):d=null;this.eE.ww(a,e)==d?this.ps(b.OJ,a,e):(this.eE.YQ(d,a,e),this.ps(d,a,e))}}})(c);(function(b){c.VisualTable=function(a,e,c){this.hS(b.VisualTable,a,e,c);this.po=
this.QI?!1:!0;this.aE=null;this.MH=!1;this.oo=!0;this.MQ=this.Bb=!1;this.ea=this.dZ=this.II=null;this.at=!0;this.Ks=!1;this.Al.log("VisualTable",arguments)};c.VisualTable.prototype={Iq:function(a,e){if(!this.Xb(b.VisualTable,"Iq",a,e))return!1;if(!this.VBF())return!1;if(!this.je())return!1;this.Jd();this.Ks=!1;this.oo&&this.jN();return!0},Jd:function(){},je:function(){},NB:function(){this.Xb(b.VisualTable,"NB");this.Bb&&this.jN();this.po?this.QI=null:this.QI.sm();this.aE=null},cA:function(){this.Xb(b.VisualTable,
"cA");this.Ks=!0;this.MQ&&this.jN()},jN:function(){this.at=!0;this.eE=new b.am;this.WV=new b.am;this.WX=new b.am;this.Qo=new b.am;return!0},wN:function(){this.Xb(b.VisualTable,"wN");this.Ks&&this.oo&&this.jN();this.at=!1},setClearOnRemove:function(a){this.Bb=a?!0:!1},of:function(){return this.Bb},setClearOnDisconnected:function(a){this.MQ=a?!0:!1},uQ:function(){return this.MQ},setClearOnAdd:function(a){this.oo=a?!0:!1},gt:function(){return this.oo},setPushedHtmlEnabled:function(a){this.Tq()&&this.Al.pE(this.oB,
"setPushedHtmlEnabled");this.MH=this.fW(a,"setPushedHtmlEnabled",this.MH)},isPushedHtmlEnabled:function(){return this.MH},showValues:function(a,e){this.Tq()||this.Al.pE(this.Vq,"showValues");this.IA=[];this.at=!1;var c=this.ug.FZ(a),d=c,h=[],g={},k;for(k in e){var l=this.QI.PE(k);g[l]=this.reP(e[k]);this.IA.push(l);typeof l=="number"&&(l+=1);h[l]=e[k]}this.ea.indexOf(b.GB)>-1&&(typeof h[this.keyCode+1]=="undefined"?this.Al.pE("Key position is not set correctly","showValues"):typeof h[this.hv+1]==
"undefined"?this.Al.pE("Command position is not set correctly","showValues"):h[this.hv+1]=="DELETE"&&this.Al.pE("For Metapush and DynaMetapush tables, only UPDATE commands are admitted in showValues","showValues"),d=c+"|"+h[this.keyCode+1],this.ea.indexOf(b.QR)>-1?this.aE.XC[d]||this.Al.pE("For Metapush and DynaMetapush tables, only UPDATE commands are admitted in showValues","showValues"):this.aE.an[d]||this.Al.pE("For Metapush and DynaMetapush tables, only UPDATE commands are admitted in showValues",
"showValues"));this.WX.insertRow(g,d);this.Qo.AP(d);this.oU(d,h,!0)},reP:function(a){return typeof a=="undefined"?null:a==null?"":a},VBF:function(){var a=b.kx.HA(this.ld,this.ea);this.aE=a;if(!a.BL(this))return!1;this.Al.log("VBF",2,this.MH);return!0},dK:function(){var a=new String(this.js);delete this.js;this.js=a;a=null;a=b.am.Eb(this.eE,!1);delete this.eE;this.eE=a;a=null;a=b.am.Eb(this.WV,!1);delete this.WV;this.WV=a;a=null;a=b.am.Eb(this.WX,!1);delete this.WX;this.WX=a;a=null;a=b.am.Eb(this.Qo,
!1);delete this.Qo;this.Qo=a;if(this.II)a=null,a=b.gJ(this.II,!1),delete this.II,this.II=a;if(this.dZ)a=null,a=b.gJ(this.dZ,!1),delete this.dZ,this.dZ=a;if(this.XR)a=null,a=b.VN(this.XR,!1),delete this.XR,this.XR=a},HN:function(a,e,c){e=this.Xb(b.VisualTable,"HN",a,e,c);this.oU(e,a,!1);return e},Vh:function(a){var e=[];this.JX=="COMMAND"&&(a.command||e.push("command"),a.key||e.push("key"));for(var c in a)c.indexOf("#")!=0&&(c.indexOf("$")==0&&this.ea.indexOf(b.Di)>-1||e.push(c));this.QI=new b.SchemaListDescriptor(e)},
mQ:function(a){var e=[],c;for(c in a)c.indexOf("$")==0&&e.push(c.substr(1));this.Vw=new b.SchemaListDescriptor(e)},lT:function(){var a=this.GIe();this.po&&this.Vh(a);this.sr&&this.mQ(a);this.Vw&&this.QI.Id(this.Vw);this.dZ={};for(var b in a)this.dZ[this.QI.PE(b)]=b},AJ:function(a,e,c,d,h){var g=this.ld,k=h.kN,l=k+h.Lt,m=l+h.QW,n=[],o=b.kx,r=b.aL,q=b.sO,u=this.aE,t=u.Kv.vn(e),p=u.UP.vn(e);t!=null?(u.ag.insertRow(t,e),u.Kv.AP(e),u.xL.insertRow(p,e),u.UP.AP(e)):(t=u.ag.vn(e),p=u.xL.vn(e));var w=!1,x,
A,B,y;if(t!=null){if(t.backgroundColor)w=!0,x=t.backgroundColor,A=p.backgroundColor;if(t.color)w=!0,B=t.color,y=p.color}var t=this.WX.vn(a),s;for(s in t){var z=t[s],p=this.Qo.ww(a,s);z==null&&p?this.WX.YQ(p,a,s):(this.WX.YQ(z,a,s),this.Qo.YQ(z,a,s));if(this.WX.ww(a,s)!=null||d)if(p=this.dZ[s],p!=null){var v=u.Wc(e,p);v==null&&(v=document.createElement("div"),v=new b.pu(v),u.insertCell(v,e,p));if(this.ea==b.Qd)v.Md=z;v.hN=v.UN;v.nR=v.RL;v.UN=null;v.RL=null;v.vA++;if(v.hN||u.ag.vn(e)!=null){var D=!1,
F=!1,z=!1,E=x,C=A,G=B,H=y;if(v.hN){if(v.hN.backgroundColor)D=!0,E=v.hN.backgroundColor,C=v.nR.backgroundColor;if(v.hN.color)D=!0,G=v.hN.color,H=v.nR.color}if(D||w)h.kN>0?(F=r.YI(o.MI,o,[g,a,e,c,s,d,this.BG]),E=q.Ct(v,!1,E,G,h.kN,F),q.sQ(E),F=!0):q.tc(v),h.QW>0&&(p=this.dZ[s],z=r.YI(o.PL,o,[g,e,c,p,!1,v.vA]),E=q.Ct(v,!0,C,H,h.QW,z),r.Au(q.sQ,l,q,[E]),z=!0);F||(C=[g,a,e,c,s,d,this.BG],k>0?r.Au(o.MI,k,o,C):(C=r.YI(o.MI,o,C),n.push(C)));z||r.Au(o.PL,m,o,[g,e,c,p,!1,v.vA])}else C=[g,a,e,c,s,d,this.BG],
k>0?r.Au(o.MI,k,o,C):(C=r.YI(o.MI,o,C),n.push(C))}}for(a=0;a<n.length;a++)r.tk(n[a])}};b.RT(b.VisualTable,b.Table)})(c);(function(b){b.Fs=function(){};b.Fs.iC=function(a,b){return a-b};b.Fs.prototype={RH:function(){if(this.ea.indexOf(b.GB)>-1){if(this.po)this.keyCode=this.hv=null;if(this.hv==null)this.hv=this.QI.Yp("command");if(this.keyCode==null)this.keyCode=this.QI.Yp("key");this.keyCode==null?this.Al.error("Key position is not set correctly for a COMMAND mode subscription. Please specify a field that represents the Key",
"addTable"):this.hv==null&&this.Al.error("Command position is not set correctly for a COMMAND mode subscription. Please specify a field that represents the Command","addTable")}},pT:function(a,b){this.Al.log("pT",arguments);this.Tq()&&this.Al.pE(this.oB,"setMetapushFields");this.hv=this.Qn(a,"setMetapushFields",this.hv,!0,1);this.keyCode=this.Qn(b,"setMetapushFields",this.keyCode,!0,1)},Ppf:function(a,e,c){var d;if(typeof a[this.keyCode+1]=="undefined"||typeof a[this.hv+1]=="undefined")return this.Al.db("Command or Key position is not set correctly",
"Server Update"),null;d=a[this.keyCode+1].length==-1?e+"|"+this.eE.ww(e,this.keyCode):e+"|"+a[this.keyCode+1];if(c)a[this.keyCode+1]=b.OJ,a[this.hv+1]==this.eE.ww(d,this.hv)?a[this.hv+1]=b.OJ:(a.bZ.push(this.hv),a.bZ.sort(b.Fs.iC));else{a.bZ=[];for(c=2;c<a.length;c++)a[c]&&a[c].length==-1?a[c]=this.eE.ww(e,c-1):this.eE.YQ(a[c],e,c-1),a[c]==this.eE.ww(d,c-1)?a[c]=b.OJ:a.bZ.push(c-1);if(this.ea.indexOf(b.Di)>-1&&(e=this.QI.length+this.QI.Oc.length+2,e>a.length))for(c=a.length;c<e;c++)a[c]=b.OJ}return d}}})(c);
(function(b){b.Fv=function(){};b.Fv.prototype={Jd:function(){this.Al.log("Jd");this.lT();this.RH()},SD:function(a,e,c,d){this.Al.log("SD",arguments);a?(this.rZ=this.QI.PE(a),this.gl=e?!0:!1,this.JL=c?!0:!1,this.fY=d?!0:!1,this.Tq()&&this.ea.indexOf(b.QR)>-1&&this.Uo()):this.rZ=null},jvU:function(){return!this.rZ||typeof this.rZ=="string"?null:this.rZ},jEk:function(){return this.rZ==null?null:this.QI.En(this.rZ)},qEp:function(){return this.rZ==null?null:this.gl},ABP:function(){return this.rZ==null?
null:this.JL},CvC:function(){return this.rZ==null||!this.JL?null:this.fY},gjK:function(){return this.hv},gsY:function(){return this.keyCode},hLr:function(a){return this.JL?b.tw(a,this.fY):a},tun:function(a,b){return(a==null||b==null)&&a!=b?a==null?!this.gl:this.gl:this.gl?a>b:a<b}};b.RT(b.Fv,b.Fs,"O")})(c);(function(b){b.vM=function(){};b.vM.prototype={RA:function(a){var e=this.ea.indexOf(b.hD)>-1;a!=null?this.Vw=b.SchemaDescriptor.Kx(a):e?this.Al.pE("You must specify the under schema for NonVisualTable objects",
"NonVisualTable"):this.sr=!0;(this.po||this.QI.getList)&&(this.sr||this.Vw&&this.Vw.getList)||this.QI.getId&&this.Vw&&this.Vw.getId||this.Al.pE("Schema and UnderSchema should be of the same type","MultiDynaMetapushTable")},aF:function(){for(var a in this.UL)for(var b in this.UL[a])this.hc(a,b)},DF:function(a){var e=a[1],c=a[this.keyCode+1].length==-1?this.eE.ww(e,this.keyCode):a[this.keyCode+1],a=a[this.hv+1];if(this.UL[e]&&this.UL[e][c]&&a=="DELETE")this.hc(e,c);else if((!this.UL[e]||!this.UL[e][c])&&
a!="DELETE")a=new b.NonVisualTable(c,this.Vw,"MERGE"),a.setDataAdapter(this.IF),a.setSnapshotRequired(!0),a.tI=this.tf,a.vQ=e,a.ea=b.aR,a.uW=this,this.UL[e]||(this.UL[e]={}),this.UL[e][c]=a,b.mR.RR(a,this.getId()+"$"+e+"|"+c)},hc:function(a,e){this.Tp==b.aT&&this.UL[a][e].cA();b.mR.UY(this.UL[a][e].getId());delete this.UL[a][e]}}})(c);(function(b){b.vC=function(){};b.vC.prototype={je:function(){this.Al.log("je",1,this);var a=this.ld;b.kx.Fq(a);var e,c=b.kx.lZ[a];c?c.qC?(e=c.Uw,c.Uw=[]):e=b.pu.nl(c.vE,
c.fL):e=b.pu.nl(document,b.ScreenTableHelper.dC);for(var c=b.kx.HA(a),d=0,d=0;d<e.length;d++){var h=e[d].Qs.getAttribute("table");if(h&&h==a){if(this.ea==b.sw){if(h=e[d].Qs.getAttribute("lsitem"),h==null||h=="")if(h=e[d].Qs.getAttribute("item"),h==null||h=="")continue}else{h=e[d].Qs.getAttribute("row");if(h==null||h=="")h=e[d].Qs.getAttribute("position");if(h==null||h=="")continue;h=Number(h);if(isNaN(h))continue}var g=e[d].Qs.getAttribute("field");if(!(g==null||g=="")){var k=c.Wc(h,g);k&&k.Qs==e[d].Qs||
(k=e[d].er(),c.jC.YQ(e[d].Qs.className,h,g),c.Lv.YQ(k,h,g),c.Ys(e[d],h,g,this.ea))}}}return c.IJ<=0?(this.Al.error("No cells defined for table "+a,"addTable"),!1):!0},GIe:function(){var a=this.aE.bc(),b={},c;for(c in a)for(var d in a[c])b[d]=1;return b}}})(c);(function(b){b.CA=function(){};b.CA.prototype={Rd:function(){var a=this.aE.bc(),b;for(b in a){if(this.onRowUpdate)try{this.onRowUpdate(b,null)}catch(c){this.Al.ET(c,this.onRowUpdate,"onRowUpdate")}for(var d in a[b])this.aE.Xs(b,d);this.aE.PB(b,
!1)}},GT:function(a,c,d,j){if(a!=c){var h,g;d?(d=a,h=c,g=1):(d=c,h=a,g=-1);for(var k in this.aE.an)if(!(this.aE.an[k]<a||this.aE.an[k]>c)){var l=-1,l=j&&this.aE.an[k]==d?h:this.aE.an[k]-g;if(!(l<a||l>c))if(this.aE.Nr[l]=k,this.aE.an[k]=l,this.ea==b.ON&&(l>this.vc||l<=0))delete this.aE.Nr[l],delete this.aE.an[k]}this.aE.HM(d,h,g,j)}}}})(c);(function(b){b.No=function(){};b.No.prototype={Jd:function(){this.Al.log("Jd");this.lT()},nI:function(a){this.Al.log("nI",arguments);this.Tq()&&this.Al.pE(this.oB,
"setUpwardScroll");this.WC=a?!0:!1},ps:function(a,c,d){this.IA.push(d);a===b.OJ&&(a=this.eE.ww(c,d));this.WX.YQ(a,c,d)}}})(c);(function(b){b.Oq=function(){};b.Oq.prototype={je:function(){this.Al.log("je",1,this);var a=this.ld;this.EA();var c=b.kx.HA(a),d=c.lh;if(d)if(b.pu.Wi(d))return!0;else c.lh=null,c.IZ=null,c.TD=null,c.kM=null,c.tU=null,c.wO=null,c.gV=null;d=document.getElementById(a);if(!this.vmd(d))return!1;var j=d.cloneNode(!0);j.removeAttribute("id");a=d.parentNode;c.lh=d;c.RB=a;c.IZ=j;d.style.display=
"none";for(var j=a.childNodes,h=0,g=0,h=0;h<j.length;h++)if(j[h]==d){j[h+1]?(c.TD=j[h+1],c.kM=j[h+1]):(c.TD=null,c.kM=null);g=h+1;break}this.ea==b.Qd?c.tU=a:(c.tU=new b.dm(c.RB,c.kM,g),c.wO=new b.CL,c.gV=new b.CL);return!0},vmd:function(a){if(!a)return this.Al.error("No template defined for table "+this.ld,"addTable"),!1;var c=a.getAttribute(b.YX);if(!c||c.toUpperCase()!=b.px)return this.Al.error("The template defined for table "+this.ld+" does not define the 'source' attribute.","addTable"),!1;for(var c=
[],d=!1,a=b.pu.nl(a),j=0;j<a.length;j++)a[j].Qs.getAttribute("FIELD")?c.push(a[j]):d||(this.Al.error("Warning, there are elements in the template for table "+this.ld+" that do not define the 'field' attribute","addTable"),d=!0);return c.length<=0?(this.Al.error("No valid cells defined for table "+this.ld,"addTable"),!1):!0},GIe:function(){for(var a=b.pu.nl(this.aE.IZ),c={},d=0,d=0;d<a.length;d++){var j=a[d].Qs.getAttribute("FIELD");j&&(c[j]=1)}return c},Yn:function(a,b){this.Al.log("Yn",arguments);
if(a){a=new String(a);a=a.toUpperCase();if(a=="ELEMENT")if(b)this.fd=b;else{this.Al.pE("Please specify an element id in order to use ELEMENT autoscroll","setAutoScroll");return}else if(a!="PAGE"&&a!="OFF"){this.Al.pE(a+" is not a valid scroll type. Admitted values are OFF, ELEMENT, PAGE","setAutoScroll");return}this.De=a;this.Tq()&&this.EA()}else this.Al.pE("No type selected, please select one: OFF, ELEMENT, PAGE","setAutoScroll")},EA:function(){if(this.De=="ELEMENT"&&(!this.fd||!this.fd.appendChild)){var a=
document.getElementById(this.fd);a?this.fd=a:(this.Al.error("Cannot find the element with "+this.fd+" as id.","setAutoScroll"),this.De="OFF")}},Bd:function(a){this.Al.log("Bd",arguments);a=new String(a);a=a.toLowerCase();this.mI=a=="unlimited"?0:this.Qn(a,"Bd",this.mI,!0,1)},bfE:function(){return this.mI==0?"unlimited":this.mI},JQ:function(a){if(this.De!="OFF"){var b=null;if(this.De=="ELEMENT")b=this.fd;for(var c=a.offsetTop,a=a.offsetParent;a!=b&&a!=null;)c+=a.offsetTop,a=a.offsetParent;this.Al.log("JQ",
this.De,c);this.De=="PAGE"?window.scrollTo(0,c):this.fd.scrollTop=c}}}})(c);(function(b){b.Aq=function(){};b.Aq.prototype={lO:function(a){return a==null?null:a.toString()},oes:function(a){b.dA.oes(parseInt(a.win),parseInt(a.FK),this.lO(a.status),a.connection,a.context,a.policy,a.Qg,parseInt(a.Eg),a.uS===!0,this.lO(a.SO),this.lO(a.An))},KFu:function(a){b.Cp.Vx[a.Cx].jD(this.lO(a.FU),a.ED)},dpC:function(a){b.dA.dpC(this.lO(a.status))},nFN:function(a){b.dA.SfU(b.HO(a.YY),this.lO(a.SO),this.lO(a.An))},
NTY:function(a){b.dA.tCX(b.HO(a.YY))},mrI:function(a){b.dA.Kb(a.OI===!0)},Vj:function(){b.Ki.FE()&&b.aL.Au(b.Ki.FE,1E3,b.Ki)},ELQ:function(a){b.mR.TB(this.lO(a.bA),parseInt(a.CF),parseInt(a.BG),parseInt(a.TM))},wcm:function(a){var c=a.JW,d=[];d.bZ=[];d[0]=parseInt(c[0]);d[1]=parseInt(c[1]);for(var j=2,h=c.length;j<h;j++)c[j]?c[j].length==-1?d[j]=b.OJ:(d[j]=c[j].toString(),d.bZ.push(j-1)):(d[j]=c[j]===""?"":null,d.bZ.push(j-1));b.kx.NK(d,a.xX?!0:!1)},qwA:function(a){var c=[];c[0]=parseInt(a[0]);c[1]=
parseInt(a[1]);c[2]=parseInt(a[2]);b.kx.onLostUpdates(c)},TJm:function(a){var c=[];c[0]=parseInt(a[0]);c[1]=parseInt(a[1]);b.kx.onEndOfSnapshot(c)},Nlg:function(a){b.kx.TV(parseInt(a.JP),this.lO(a.fo),parseInt(a.CF))},sa:function(a){b.dA.ZQ("onServerError",parseInt(a.JP),this.lO(a.fo))},aSa:function(a){b.kx.Up(parseInt(a.JP),parseInt(a.CF))},WHf:function(a){b.dA.ZQ("onClientAlert",parseInt(a.Ji),this.lO(a.Hr))},isS:function(a){b.dA.ZQ("onClientError",a)},KPM:function(a){b.kx.Up(9,this.lO(a))},rYT:function(a){b.kx.BN(parseInt(a.Gd),
parseInt(a.Ji),this.lO(a.fo))}}})(c);(function(b){b.Sg=function(){this.Al=b.gE.getLogger("EH");this.KR=2E3;this.iE()};b.Sg.prototype={iE:function(a){this.Ib=!1;this.Eg=null;this.uS=this.jp=this.Gq=this.Uq=!1;this.FK=this.gp=null;this.Xq=a?this.Xq+1:b.Ns()+1;this.hE=null;this.sW=this.ej=!1;this.Al.log("iE",this)},toString:function(){return["[|Sg",this.gp,this.Uq,this.Ib,this.Eg,this.Gq,this.jp,this.uS,this.sW,this.FK,this.Xq,this.ej,"]"].join("|")},lVw:function(a,b){return b?a==this.Xq&&b==this.FK:
a==this.Xq},NQp:function(){var a=!1;try{a=this.hE.gQ.lVw(this.gp)}catch(b){this.Al.DU(b,"NQp"),a=!1}a||this.Kb();return a},Yh:function(a,b){return this.LB(a,b,!1,!1)},sHJ:function(a,b){return this.LB(a,b,!0,!1)},DMB:function(a,b){return this.LB(a,b,!1,!0)},ZjS:function(a,b){return this.LB(a,b,!0,!0)},LB:function(a,b,c,d){if(!this.Ib)return!1;this.Al.log("LB",a,c);try{d?this.hE.gQ.xqb(this.gp).Ss.eR(a,this.gp,b,c?this.FK:null):this.hE.Fk.eR(a,this.gp,b,c?this.FK:null)}catch(h){return this.Ug(h),!1}return!0},
egZ:function(a,c){(this.Ib||this.Uq)&&this.Al.sX(!1,"egZ",1);this.Uq=!0;this.Xq++;this.Gq=c===!0;try{this.hE=a;var d=null;if(this.Gq){var j=b.ku(b.Cp.Cm);if(b.pZ.IW){var h=b.Cp.Vx;h.Qg.Cm=j;d={Qg:new b.XZ(h.Qg),policy:new b.Policy(h.policy),connection:new b.Connection(h.connection),context:new b.Context(h.context)};this.Al.log("egZ",1)}else d={Cm:j},this.Al.log("egZ",2)}else this.Al.log("egZ",3);a.Fk.eR("WtQ",-1,{win:window,tN:this.Xq,tB:d})}catch(g){this.iE(!0);b.Cp.LJ();return}b.aL.Au(this.FZs,
this.KR,this,[b.Cp.Rj]);this.KR+=500},FZs:function(a){var c=b.Cp;a==c.Rj&&(this.iE(!0),this.Al.log("FZs"),c.Et(a))},oes:function(a,c,d,j,h,g,k,l,m,n,o){this.Ib=!0;this.gp=a;this.FK=c;this.Eg=l;if(b.pZ.IW)this.jp=!0;this.KR=2E3;b.Cp.Rj++;this.uS=m;this.Al.log("oes",this);a=b.Cp;b.pZ.jp();b.Ki.rs();j=new b.qF(this.hE.HH,j,h,g,k);a.Vx=j;a.Vx.XN(d);this.uS&&a.Vx.jl(n,o);if(this.Gq&&!this.jp)try{a.onEngineCreation(j)}catch(r){this.Al.ET(r,a.onEngineCreation,"onEngineCreation")}try{a.onEngineReady(j)}catch(q){this.Al.ET(q,
a.onEngineReady,"onEngineReady")}b.gE.GG();this.qO(d);this.uS&&this.mj()},mj:function(){this.Al.log("mj");b.mR.se()},Sd:function(){this.Al.log("Sd");b.mR.Xx();b.kx.QL()},SfU:function(a,c,d){this.Al.sX(!this.uS,"SfU");this.FK=a;this.uS=!0;b.Cp.Vx.jl(c,d);this.mj()},tCX:function(a){this.FK=a;if(this.uS)this.uS=!1,this.Sd()},dpC:function(a){b.Cp.Vx.XN(a);this.ZQ("onStatusChange",a);this.qO(a)},qO:function(a){if(b.FlashBridge)for(var c in b.FlashBridge.bridges){var d=b.FlashBridge.bridges[c];d&&d.ki&&
d.ki(a)}},ZQ:function(a,c,d){var j=b.Cp.Vx;if(j[a])try{j[a](c,d)}catch(h){this.Al.ET(h,j[a],a)}},Kb:function(a){this.Al.log("Kb",a,this);if(this.Ib){var c=this.Gq&&!a;b.Ki.sq();b.Ki.de=null;this.iE(!0);this.sW=c;b.Cp.LD(a);this.Sd();a=b.Cp;try{a.onEngineLost()}catch(d){this.Al.ET(d,a.onEngineLost,"onEngineLost")}this.qO("WAITING");b.pZ.co(c)}},Ug:function(a){this.ej||this.Al.DU(a,"Ug");this.ej=!0;b.aL.Au(b.Ki.FE,0,b.Ki)},VBa:function(){this.Ib&&this.gp&&this.Yh("mXD",this.gp)}}})(c);(function(b){c.NonVisualTable=
function(a,c,d){this.hS(b.NonVisualTable,a,c,d);this.fG();this.oc();this.ea=b.hD;this.IF=this.keyCode=this.hv=null;this.UL={};this.Vw=null;this.Al.log(this.getClassName(),arguments)};c.NonVisualTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"NonVisualTable"},Iq:function(a,c){if(!this.Xb(b.NonVisualTable,"Iq",a,c))return!1;if(this.ea==b.Yo||this.ea==b.tx)this.RH(),this.Vw&&this.QI.Id(this.Vw);
return!0},NB:function(){this.Xb(b.NonVisualTable,"NB");this.QI.sm()},Sn:function(){this.Xb(b.NonVisualTable,"Sn");this.eE=new b.am;this.WV=new b.am;this.WX=new b.am;this.Qo=new b.am},EM:function(){this.Xb(b.NonVisualTable,"EM");this.ea==b.tx&&this.aF()},setCommandLogic:function(a,c,d,j,h){a=="MULTI"?j?(this.ea=b.tx,c&&this.pT(c,d),this.RA(j),this.IF=h):this.Al.pE("The schema for the underlying tables cannot be null","setCommandLogic"):a?(this.ea=b.Yo,c&&this.pT(c,d)):this.ea=b.hD},getUnderlyingSchema:function(){return this.Vw},
sPd:function(a){var c=this.uW;if(!c.UL[this.vQ]||!c.UL[this.vQ][this.ug.ds])return null;var d=this.vQ,j={};j[0]=c.uE;j[1]=d;j.length=2;j.bZ=[];for(var d=c.QI.length+this.QI.length+2,h=2,g;j.length<d;j.length++)g=j.length,g==c.keyCode+1?j[g]=this.ug.ds:g==c.hv+1?j[g]="UPDATE":g<=c.QI.length+1?j[g]=b.OJ:(a[h].length>-1?(j[g]=a[h],j.bZ.push(g-1)):j[g]=a[h],h++);return j}};b.RT(b.NonVisualTable,b.Table);b.RT(b.NonVisualTable,b.Fs,"O");b.RT(b.NonVisualTable,b.vM,"O")})(c);(function(b){c.OverwriteTable=
function(a,c,d){this.hS(b.OverwriteTable,a,c,d);this.kU=this.ug?!1:!0;this.ea=b.sw;this.Al.log(this.getClassName(),arguments)};c.OverwriteTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"OverwriteTable"},NB:function(){this.Xb(b.OverwriteTable,"NB");this.Al.log("NB");if(this.kU)this.ug=null;this.dZ=this.II=null},Jd:function(){this.Al.log("Jd");this.rb();this.lT()},jN:function(){this.Xb(b.OverwriteTable,
"jN");var a=this.aE,c=a.bc(),d;for(d in c){var j=this.ug.FZ(d);if(this.onChangingValues)try{this.onChangingValues(j,null,d)}catch(h){this.Al.ET(h,this.onChangingValues,"onChangingValues")}for(var g in c[d])a.Xs(d,g)}},rb:function(){var a=this.aE.bc();if(this.kU){var c=[],d;for(d in a)c[c.length]=d;this.ug=new b.GroupListDescriptor(c)}this.II={};for(d in a)this.II[this.ug.FZ(d)]=d},onChangingValues:function(){},oU:function(a,c,d){var j=this.II[a];if(j!=null){var h=b.AL;h.iE(this,a,c,d);h.Rc=j;if(this.onChangingValues){c=
this.ug.EC(a);try{this.onChangingValues(a,h,c)}catch(g){this.Al.ET(g,this.onChangingValues,"onChangingValues")}}if(!this.Tq())return!0;this.AJ(a,j,a,!1,h)}}};b.RT(b.OverwriteTable,b.VisualTable);b.RT(b.OverwriteTable,b.vC,"O")})(c);(function(b){c.ScrollTable=function(a,c,d){this.hS(b.ScrollTable,a,c,d);this.oc();this.vc=0;this.Vl=this.kA=1;this.WC=!1;this.Vr=-1;this.ea=b.ON;this.Al.log(this.getClassName(),arguments)};c.ScrollTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,
this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"ScrollTable"},Sn:function(){this.Xb(b.ScrollTable,"Sn");this.Vl=this.kA=1;this.vc=this.aE.vc>this.Vr&&this.Vr>-1?this.Vr:this.aE.vc},NB:function(){this.Xb(b.ScrollTable,"NB");this.dZ=null},jN:function(){this.Xb(b.ScrollTable,"jN");this.Rd()},onChangingValues:function(){},onRowUpdate:function(){},setUpwardScroll:function(a){this.nI(a)},qD:function(){return this.WC},setLastVisibleRow:function(a){this.Vr=this.Qn(a,"setLastVisibleRow",
this.Vr,!0,-1)},scM:function(){return this.Vr},oU:function(a,c,d){var j=null,h=null,g;this.WC?(g=this.vc,j=1,h=g):(g=1,this.Vl<this.vc&&this.Vl++,j=g,h=this.vc);var k=this.kA;this.kA++;this.GT(j,h,this.WC,!1);j=b.AL;j.iE(this,a,c,d);j.Rc=g;j.Gd=k;if(this.onChangingValues)try{this.onChangingValues(j)}catch(l){this.Al.ET(l,this.onChangingValues,"onChangingValues")}if(!this.Tq())return!0;this.aE.vr(a,g,!0);this.aE.an[k]=g;this.aE.Nr[g]=k;this.AJ(a,g,k,!0,j);a=b.Zp;a.iE(this,k,g);if(this.onRowUpdate)try{this.onRowUpdate(g,
a)}catch(m){this.Al.ET(m,this.onRowUpdate,"onRowUpdate")}if(!this.Tq())return!0}};b.RT(b.ScrollTable,b.VisualTable);b.RT(b.ScrollTable,b.vC,"O");b.RT(b.ScrollTable,b.CA,"O");b.RT(b.ScrollTable,b.No,"O")})(c);(function(b){c.DynaScrollTable=function(a,c,d){this.hS(b.DynaScrollTable,a,c,d);this.oc();this.nF=this.mI=0;this.WC=!1;this.fd=null;this.De="OFF";this.TJ=!1;this.ea=b.Qd;this.Al.log(this.getClassName(),arguments)};c.DynaScrollTable.prototype={toString:function(){return["[",this.getClassName(),
this.Tp,this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"DynaScrollTable"},Sn:function(){this.Xb(b.ScrollTable,"Sn");this.nF=0;this.TJ=!1},NB:function(){this.Xb(b.DynaScrollTable,"NB");this.Al.log("NB");this.dZ=null},jN:function(){this.Xb(b.DynaScrollTable,"jN");for(var a=this.aE;a.GL()>0;);a.sP=0;a.Hc=1;a.wY=[];a.kM=this.aE.TD},setUpwardScroll:function(a){this.nI(a)},qD:function(){return this.WC},onChangingValues:function(){},setAutoScroll:function(a,b){this.Yn(a,b)},
setMaxDynaRows:function(a){this.Bd(a);this.Tq()&&this.mI>0&&this.aE.iu(this.mI)},getMaxDynaRows:function(){return this.bfE()},oU:function(a,c,d){var j=this.aE;j.sP++;var h=j.sP,g=b.AL;g.iE(this,a,c,d);g.Rc=h;c=j.tU;d=j.IZ.cloneNode(!0);j.wY.push(d);var k=this.OWx();gr=b.pu.nl(d);for(var l=0,l=0;l<gr.length;l++){var m=gr[l],n=m.Qs.getAttribute("FIELD");n&&j.Ys(m,h,n,j.ea)}if(this.onChangingValues)try{this.onChangingValues(d,g)}catch(o){this.Al.ET(o,this.onChangingValues,"onChangingValues")}if(!this.Tq())return!0;
j.kM==null||j.kM.parentNode==null?c.appendChild(d):c.insertBefore(d,j.kM);this.AJ(a,h,a,!1,g);k&&this.JQ(d);if(!this.WC)j.kM=d;this.aE.iu(this.mI)},OWx:function(){if(this.De=="OFF")return!1;if(b.iR())return!0;var a=null,a=this.De=="ELEMENT"?this.fd:document.body;if(a.scrollTop<this.nF)this.TJ=!0;this.nF=a.scrollTop;return!this.TJ?!0:a.clientHeight+a.scrollTop!=a.scrollHeight?!1:!0}};b.RT(b.DynaScrollTable,b.VisualTable);b.RT(b.DynaScrollTable,b.No,"O");b.RT(b.DynaScrollTable,b.Oq,"O")})(c);(function(b){c.MetapushTable=
function(a,c,d){this.hS(b.MetapushTable,a,c,d);this.oc();this.XM=this.vc=0;this.rZ=this.keyCode=this.hv=null;this.fY=this.JL=this.gl=!1;this.Vr=-1;this.XR={};this.ea=b.GB;this.Al.log(this.getClassName(),arguments)};c.MetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"MetapushTable"},Sn:function(){this.Xb(b.MetapushTable,"Sn");this.vc=this.aE.vc>this.Vr&&this.Vr>-1?this.Vr:this.aE.vc;this.XM=
0;this.XR=[];return!0},NB:function(){this.Xb(b.MetapushTable,"NB");this.Al.log("NB");this.dZ=null},jN:function(){this.Xb(b.MetapushTable,"jN");this.Rd()},setClearOnAdd:b.Ir,getMetapushSortField:function(){return this.jvU()},getMetapushSortFieldName:function(){return this.jEk()},isDescendingSort:function(){return this.qEp()},isNumericSort:function(){return this.ABP()},isCommaAsDecimalSeparator:function(){return this.CvC()},setLastVisibleRow:function(a){this.Vr=this.Qn(a,"setLastVisibleRow",this.Vr,
!0,-1)},scM:function(){return this.Vr},onChangingValues:function(){},onRowUpdate:function(){},setMetapushFields:function(a,b){this.pT(a,b)},setMetapushSort:function(a,b,c,d){this.SD(a,b,c,d)},oU:function(a,c,d){var j=this.eE.ww(a,this.hv),h=1;this.rZ!=null&&(h=this.eE.ww(a,this.rZ));var g=null,k=null;if(j=="DELETE"){this.GT(this.aE.an[a],this.XM,!0,!1);this.Al.sX(!d,"oU",1);var c=this.aE.mi(this.XM),l;for(l in c)this.aE.Xs(this.XM,l);delete this.aE.Nr[this.XM];delete this.XR[this.XM];delete this.aE.an[a];
this.WX.AP(a);this.Qo.AP(a);this.WV.AP(a);this.eE.AP(a);this.XM>this.vc?this.aE.PB(this.XM,!0):this.aE.PB(this.XM,!1);if(this.onRowUpdate)try{this.onRowUpdate(this.XM,null)}catch(m){this.Al.ET(m,this.onRowUpdate,"onRowUpdate")}if(!this.Tq())return!0;this.XM--}else{h=this.hLr(h);k=this.aE.an[a];g=!0;k?this.XR[k].toString()==h.toString()&&(g=!1):(k=-1,this.XM++);l=k==-1;j=k;if(g){for(g=j=1;g<=this.XM;g++)if(g!=k){var n=this.XR[g];if(!n)break;if(this.tun(h,n))break;j++}if(j!=k){var o=n=!1;l?(g=j,k=this.XM):
(o=!0,j<k?g=j:(g=k,k=j,n=!0));this.GT(g,k,n,o);this.aE.an[a]=j;this.aE.Nr[j]=a}this.XR[j]=h}h=b.AL;h.iE(this,a,c,d);h.Rc=this.aE.an[a];if(this.onChangingValues)try{this.onChangingValues(h)}catch(r){this.Al.ET(r,this.onChangingValues,"onChangingValues")}if(!this.Tq())return!0;this.aE.vr(a,j,l);this.AJ(a,this.aE.an[a],a,l,h);c=b.Zp;c.iE(this,a);if(this.onRowUpdate)try{this.onRowUpdate(this.aE.an[a],c)}catch(q){this.Al.ET(q,this.onRowUpdate,"onRowUpdate")}if(!this.Tq())return!0}}};b.RT(b.MetapushTable,
b.VisualTable);b.RT(b.MetapushTable,b.vC,"O");b.RT(b.MetapushTable,b.Fv,"O");b.RT(b.MetapushTable,b.CA,"O")})(c);(function(b){c.DynaMetapushTable=function(a,c,d){this.hS(b.DynaMetapushTable,a,c,d);this.oc();this.rZ=this.keyCode=this.hv=null;this.fY=this.JL=this.gl=!1;this.fd=null;this.De="OFF";this.mI=0;this.gp=1;this.vX=0;this.xg=!1;this.ea=b.QR;this.Al.log(this.getClassName(),arguments)};c.DynaMetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,this.uE,
this.TM,"]"].join("|")},getClassName:function(){return"DynaMetapushTable"},NB:function(){this.Xb(b.DynaMetapushTable,"NB");this.Al.log("NB");this.dZ=null},EM:function(){this.Xb(b.DynaMetapushTable,"EM");this.gp=1;this.vX=0;this.xg=!1},jN:function(){this.Xb(b.DynaMetapushTable,"jN");var a=null,c=this.aE,d;for(d in c.XC){a=c.XC[d];if(this.onChangingValues)try{this.onChangingValues(a.Tk(),null)}catch(j){this.Al.ET(j,this.onChangingValues,"onChangingValues")}a.parentNode.removeChild(a);c.PB(d,!0)}c.sP=
0;c.kM=c.TD},setClearOnAdd:b.Ir,setMetapushFields:function(a,b){this.Al.log("setMetapushFields",arguments);this.Tq()&&this.Al.pE(this.oB,"setMetapushFields");this.hv=this.Qn(a,"setMetapushFields",this.hv,!0,1);this.keyCode=this.Qn(b,"setMetapushFields",this.keyCode,!0,1)},onChangingValues:function(){},setAutoScroll:function(a,b){this.Yn(a,b)},setMetapushSort:function(a,b,c,d){this.SD(a,b,c,d)},getMetapushSortField:function(){return this.jvU()},getMetapushSortFieldName:function(){return this.jEk()},
isDescendingSort:function(){return this.qEp()},isNumericSort:function(){return this.ABP()},isCommaAsDecimalSeparator:function(){return this.CvC()},setMaxDynaRows:function(a){this.Bd(a);this.Tq()&&(this.he(),this.Uo(),this.hi(1))},getMaxDynaRows:function(){return this.bfE()},onCurrentPagesChanged:function(){},goToPage:function(a){this.Tq()||this.Al.pE(this.Vq,"goToPage");this.mI==0&&this.Al.pE("Can't switch pages while 'no-page mode' is used","goToPage");var b=new Number(a);isNaN(b)&&this.Al.pE("A page number must be provided. "+
a+" is not a valid value","goToPage");b<=0&&this.Al.pE("A page number must be greater than 0. "+a+" is not a valid value","goToPage");this.hi(b)},getDisplayedPage:function(){return this.mI==0?1:this.gp},getCurrentPages:function(){return this.vX},oU:function(a,c,d){var j=this.aE,h=this.eE.ww(a,this.hv),g;this.rZ!=null&&(g=this.hLr(this.eE.ww(a,this.rZ)));var k=j.tU,l=j.wO,m=j.gV,n=j.XC[a],o=!0;if(!this.xg||this.mI>0)o=!1;var r=!1,q=null;if(h=="DELETE"){if(o=!1,n){j.sP--;r=!0;if(this.onChangingValues)try{this.onChangingValues(n.Tk(),
null)}catch(u){this.Al.ET(u,this.onChangingValues,"onChangingValues")}if(!this.Tq())return!0;n.parentNode==k?(k.removeChild(n),this.pa(l,k,this.mI)):n.parentNode==l?l.removeChild(n):(m.removeChild(n),this.pa(k,m,this.mI*(this.gp-1))&&this.pa(l,k,this.mI));this.Al.sX(!d,"oU",3);this.WX.AP(a);this.Qo.AP(a);this.WV.AP(a);this.eE.AP(a);j.PB(a,!0)}}else{var t=!1,p;n?(q=j.XC[a],p=this.PMx(q),this.rZ!=null&&(p!=null&&g!=null?p.toString()==g.toString()&&(t=!0):p==null&&g==null&&(t=!0))):(q=new b.JR(this.ld,
a,a,this.keyCode),j.XC[a]=q);h=b.AL;h.iE(this,a,c,d);h.Rc=a;if(this.onChangingValues)try{this.onChangingValues(q.Tk(),h)}catch(w){this.Al.ET(w,this.onChangingValues,"onChangingValues")}if(!this.Tq())return!0;if(this.rZ!=null&&t==!1){j.Xf[a]=g;c=1;d=j.sP;for(t=-1;c<d;){var t=Math.floor((c+d)/2),x=null;t<=j.sP&&(x=this.JuO(t),x=x==q?p:this.PMx(x));this.tun(g,x)?d=t-1:c=t+1}p=-1;c==d?(x=this.JuO(c),p=this.PMx(x),p=this.tun(g,p)?c:c+1):p=c;this.Wn(p,q);n||(j.sP++,r=!0)}this.rZ==null&&!n&&(j.sP++,r=!0,
l.length>0||k.length==this.mI&&this.mI>0?l.appendChild(q):k.length>0||m.length==this.mI*(this.gp-1)?k.appendChild(q):m.appendChild(q));this.AJ(a,a,a,!1,h)}q&&q.Fb&&o&&this.JQ(q.Fb);r&&this.he()},Uo:function(){for(var a=this.rZ,c=new b.CL,d=this.aE,j=d.tU,h=d.wO,g=d.gV,k=1;d.sP>0;){var l=this.JuO(k);if(l)if(a==null)c.appendChild(l),d.sP--;else{var m=l.qP;if(m=="")d.sP--,k++;else{var n=this.eE.ww(m,this.rZ),n=this.hLr(n);d.Xf[m]=n;for(var o=0,m=c.length-1;o<m;){var r=Math.floor((o+m)/2),q=c.tF(r);(q=
this.PMx(q))||this.Al.sX(!1,"Uo",1);this.tun(n,q)?m=r-1:o=r+1}q=c.tF(o);o==m?(o=this.PMx(q),this.tun(n,o)?c.insertBefore(l,q):(n=c.tF(m+1))?c.insertBefore(l,n):c.appendChild(l)):q?c.insertBefore(l,q):c.appendChild(l);d.sP--}}else d.sP--,k++}for(;0<c.length;)d.sP++,a=c.tF(0),d.sP<=this.mI*(this.gp-1)?g.appendChild(a):this.mI<=0||d.sP<=this.mI*this.gp?j.appendChild(a):h.appendChild(a)},PMx:function(a){if(!a)return null;a=a.qP;return a==""?null:this.aE.Xf[a]},hi:function(a){var b=this.aE,c=b.tU,d=b.wO,
b=b.gV;if(this.gp>=a)for(;this.Gj(b,c,(a-1)*this.mI);)this.Gj(c,d,this.mI);else for(;this.pa(c,b,(a-1)*this.mI);)this.pa(d,c,this.mI);this.gp=a},Wn:function(a,b){var c=this.aE;if(!(a>c.sP+1)&&!(a<=0)&&b!=this.JuO(a)){var d=b.parentNode,h=c.tU,g=c.wO,k=c.gV,l=this.JuO(a);l==null?g.length>0||h.length==this.mI&&this.mI>0?(g.appendChild(b),c=g):this.mI==0||h.length>0||k.length==this.mI*(this.gp-1)?(h.appendChild(b),c=h):(k.appendChild(b),c=k):(c=l.parentNode,c.insertBefore(b,l));c==h?!d||d==g?this.Gj(h,
g,this.mI):d==k&&this.pa(h,k,this.mI*(this.gp-1)):c==k?d!=k&&this.Gj(k,h,this.mI*(this.gp-1))&&this.Gj(h,g,this.mI):c==g&&(d==k&&this.pa(h,k,this.mI*(this.gp-1)),this.pa(g,h,this.mI))}},pa:function(a,b,c){return this.mI<=0?!1:b.length<c&&a.length>0?(a=a.tF(0),b.appendChild(a),!0):!1},Gj:function(a,b,c){return this.mI<=0?!1:a.length>c?(a=a.tF(a.length-1),b.insertBefore(a,b.tF(0)),!0):!1},JuO:function(a){var b=this.aE,c=b.tU,d=b.wO,h=b.gV;if(a>b.sP)return null;else if(a<=0)return null;return a<=h.length?
h.tF(a-1):(a-=h.length,a<=c.length?c.tF(a-1):(a-=c.length,d.tF(a-1)))},he:function(){var a=0,a=this.mI<=0?1:Math.ceil(this.aE.sP/this.mI);if(this.vX!=a&&(this.vX=a,this.onCurrentPagesChanged))try{this.onCurrentPagesChanged(this.vX)}catch(b){this.Al.ET(b,this.onCurrentPagesChanged,"onCurrentPagesChanged")}return a}};b.RT(b.DynaMetapushTable,b.VisualTable);b.RT(b.DynaMetapushTable,b.Fv,"O");b.RT(b.DynaMetapushTable,b.Oq,"O")})(c);(function(b){c.MultiDynaMetapushTable=function(a,c,d,j){this.hS(b.MultiDynaMetapushTable,
a,c,d);this.IF=null;this.UL={};this.sr=!1;this.Vw=null;this.ea=b.PU;this.RA(j);this.Al.log(this.getClassName(),arguments)};c.MultiDynaMetapushTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,this.uE,this.TM,"]"].join("|")},getClassName:function(){return"MultiDynaMetapushTable"},getUnderlyingSchema:function(){return this.Vw},setUnderDataAdapter:function(a){this.Al.log("setUnderDataAdapter",arguments);this.IF=a},NB:function(){this.Xb(b.MultiDynaMetapushTable,
"NB");this.Al.log("NB");if(this.sr)this.Vw=null},EM:function(){this.Xb(b.MultiDynaMetapushTable,"EM");this.aF()}};b.RT(b.MultiDynaMetapushTable,b.DynaMetapushTable);b.RT(b.MultiDynaMetapushTable,b.vM,"O")})(c);(function(b){b.RJ=function(){};b.RJ.prototype={Sqp:function(a,b,c){a=(new Number(a)-b)/c;return Math.round(a)},kpN:function(a,b,c){return a*c+b},ju:function(){for(var a=0;a<this.mq.length;a++)this.mq[a]&&b.pu.Wi(this.mq[a])&&this.mq[a].parentNode.removeChild(this.mq[a]);this.mq=[]}}})(c);(function(b){c.ChartTable=
function(a,c,d){this.hS(b.ChartTable,a,c,d);this.oc();this.fG();this.OF=null;this.XE=document.createElement("div");this.XE.style.position="relative";this.XE.style.overflow="visible";this.offsetX=this.offsetY=0;this.screenY=this.screenX=null;this.ec={};this.mq=[];this.ke=new b.LabelFormatter;this.fI=!1;this.TC=0;this.Pg=this.Xj=this.df=this.DG=null;this.ea=b.rU;this.Al.log(this.getClassName(),arguments)};c.ChartTable.prototype={toString:function(){return["[",this.getClassName(),this.Tp,this.ld,this.BG,
this.uE,this.TM,"]"].join("|")},getClassName:function(){return"ChartTable"},HA:function(){return b.kx.HA(this.ld,this.ea)},je:function(a){this.Al.log("je",1,this);var a=this.ld,c;c=b.pu.nl(document,["div","span"]);for(var d=0,d=0;d<c.length;d++){var j=c[d].Qs.getAttribute("table");if(j&&j==a)return this.eA(c[d].Qs),!0}this.tJ();return!1},jN:function(){this.Xb(b.ChartTable,"jN");this.ju();for(var a in this.ec)this.ec[a].ju(),delete this.ec[a];this.OF&&b.pu.Wi(this.OF)&&this.OF.parentNode.removeChild(this.OF);
delete this.OF;this.eA(this.XE.parentNode,!0)},setAreaClass:function(a){this.OF?this.OF.className=a:this.qt=a;this.Al.log("setAreaClass",a)},setAreaTop:function(a){this.offsetY=this.Qn(a,"setAreaTop",this.offsetY,!1,0);if(this.OF)this.OF.style.top=this.offsetY},setAreaLeft:function(a){this.offsetX=this.Qn(a,"setAreaLeft",this.offsetX,!1,0);if(this.OF)this.OF.style.left=this.offsetX},setAreaWidth:function(a){this.screenX=this.Qn(a,"setAreaWidth",this.screenX,!1,0);if(this.OF&&(this.OF.style.width=
this.screenX,this.Xj!=null)){this.SG();this.lq();for(var b in this.ec)this.ec[b]&&this.ec[b].HX.length>0&&this.ec[b].VR()}},setAreaHeight:function(a){this.screenY=this.Qn(a,"setAreaHeight",this.screenY,!1,0);if(this.OF){this.OF.style.height=this.screenY;for(var b in this.ec)this.ec[b]&&this.ec[b].Ue!=null&&(this.ec[b].un(),this.ec[b].rl(),this.ec[b].HX.length>0&&this.ec[b].VR())}},Tl:function(){this.OF=document.createElement("div");this.OF.style.position="absolute";this.OF.style.overflow="hidden";
this.XE.appendChild(this.OF);if(this.qt)this.OF.className=this.qt;this.OF.style.top=this.offsetY+"px";this.OF.style.left=this.offsetX+"px";if(this.screenX!==null)this.OF.style.width=this.screenX+"px";if(this.scrrenY!==null)this.OF.style.height=this.screenY+"px"},eA:function(a,b){if(!this.OF)if(a&&a.appendChild){this.Tl();this.XE.parentNode!=a&&a.appendChild(this.XE);if(this.screenX==null)this.screenX=a.offsetWidth;if(this.screenY==null)this.screenY=a.offsetHeight;this.Xj!=null&&(this.SG(),this.lq());
for(var c in this.ec)this.ec[c]&&this.ec[c].Ue!=null&&(this.ec[c].un(),this.ec[c].rl());this.Al.log("eA",a)}else b||this.tJ()},tJ:function(){this.Al.error("A DOM element must be provided as an anchor for the chart","addTable")},MYl:function(){if(this.OF)return this.OF.cloneNode(!0);else this.Al.error("Sorry, nothing to photograph","MYl")},removeLine:function(a){this.ec[a]?(this.ec[a].UX(),this.ec[a].ju(),this.ec[a]=null):this.Al.error("No line to remove with id "+a,"removeLine")},SOQ:function(a,b,
c,d){this.Al.log("SOQ",arguments);var h=document.createElement("div");if(a!=null)h.className=a;h.style.position="absolute";var g=document.createTextNode(b);h.appendChild(g);this.XE.appendChild(h);g=h.offsetWidth;if(d.toUpperCase()=="X")h.style.top=this.screenY+5+this.offsetY+"px",h.style.left=c-h.offsetWidth/2+this.offsetX+"px";else if(d.toUpperCase()=="Y")h.style.left=this.offsetX-g+"px",h.style.top=this.screenY-c-h.offsetHeight/2+this.offsetY+"px";return h},addLine:function(a,b){this.Al.log("addLine",
a);a.LpT(this);this.ec[b]!=null&&this.Al.error("A line with this id already exists. Overwriting","addLine");a.fPh(b);a.St=this.ug.FZ(a.Wf);a.eH=this.QI.PE(a.vx);!a.Ue||!a.wb||!a.eH?this.Al.pE("Cannot create line. Please declare the Y axis","addLine"):(this.screenY!=null&&this.OF&&(a.un(),a.rl()),this.ec[b]=a)},cv:function(a,b,c){this.Al.log("cv",arguments);var d=this.ec[c],h=this.eZt(a),g=d.JGB(b);if(d.cc!=null){this.Al.log("cv",0,d.cc,d.dl,h,g);var k=h-d.cc,l=g-d.dl;this.Al.log("cv",1,"X",k,"Y",
l);var m=Math.abs(k),n=Math.abs(l),o=null,r=0,q=0,u=0;m>=n?(u=l/k,r=k,q=k>=0?1:-1):(u=k/l,r=l,q=l>=0?1:-1);var l=k=0,t=null,p=null,w=!0,x=!0;m<n&&(x=!1);for(m=0;m!=r;m+=q){var A=n=0,B=0,y=0,s=!1;this.Al.log("cv",2);m+q==r&&(this.Al.log("cv",6),w=s=!0);o=document.createElement("div");o.className=s?d.Bx:d.no;o.style.position="absolute";o.style.fontSize="0px";this.OF.appendChild(o);d.nG[d.nG.length]=o;if(w)w=!1,t=Math.ceil(o.offsetWidth/2),p=Math.ceil(o.offsetHeight/2),k=o.offsetWidth,l=o.offsetHeight,
this.Al.log("cv",3,k,l);B=k;y=l;if(x){if(n=Math.round(m+d.cc),A=Math.round(this.screenY-(u*m+d.dl)),!s){for(s=0;m+q!=r-q&&A==Math.round(this.screenY-(u*(m+q)+d.dl));)m+=q,s++;this.Al.log("cv",4,s);s*=t;B=k+s;q<0&&(n-=s)}}else if(n=Math.round(u*m+d.cc),A=Math.round(this.screenY-(m+d.dl)),!s){for(s=0;m+q!=r-q&&n==Math.round(u*(m+q)+d.cc);)m+=q,s++;this.Al.log("cv",5,s);s*=p;y=l+s;q>0&&(A-=s)}n-=Math.floor(t/2);A-=Math.floor(p/2);o.style.left=n+"px";o.style.top=A+"px";o.style.width=B+"px";o.style.height=
y+"px";this.Al.log("cv",7,o.style.left,o.style.top,o.style.width,o.style.height);this.Al.log("cv",8,o.offsetLeft,o.offsetTop,o.offsetWidth,o.offsetHeight)}this.Al.log("cv",10)}d.cc=h;d.dl=g},setXAxis:function(a,b){this.Al.log("setXAxis",arguments);this.DG=this.QI.PE(a);this.fI=b?!0:!1},positionXAxis:function(a,b){this.Al.log("positionXAxis",arguments);this.Xj=this.Qn(b,"positionXAxis",this.Xj);this.df=this.Qn(a,"positionXAxis",this.df);if(this.OF){this.screenX!=null&&(this.SG(),this.lq());for(var c in this.ec)this.ec[c]&&
this.ec[c].HX.length>0&&this.ec[c].VR()}this.Al.log("positionXAxis",2)},SG:function(){this.Pg=(this.Xj-this.df)/this.screenX;this.Al.log("SG",this.Pg)},setXLabels:function(a,b,c){this.TC=a;this.Zr=b;if(c!=null)this.ke=c;this.Pg!=null&&this.OF&&this.lq();this.Al.log("setXLabels",arguments)},lq:function(){this.ju();var a="",b=-1;if(!(this.TC<=0)){this.TC>0&&(a=this.ke.formatValue(this.df),b=this.eZt(this.df),this.mq[this.mq.length]=this.SOQ(this.Zr,a,b,"X"));this.TC>1&&(a=this.ke.formatValue(this.Xj),
b=this.eZt(this.Xj),this.mq[this.mq.length]=this.SOQ(this.Zr,a,b,"X"));if(this.TC>2)for(var c=this.TC-1,d=(this.Xj-this.df)/c,h=this.df,g=1;g<c;g++)h+=d,a=this.ke.formatValue(h),b=this.eZt(h),this.mq[this.mq.length]=this.SOQ(this.Zr,a,b,"X");this.Al.log("lq",arguments)}},onXOverflow:function(a,b,c){this.Al.log("onXOverflow",arguments);if(a>c){var d=(c+b)/2;this.positionXAxis(d,d+(c-b))}},eZt:function(a){return this.Sqp(a,this.df,this.Pg)},oU:function(a){for(var c in this.ec)if(this.ec[c]&&a==this.ec[c].St){var d=
null,j=this.eE.ww(a,this.DG),d=b.tw(j,this.fI);if(!(d<this.df)){if(d>this.Xj){if(this.onXOverflow)try{this.onXOverflow(d,this.df,this.Xj)}catch(h){this.Al.ET(h,this.onXOverflow,"onXOverflow")}if(!this.Tq())break}j=null;j=this.eE.ww(a,this.ec[c].eH);j=b.tw(j,this.BC);if(j>this.ec[c].Ue||j<this.ec[c].wb){if(this.ec[c].onYOverflow)try{this.ec[c].onYOverflow(j,this.ec[c].wb,this.ec[c].Ue)}catch(g){this.Al.ET(g,this.ec[c].onYOverflow,"onYOverflow")}if(!this.Tq())break}var k=this.ec[c].HX.length;this.ec[c].HX[k]=
d;k=this.ec[c].wp.length;this.ec[c].wp[k]=j;this.cv(d,j,c)}}}};b.RT(b.ChartTable,b.VisualTable);b.RT(b.ChartTable,b.RJ,"O")})(c);(function(b){c.ChartLine=function(){this.ld=this.St=this.Wf=this.UK=null;this.no=this.Bx="";this.BC=!1;this.wS=this.Ue=this.wb=this.eH=this.ix=null;this.BF=0;this.ke=new b.LabelFormatter;this.nG=[];this.HX=[];this.wp=[];this.mq=[];this.dl=this.cc=null;this.Al=b.gE.getLogger("TL");this.Al.log("ChartLine",arguments)};c.ChartLine.prototype={Qn:b.Le,UX:function(){this.Al.log("UX",
this.ld);if(this.nG[0]&&b.pu.Wi(this.nG[0]))for(var a=0;a<this.nG.length;a++)this.nG[a].parentNode.removeChild(this.nG[a]);this.nG=[];this.wp=[];this.HX=[];this.dl=this.cc=null},VR:function(){this.Al.log("VR",1);var a=this.HX,b=this.wp;for(this.UX();a.length>0;){if(a.length>1&&a[1]>=this.UK.df||a[0]>=this.UK.df)this.UK.cv(a[0],b[0],this.ld),this.HX[this.HX.length]=a[0],this.wp[this.wp.length]=b[0];a.shift();b.shift()}this.Al.log("VR",2)},LpT:function(a){this.UK=a;this.Al.log("LpT",a)},fPh:function(a){this.ld=
a;this.Al.log("fPh",a)},setPointClass:function(a){this.Bx=a;this.Al.log("setPointClass",a)},setLineClass:function(a){this.no=a;this.Al.log("setLineClass",a)},setYAxis:function(a,b,c){this.Al.log("setYAxis",arguments);this.Wf=a;this.vx=b;this.BC=c?!0:!1},positionYAxis:function(a,b){this.Al.log("positionYAxis",arguments);this.Ue=this.Qn(b,"positionYAxis",this.Ue);this.wb=this.Qn(a,"positionYAxis",this.wb);this.UK&&this.UK.screenY!=null&&this.UK.OF&&this.UK.OF.parentNode&&(this.un(),this.rl(),this.HX.length>
0&&this.VR());this.Al.log("positionYAxis",2)},un:function(){this.wS=(this.Ue-this.wb)/this.UK.screenY;this.Al.log("un",this.wS)},setYLabels:function(a,b,c){this.BF=a;this.Il=b;if(c!=null)this.ke=c;this.wS!=null&&this.UK&&this.UK.OF&&this.UK.OF.parentNode&&this.rl();this.Al.log("setYLabels",arguments)},rl:function(){this.ju();var a="",b=-1;if(!(this.BF<=0)){this.BF>0&&(a=this.ke.formatValue(this.wb),b=this.JGB(this.wb),this.mq[this.mq.length]=this.UK.SOQ(this.Il,a,b,"Y"));this.BF>1&&(a=this.ke.formatValue(this.Ue),
b=this.JGB(this.Ue),this.mq[this.mq.length]=this.UK.SOQ(this.Il,a,b,"Y"));if(this.BF>2)for(var c=this.BF-1,d=(this.Ue-this.wb)/c,h=this.wb,g=1;g<c;g++)h+=d,a=this.ke.formatValue(h),b=this.JGB(h),this.mq[this.mq.length]=this.UK.SOQ(this.Il,a,b,"Y");this.Al.log("rl",arguments)}},onYOverflow:function(a,b,c){this.Al.log("onYOverflow",arguments);var d=(c-b)/2;a>c?(d=c+d,a>d&&(d=a),this.positionYAxis(b,d)):a<b&&(d=b-d,a<d&&(d=a),this.positionYAxis(d,c))},JGB:function(a){return this.Sqp(a,this.wb,this.wS)}};
b.RT(b.ChartLine,b.RJ,"O")})(c);c.LabelFormatter=function(){};c.LabelFormatter.prototype={formatValue:function(b){return b}};(function(b){b.Cp=null;b.kx=new b.JM;b.dA=new b.Sg;b.wx=new b.Za(b.dA,new b.Aq,b.aL,!1);b.Ki=new b.mL;b.mR=new b.qM(b.dA);b.NG=new b.Dx([function(){b.Cp&&b.Cp.FI()},function(){b.FlashBridge&&b.FlashBridge.WB()}]);b.gE.iq();b.ms("beforeunload",function(){b.Cp&&b.Cp.Zm()});b.ms("unload",function(){b.kx.UW();b.dA.VBa();b.Vm=!0});b.ft=new b.bD;b.AO=new b.mb;b.pZ=new b.rk;if(b.lb)b.sO=
new b.lb(20);b.DS();window.Lightstreamer===b?b.avoidLSGlobals||b.lV():(window.Lightstreamer=b,b.avoidLSGlobals=!0);b.Zp=new b.RowInfo;b.ZM=new b.UpdateItemInfo;b.AL=new b.VisualUpdateInfo;b.eu.log("pushpage","pushpage parsed")})(c);return c})})(window.define||function(d,c){c(window.Lightstreamer)});function Bet(d,c,b,a){this.betid=0;this.eventid=d;this.eventdesc=null;this.fixtureid=c;this.amount=b;this.odds=0;this.newodds=null;this.userid=a;this.creditsremaining=this.betresult=this.betdescription=this.user=null;this.status=0;this.betcomplete=!1;this.creditsearned=0;this.newcredits=!1;this.eventtime=null;this.addamount=this.numattempts=0;this.leagueleaderboardlist=this.friendsleaderboardlist=this.incorrectOdds=this.incorrectEventID=null;this.leagueid=0}
function FixtureBet(){this.fbid=0;this.options=this.description=null;this.betmade=0;this.betstatus=-101;this.userid=this.fixtureid=this.placebet=this.open=this.pregame=0;this.fbuserid=null;this.userscreditsforthisgame=-999999}function FixtureBetOptions(){this.selectedoptionid=this.optionid=0;this.description=null;this.status=this.winnings=this.amount=this.userodds=this.odds=0}
function placePreGameBets(){try{var d=JSON.parse(window.sessionStorage.getItem("pregamebets"));GetRequestParam("f");var c=0,b=0;if(d){for(var a=0;a<d.length;a++){var e=d[a];if(e.betmade==0){var f=parseInt($("#betoptionselect"+e.fbid).val()),j=parseInt($("#betselect"+e.fbid).val());if(f>0&&j>0)for(var h=0;h<e.options.length;h++){var g=e.options[h];if(g.optionid==f){g.selectedoptionid=f;g.amount=j;g.odds=CastToDecimal(g.odds);b=1;e.placebet=1;break}}}else c+=1}b==1&&($(".pregameclick").hide(),window.sessionStorage.setItem("pregamebets",
$.toJSON(d)),$.ajax({url:Config.WS_URL_ROOT+"/Game/PlacePreGameBets",data:JSON.stringify(d),dataType:"json",contentType:"application/json: charset=utf-8",type:"POST",error:function(a,b,c){AjaxFail("placePreGameBets",a,b,c)},success:function(a){a&&PreGameBetsPlaced(a,c)}}))}}catch(k){logError("placePreGameBets",k)}$(".pregame-betpanel").hide()}
function PreGameBetsPlaced(d,c){try{var b=0,a=0;if(d&&d.length>0){window.sessionStorage.setItem("pregamebets",$.toJSON(d));try{b=d[0].totalcreditsjustbet;if(b>0){var e=JSON.parse(window.sessionStorage.getItem("facebookuser"));e.credits-=b;window.sessionStorage.setItem("facebookuser",$.toJSON(e));$(".credits").html(e.credits);var f=d[0].userscreditsforthisgame;f!=-999999&&NotifyFriendsOfNewBalanceForThisGame(thisFixture.fixtureid,e.fbuserid,f)}DisplayFriendsLeaderBoard(d[0].friendsleaderboardlist);
UpdateLeaderboard(d[0].leagueleaderboardlist,d[0].leagueid)}catch(j){}for(b=0;b<d.length;b++)d[b].betmade==!0&&(a+=1);var h=parseInt(a)-parseInt(c);h>0&&(h==1?$(".GameFeedInfo").prepend("<b class='bettext'>"+h+" Pre-Game Bet was placed!!</b><br />"):$(".GameFeedInfo").prepend("<b class='bettext'>"+h+" Pre-Game Bets were placed!!</b><br />"),$("#numPregame").html(a),refreshScroller(GameFeedScroller,"GameFeedInfo"))}$(".pregameclick").show()}catch(g){logError("PreGameBetsPlaced",g)}}
function ShowPreGameBets(d){try{for(var c="<div id='featured'>",b=0;b<d.length;b++){var a=d[b];c+="<div class='content'>";c=c+"<div class='pregamescroll' id='pregamescroll"+b+"'>";c+="<div class='pregame-bets'>";c=c+"<div class='bet-title'>"+a.description+"</div>";if(a.betmade==0)if(a.open==!0){for(var c=c+"<div class='option3'>Bet Credits <select id='betselect"+a.fbid+"' onBlur='RefreshBetScrollers();'><option>0</option><option>10</option><option>25</option><option>50</option><option>75</option><option>100</option></select></div>",
c=c+"<div class='option3'>Selection<select id='betoptionselect"+a.fbid+"'>",e=0;e<a.options.length;e++)var f=a.options[e],c=c+"<option value='"+f.optionid+"'>"+f.description+" ("+f.odds+"/1)</option>";c+="</select></div>";c+="<br clear='all' /><div class='spacer' ></div><br clear='all' />"}else c+="<div class='pregame-betmade'>This Bet is no longer open!</div>";else for(e=0;e<a.options.length;e++)if(f=a.options[e],f.selectedoptionid>0){var j=parseInt(f.amount)*parseInt(f.odds)+f.amount,c=c+"<div class='pregame-betmade'>You bet "+
f.amount+" credits at odds of "+f.odds+"/1 that the result would be <br /> <span class='pregame-betmade-desc'>"+f.description+"</span>";f.status==0?c=c+"<br /> You stand to win "+j+" credits!":f.status==1?c=c+"<br /> You won "+f.winnings+" credits!!!!":f.status==-1&&(c=c+"<br /> You lost "+f.amount+" credits!");c+="</div>";break}c+="</div>";c+="</div>";c+="</div>";listOfPreGameBetScrollerNames.push("pregamescroll"+b)}c+="</div>";$("#BetHTML").html(c);$("#featured").orbit({animation:"horizontal-push",
directionalNav:!0,animationSpeed:800,bullets:!0,bulletThumbs:!0,timer:!1,afterSlideChange:function(){RefreshBetScrollers()}});$(".pregame-betpanel").show();RefreshBetScrollers()}catch(h){logError("ShowPreGameBets",h)}}
function NotifyFriendsOfNewBalanceForThisGame(d,c,b){try{$.ajax({url:Config.WS_URL_ROOT+"/Game/NotifyFriendsOfNewBalance",type:"POST",data:"fixtureID="+d+"&fbuserid="+c+"&newBalance="+b,error:function(a,b,c){AjaxFail("NotifyFriendsOfNewBalance",a,b,c)},success:function(){}})}catch(a){logError("NotifyFriendsOfNewBalanceForThisGame",a)}}
function updatePreGamebets(d,c,b){try{CreditsWon=0,checkAndUpdateFirstTeamToScoreBet(d,c,b),DoHalfTimebets(d,c,b),DoFullTimebets(d,c,b),CreditsWon>0&&GetUsersNewBalanceAndNotifyFriends(CreditsWon)}catch(a){logError("updatePreGamebets",a)}}
function GetUsersNewBalanceAndNotifyFriends(d){var c=JSON.parse(window.sessionStorage.getItem("facebookuser")),b=GetRequestParam("f"),a=JSON.parse(window.sessionStorage.getItem("listOfFriendsScores"));if(a)for(var e=0;e<=a.length-1;e++)if(a[e].FBUserIDList==c.fbuserid){a[e].Credits=parseInt(a[e].Credits)+parseInt(d);window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(a));ReOrderFriendsScoresBasedOnCurrentScore();NotifyFriendsOfNewBalanceForThisGame(b,c.fbuserid,a[e].Credits);break}}
function DoFullTimebets(d,c,b){d==14&&(checkAndUpdateFulltimeScore(d,c,b),checkAndUpdateSecondHalfFreeKicks())}
function checkAndUpdateSecondHalfFreeKicks(){try{for(var d=JSON.parse(window.sessionStorage.getItem("pregamebets")),c=0;c<d.length;c++){var b=d[c];if(b.betmade==!0&&b.betstatus==0&&b.fbid==6)for(var a=0;a<b.options.length;a++){var e=b.options[a];if(e.selectedoptionid>0){var f=e.description.indexOf("-"),j=parseInt(e.description.substring(0,f)),h=parseInt(e.description.substring(f+1));if(thisFixture.numfreessecondhalf<0)thisFixture.numfreessecondhalf=0;if(thisFixture.numfreessecondhalf==j||thisFixture.numfreessecondhalf==
h||thisFixture.numfreessecondhalf<h&&thisFixture.numfreessecondhalf>j){b.betstatus=1;e.status=1;e.winnings=parseInt(e.amount)*parseInt(e.odds)+parseInt(e.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : "+thisFixture.numfreessecondhalf+" free kicks in the second half. You win "+e.winnings+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));g.credits+=e.winnings;window.sessionStorage.setItem("facebookuser",
$.toJSON(g));$(".credits").html(g.credits);CreditsWon+=e.winnings}else b.betstatus=-1,e.status=-1,e.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : "+thisFixture.numfreessecondhalf+" free kicks in the second half. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");window.sessionStorage.setItem("pregamebets",$.toJSON(d));break}}}}catch(k){logError("checkAndUpdateHalfTimeFreeKicks",k)}}
function checkAndUpdateFulltimeScore(d,c,b){try{var a;a=thisFixture.firsthalfleftteam==thisFixture.hometeam?b+"-"+c:c+"-"+b;for(var e=JSON.parse(window.sessionStorage.getItem("pregamebets")),d=0;d<e.length;d++){var f=e[d];if(f.betmade==!0&&f.betstatus==0&&f.fbid==4)for(c=0;c<f.options.length;c++){var j=f.options[c];if(j.selectedoptionid>0){if(j.description==a){f.betstatus=1;j.status=1;j.winnings=parseInt(j.amount)*parseInt(j.odds)+parseInt(j.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : Full Time Score is "+
a+". You win "+j.winnings+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=j.winnings;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=j.winnings}else f.betstatus=-1,j.status=-1,j.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : Full Time Score is "+a+". You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");
window.sessionStorage.setItem("pregamebets",$.toJSON(e));break}}}}catch(g){logError("checkAndUpdateFulltimeScore",g)}}function DoHalfTimebets(d,c,b){d==12&&(checkAndUpdateHalftimeScore(d,c,b),checkAndUpdateHalfTimeFreeKicks())}
function checkAndUpdateHalfTimeFreeKicks(){try{for(var d=JSON.parse(window.sessionStorage.getItem("pregamebets")),c=0;c<d.length;c++){var b=d[c];if(b.betmade==!0&&b.betstatus==0&&b.fbid==5)for(var a=0;a<b.options.length;a++){var e=b.options[a];if(e.selectedoptionid>0){var f=e.description.indexOf("-"),j=parseInt(e.description.substring(0,f)),h=parseInt(e.description.substring(f+1));if(thisFixture.numfreesfirsthalf<0)thisFixture.numfreesfirsthalf=0;if(thisFixture.numfreesfirsthalf==j||thisFixture.numfreesfirsthalf==
h||thisFixture.numfreesfirsthalf<h&&thisFixture.numfreesfirsthalf>j){b.betstatus=1;e.status=1;e.winnings=parseInt(e.amount)*parseInt(e.odds)+parseInt(e.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : "+thisFixture.numfreesfirsthalf+" free kicks in the first half. You win "+e.winnings+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));g.credits+=e.winnings;window.sessionStorage.setItem("facebookuser",
$.toJSON(g));$(".credits").html(g.credits);CreditsWon+=e.winnings}else b.betstatus=-1,e.status=-1,e.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : "+thisFixture.numfreesfirsthalf+" free kicks in the first half. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");window.sessionStorage.setItem("pregamebets",$.toJSON(d));break}}}}catch(k){logError("checkAndUpdateHalfTimeFreeKicks",k)}}
function checkAndUpdateHalfTimeThrows(){try{for(var d=JSON.parse(window.sessionStorage.getItem("pregamebets")),c=0;c<d.length;c++){var b=d[c];if(b.betmade==!0&&b.betstatus==0&&b.fbid==7)for(var a=0;a<b.options.length;a++){var e=b.options[a];if(e.selectedoptionid>0){var f=e.description.indexOf("-"),j=parseInt(e.description.substring(0,f)),h=parseInt(e.description.substring(f+1));if(thisFixture.numfreesfirsthalf==j||thisFixture.numfreesfirsthalf==h||thisFixture.numfreesfirsthalf<h&&thisFixture.numfreesfirsthalf>
j){b.betstatus=1;e.status=1;e.winnings=parseInt(e.amount)*parseInt(e.odds)+parseInt(e.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : "+thisFixture.numfreesfirsthalf+" free kicks in the first half. You win "+e.winnings+" credits!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var g=JSON.parse(window.sessionStorage.getItem("facebookuser"));g.credits+=e.winnings;window.sessionStorage.setItem("facebookuser",$.toJSON(g));$(".credits").html(g.credits);CreditsWon+=e.winnings}else b.betstatus=
-1,e.status=-1,e.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : "+thisFixture.numfreesfirsthalf+" free kicks in the first half. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");window.sessionStorage.setItem("pregamebets",$.toJSON(d));break}}}}catch(k){logError("checkAndUpdateHalfTimeFreeKicks",k)}}
function checkAndUpdateHalftimeScore(d,c,b){try{var a;a=thisFixture.firsthalfleftteam==thisFixture.hometeam?c+"-"+b:b+"-"+c;for(var e=JSON.parse(window.sessionStorage.getItem("pregamebets")),d=0;d<e.length;d++){var f=e[d];if(f.betmade==!0&&f.betstatus==0&&f.fbid==3)for(c=0;c<f.options.length;c++){var j=f.options[c];if(j.selectedoptionid>0){if(j.description==a){f.betstatus=1;j.status=1;j.winnings=parseInt(j.amount)*parseInt(j.odds)+parseInt(j.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : Half Time Score is "+
a+". You win "+j.winnings+" credits!!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var h=JSON.parse(window.sessionStorage.getItem("facebookuser"));h.credits+=j.winnings;window.sessionStorage.setItem("facebookuser",$.toJSON(h));$(".credits").html(h.credits);CreditsWon+=j.winnings}else f.betstatus=-1,j.status=-1,j.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : Half Time Score is "+a+". You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");
window.sessionStorage.setItem("pregamebets",$.toJSON(e));break}}}}catch(g){logError("checkAndUpdateHalftimeScore",g)}}
function checkAndUpdateFirstTeamToScoreBet(d,c,b){try{if((d==6||d==4)&&(c==1&&b==0||c==0&&b==1))for(var a=JSON.parse(window.sessionStorage.getItem("pregamebets")),c=0;c<a.length;c++){var e=a[c];if(e.betmade==!0&&e.betstatus==0&&e.fbid==1){for(b=0;b<e.options.length;b++){var f=e.options[b];if(f.selectedoptionid==1){if(d==6){e.betstatus=1;f.status=1;f.winnings=parseInt(f.amount)*parseInt(f.odds)+parseInt(f.amount);$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : "+f.description+" score first. You win "+
f.winnings+" credits!!!</b><br />");refreshScroller(GameFeedScroller,"GameFeedInfo");var j=JSON.parse(window.sessionStorage.getItem("facebookuser"));j.credits+=f.winnings;window.sessionStorage.setItem("facebookuser",$.toJSON(j));$(".credits").html(j.credits);CreditsWon+=f.winnings}else e.betstatus=-1,f.status=-1,f.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : "+f.description+" don't score first. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo");break}else if(f.selectedoptionid==
2){d==4?(e.betstatus=1,f.status=1,f.winnings=parseInt(f.amount)*parseInt(f.odds)+parseInt(f.amount),$(".GameFeedInfo").prepend("<b class='wintext'>Pre-Game Bet : "+f.description+" score first. You win "+f.winnings+" credits!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"),j=JSON.parse(window.sessionStorage.getItem("facebookuser")),j.credits+=f.winnings,window.sessionStorage.setItem("facebookuser",$.toJSON(j)),$(".credits").html(j.credits),CreditsWon+=f.winnings):(e.betstatus=-1,f.status=
-1,f.winnings=0,$(".GameFeedInfo").prepend("<b class='losetext'>Pre-Game Bet : "+f.description+" don't score first. You lose!!!</b><br />"),refreshScroller(GameFeedScroller,"GameFeedInfo"));break}}window.sessionStorage.setItem("pregamebets",$.toJSON(a))}}}catch(h){logError("UpdateFirstTeamToScore",h)}}function closePreGamepanel(){$(".pregame-betpanel").hide()}
function RefreshBetScrollers(){try{if(listOfPreGameBetScrollers&&listOfPreGameBetScrollers.length>0)for(var d=0;d<listOfPreGameBetScrollers.length;d++)listOfPreGameBetScrollers[d].refresh();else for(d=0;d<listOfPreGameBetScrollerNames.length;d++){var c=new iScroll(listOfPreGameBetScrollerNames[d],{hScrollbar:!1,vScrollbar:!1});listOfPreGameBetScrollers.push(c);c.refresh()}}catch(b){logError("placePreGameBets",b)}}
function GetPreGameBetDetails(d){listOfPreGameBetScrollers=[];listOfPreGameBetScrollerNames=[];try{var c=GetRequestParam("f");if(c>0){var b=JSON.parse(window.sessionStorage.getItem("facebookuser"));b&&$.ajax({url:Config.WS_URL_ROOT+"/Game/GetFixtureBetDetails",type:"POST",data:"fixtureID="+c+"&userid="+b.id,error:function(a,b,c){AjaxFail("GetGameBetDetails",a,b,c)},success:function(a){if(a&&a.length>0){window.sessionStorage.setItem("pregamebets",$.toJSON(a));d||ShowPreGameBets(a);for(var b=0,c=0;c<
a.length;c++)a[c].betmade==!0&&(b+=1);$("#numPregame").html(b);try{DisplayFriendsLeaderBoard(a[0].friendsleaderboardlist),UpdateLeaderboard(a[0].leagueleaderboardlist,a[0].leagueid)}catch(h){}}}})}}catch(a){logError("GetGameBetDetails",a)}};window.Modernizr=function(d,c,b){function a(){h.input=function(a){for(var b=0,c=a.length;b<c;b++)x[a[b]]=!!(a[b]in n);return x}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));h.inputtypes=function(a){for(var d=0,e,f,h,j=a.length;d<j;d++)n.setAttribute("type",f=a[d]),(e=n.type!=="text")&&(n.value=o,n.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&n.style.WebkitAppearance!==b?(g.appendChild(n),h=c.defaultView,e=h.getComputedStyle&&
h.getComputedStyle(n,null).WebkitAppearance!=="textfield"&&n.offsetHeight!==0,g.removeChild(n)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=n.checkValidity&&n.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(n),e=n.value!=o,g.removeChild(n)):e=n.value!=o)),w[a[d]]=!!e;return w}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function e(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),c=(a+" "+u.join(c+" ")+c).split(" ");return!!f(c,
b)}function f(a,c){for(var d in a)if(m[a[d]]!==b&&(!c||c(a[d],l)))return!0}function j(a,b){return typeof a===b}var h={},g=c.documentElement,k=c.head||c.getElementsByTagName("head")[0],l=c.createElement("modernizr"),m=l.style,n=c.createElement("input"),o=":)",r=Object.prototype.toString,q=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),u="Webkit Moz O ms Khtml".split(" "),t={svg:"http://www.w3.org/2000/svg"},p={},w={},x={},A=[],B,y=function(a){var b=c.createElement("style"),d=c.createElement("div");
b.textContent=a+"{#modernizr{height:3px}}";k.appendChild(b);d.id="modernizr";g.appendChild(d);a=d.offsetHeight===3;b.parentNode.removeChild(b);d.parentNode.removeChild(d);return!!a},s=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(d,e){var e=e||c.createElement(a[d]||"div"),f=(d="on"+d)in e;f||(e.setAttribute||(e=c.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=j(e[d],"function"),j(e[d],
b)||(e[d]=b),e.removeAttribute(d)));return f}}(),z={}.hasOwnProperty,v;j(z,b)||j(z.call,b)?v=function(a,c){return c in a&&j(a.constructor.prototype[c],b)}:v=function(a,b){return z.call(a,b)};p.flexbox=function(){var a=c.createElement("div"),b=c.createElement("div");(function(a,b,c,d){b+=":";a.style.cssText=(b+q.join(c+";"+b)).slice(0,-b.length)+(d||"")})(a,"display","box","width:42px;padding:0;");b.style.cssText=q.join("box-flex:1;")+"width:10px;";a.appendChild(b);g.appendChild(a);var d=b.offsetWidth===
42;a.removeChild(b);g.removeChild(a);return d};p.canvas=function(){var a=c.createElement("canvas");return a.getContext&&a.getContext("2d")};p.canvastext=function(){return h.canvas&&j(c.createElement("canvas").getContext("2d").fillText,"function")};p.webgl=function(){return!!d.WebGLRenderingContext};p.touch=function(){return"ontouchstart"in d||y("@media ("+q.join("touch-enabled),(")+"modernizr)")};p.geolocation=function(){return!!navigator.geolocation};p.postmessage=function(){return!!d.postMessage};
p.websqldatabase=function(){return!!d.openDatabase};p.indexedDB=function(){for(var a=-1,b=u.length;++a<b;){var c=u[a].toLowerCase();if(d[c+"_indexedDB"]||d[c+"IndexedDB"])return!0}return!1};p.hashchange=function(){return s("hashchange",d)&&(c.documentMode===b||c.documentMode>7)};p.history=function(){return!(!d.history||!history.pushState)};p.draganddrop=function(){return s("dragstart")&&s("drop")};p.websockets=function(){return"WebSocket"in d};p.rgba=function(){m.cssText="background-color:rgba(150,255,150,.5)";
return(""+m.backgroundColor).indexOf("rgba")!==-1};p.hsla=function(){m.cssText="background-color:hsla(120,40%,100%,.5)";return(""+m.backgroundColor).indexOf("rgba")!==-1||(""+m.backgroundColor).indexOf("hsla")!==-1};p.multiplebgs=function(){m.cssText="background:url(//:),url(//:),red url(//:)";return/(url\s*\(.*?){3}/.test(m.background)};p.backgroundsize=function(){return e("backgroundSize")};p.borderimage=function(){return e("borderImage")};p.borderradius=function(){return e("borderRadius","",function(a){return(""+
a).indexOf("orderRadius")!==-1})};p.boxshadow=function(){return e("boxShadow")};p.textshadow=function(){return c.createElement("div").style.textShadow===""};p.opacity=function(){var a=q.join("opacity:.55;")+"";m.cssText=a;return/^0.55$/.test(m.opacity)};p.cssanimations=function(){return e("animationName")};p.csscolumns=function(){return e("columnCount")};p.cssgradients=function(){var a=("background-image:"+q.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+q.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,
-17);m.cssText=a;return(""+m.backgroundImage).indexOf("gradient")!==-1};p.cssreflections=function(){return e("boxReflect")};p.csstransforms=function(){return!!f(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};p.csstransforms3d=function(){var a=!!f(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=y("@media ("+q.join("transform-3d),(")+"modernizr)"));return a};p.csstransitions=function(){return e("transitionProperty")};
p.fontface=function(){var a,b,d=k||g,e=c.createElement("style");b=c.implementation||{hasFeature:function(){return!1}};e.type="text/css";d.insertBefore(e,d.firstChild);a=e.sheet||e.styleSheet;b=(b.hasFeature("CSS2","")?function(b){if(!a||!b)return!1;var c=!1;try{a.insertRule(b,0),c=/src/i.test(a.cssRules[0].cssText),a.deleteRule(a.cssRules.length-1)}catch(d){}return c}:function(b){if(!a||!b)return!1;a.cssText=b;return a.cssText.length!==0&&/src/i.test(a.cssText)&&a.cssText.replace(/\r+|\n+/g,"").indexOf(b.split(" ")[0])===
0})('@font-face { font-family: "font"; src: url(data:,); }');d.removeChild(e);return b};p.video=function(){var a=c.createElement("video"),b=!!a.canPlayType;if(b)b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"'),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"');return b};p.audio=function(){var a=c.createElement("audio"),b=!!a.canPlayType;b&&(b=new Boolean(b),
b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),b.mp3=a.canPlayType("audio/mpeg;"),b.wav=a.canPlayType('audio/wav; codecs="1"'),b.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;"));return b};p.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}};p.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}};p.webWorkers=function(){return!!d.Worker};p.applicationcache=function(){return!!d.applicationCache};p.svg=function(){return!!c.createElementNS&&
!!c.createElementNS(t.svg,"svg").createSVGRect};p.inlinesvg=function(){var a=c.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==t.svg};p.smil=function(){return!!c.createElementNS&&/SVG/.test(r.call(c.createElementNS(t.svg,"animate")))};p.svgclippaths=function(){return!!c.createElementNS&&/SVG/.test(r.call(c.createElementNS(t.svg,"clipPath")))};for(var D in p)v(p,D)&&(B=D.toLowerCase(),h[B]=p[D](),A.push((h[B]?"":"no-")+B));h.input||a();h.crosswindowmessaging=
h.postmessage;h.historymanagement=h.history;h.addTest=function(a,b){a=a.toLowerCase();if(!h[a])return b=!!b(),g.className+=" "+(b?"":"no-")+a,h[a]=b,h};m.cssText="";l=n=null;d.attachEvent&&function(){var a=c.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(a,b){function c(a,b){for(var d=-1,e=a.length,f,g=[];++d<e;)f=a[d],(b=f.media||b)!="screen"&&g.push(c(f.imports,b),f.cssText);return g.join("")}function d(a){for(var b=-1;++b<f;)a.createElement(e[b])}var e=
"abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video".split("|"),f=e.length,g=RegExp("(^|\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),h=RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)","gi"),j=RegExp("(^|[^\\n]*?\\s)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)([^\\n]*)({[\\n\\w\\W]*?})",
"gi"),k=b.createDocumentFragment(),l=b.documentElement,m=l.firstChild,n=b.createElement("body"),o=b.createElement("style"),p;d(b);d(k);m.insertBefore(o,m.firstChild);o.media="print";a.attachEvent("onbeforeprint",function(){var a=-1,d=c(b.styleSheets,"all"),m=[],q;for(p=p||b.body;(q=j.exec(d))!=null;)m.push((q[1]+q[2]+q[3]).replace(g,"$1.iepp_$2")+q[4]);for(o.styleSheet.cssText=m.join("\n");++a<f;){d=b.getElementsByTagName(e[a]);m=d.length;for(q=-1;++q<m;)d[q].className.indexOf("iepp_")<0&&(d[q].className+=
" iepp_"+e[a])}k.appendChild(p);l.appendChild(n);n.className=p.className;n.innerHTML=p.innerHTML.replace(h,"<$1font")});a.attachEvent("onafterprint",function(){n.innerHTML="";l.removeChild(n);l.appendChild(p);o.styleSheet.cssText=""})}(d,c);h._enableHTML5=!0;h._version="1.7";g.className=g.className.replace(/\bno-js\b/,"")+" js "+A.join(" ");return h}(this,this.document);function User(d){this.userid=0;this.fbuserid=d.id;this.name=d.name;this.first_name=d.first_name;this.last_name=d.last_name;this.link=d.link;this.username=d.username;this.locale=d.locale;this.gender=d.gender;this.loggedIn=!1;this.credits=0;this.birthday=d.birthday;this.email=d.email;this.timezone=d.timezone;this.updated_time=d.updated_time;this.verified=d.verified;this.profilepic="https://graph.facebook.com/"+d.id+"/picture";this.currentfixtureid=0;this.extradata=null}
function FriendUser(d,c){this.userid=0;this.fbuserid=d;this.name=c;this.gender=this.locale=this.username=this.link=this.last_name=this.first_name=null;this.loggedIn=!1;this.credits=0;this.profilepic=this.verified=this.updated_time=this.timezone=this.email=this.birthday=null};var alreadyDoneLogInFlow=0,accessToken=null,userisLoggedIn=-1,LoginDetailsLoaded=0;function loginV2(d,c){d.authResponse?alreadyDoneLogInFlow==0&&(alreadyDoneLogInFlow=1,DoFlowForLoggedInUser(d,c)):($("#signUp").show(),$("#fbLogin").hide(),logout(1),SetUpButtonForLoggedOutUser(),CheckForFacebookRequests(0))}
function DoFlowForLoggedInUser(d,c){accessToken=d.authResponse.accessToken;var b;try{b=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(a){b=null,logError("UpdateLiveGamesToFacebookUser",a)}SetUpButtonForLoggedInUser(c);b==void 0||b==null?typeof loginFixtureID!="undefined"&&loginFixtureID!=null&&loginFixtureID>0&&LoginClick==1?window.location="http://www.botsn.com/Game/?f="+loginFixtureID:UpdateLiveGamesToFacebookUser(d,c):($("#PlayLink").show(),$(".flipwarning").show(),$(".credits").html(b.credits),
$(".credits").show(),b=GetRequestParam("f"),SetUpMainMenuLink(),b>0&&(GetGameDetails(b,GameDetailsComplete),ViewLeagues(1),GetFriends()),CheckForFacebookRequests(1))}function UpdateLiveGamesToFacebookUser(d,c){try{thisUser=new User(c),LogUserDetailsV1(c,thisUser)}catch(b){logError("UpdateLiveGamesToFacebookUser",b)}}
function LogUserDetailsV1(d,c){try{$.ajax({headers:{"Content-Type":"application/json",Accept:"application/json"},url:Config.WS_URL_ROOT+"/Login/Login",type:"GET",data:{fbuserid:c.fbuserid,name:c.name,first_name:c.first_name,last_name:c.last_name,link:c.link,locale:c.locale,gender:c.gender,birthday:c.birthday,email:c.email,timezone:c.timezone,verified:c.verified,profilepic:c.profilepic},dataType:"json",error:function(a,b,c){AjaxFail("LogUserDetailsV1",a,b,c)},success:function(a){try{if(window.sessionStorage.setItem("facebookuser",
$.toJSON(a)),$("#PlayLink").show(),c.userid=a.id,c.credits=a.credits,$(".credits").html(a.credits),$(".credits").show(),SetUpMainMenuLink(),c.userid>0){var b=window.location.href,d=GetRequestParam("f");b.indexOf("signup/")>0?window.location="http://www.botsn.com":typeof loginFixtureID!="undefined"&&loginFixtureID!=null&&loginFixtureID>0&&LoginClick==1?window.location="http://www.botsn.com/Game/?f="+loginFixtureID:typeof d!="undefined"&&d!=null&&d>0?(GetGameDetails(d,GameDetailsComplete),ViewLeagues(1),
GetFriends()):CheckForFacebookRequests(1)}}catch(j){logError("LogUserDetailsV1_return",j)}}})}catch(b){logError("LogUserDetailsV1",b)}}function FaceBookElementsLoaded(){LoginDetailsLoaded=1;SetUpLoginButtons()}function newLoginFlow(d){d.authResponse?FB.api("/me",function(c){loginV2(d,c)}):($("#signUp").show(),$("#fbLogin").hide(),$("#PlayLink").show(),logout(1),SetUpButtonForLoggedOutUser(),CheckForFacebookRequests(0))}
window.fbAsyncInit=function(){FB.init({appId:Config.FACEBOOK_APPID,status:!0,cookie:!0,oauth:!0,xfbml:!0,channelUrl:"//www.botsn.com/channel.html"});FB.getLoginStatus(newLoginFlow);FB.Event.subscribe("auth.login",function(d){newLoginFlow(d)});FB.Event.subscribe("auth.logout",function(){logout(0)})};(function(){var d=document.createElement("script");d.async=!0;d.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(d)})();
function CheckForFacebookRequests(d){var c=GetRequestParam("request_ids");if(c){window.sessionStorage.setItem("fbs",1);var b=JSON.parse(window.sessionStorage.getItem("facebookuser")),a=decodeURIComponent(c).split(",");if(a&&a.length>0)for(var e=0;e<a.length;e++){var f;b&&b.id?(f=a[e]+"_"+b.fbuserid,deleteRequest(f)):getUserIDAndDeleteRequest(a[e])}d==1&&GetFixtureIdFromFbRequest(c)}}function getMultipleRequests(d){FB.api("",{ids:d},function(c){console.log(c)})}
function getUserIDAndDeleteRequest(d){FB.api(d,function(c){try{c&&c.to&&c.to.id&&deleteRequest(d+"_"+c.to.id)}catch(b){logError("getUserIDAndDeleteRequest",b)}})}function deleteRequest(d){FB.api(d,"delete",function(){})}
function GetFixtureIdFromFbRequest(d){try{var c=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/Game/GetFixtureIdFromFbRequest",type:"POST",data:"fbRequest="+d+"&user="+c,dataType:"html",error:function(a,b,c){AjaxFail("GetFixtureIdFromFbRequest",a,b,c)},success:function(a){DropUserOnFixture(a)}})}catch(b){logError("GetFixtureIdFromFbRequest",b)}}
function DropUserOnFixture(d){try{if(typeof d!="undefined"&&d!=null&&d>0)window.location="http://www.botsn.com/Game/?fb_source=1&f="+d}catch(c){logError("DropUserOnFixture",c)}}
function GetFriends(){try{var d;try{d=JSON.parse(window.sessionStorage.getItem("facebookfriendlist"))}catch(c){logError("GetFriends",c)}var b=-1;if(thisFixture)b=thisFixture.fixtureid;else{var a=GetRequestParam("f");a>0&&(b=a)}typeof d=="undefined"||d==null||d==""?$.ajax({headers:{"Content-Type":"application/json",Accept:"application/json"},url:Config.WS_URL_ROOT+"/FacebookLogin/Handshake",type:"GET",data:{authCode:accessToken},dataType:"json",error:function(a,b,c){AjaxFail("GetFriends",a,b,c)},success:function(a){try{window.sessionStorage.setItem("facebookfriendlist",
$.toJSON(a.data)),b>0&&(GetFriendsDetails(),AddMyFriendsToLightStreamerSchema(),LSBind("FixtureID"+b))}catch(c){logError("GetFriends_success",c)}}}):b>0&&(GetFriendsDetails(),AddMyFriendsToLightStreamerSchema(),LSBind("FixtureID"+b))}catch(e){logError("GetFriends",e)}}function GetFriendsDetails(){try{GetFriendsGameHistory(),GetFriendsLeaderBoard()}catch(d){logError("GetFriendsGameHistory",d)}}
function GetFriendsGameHistory(){try{var d=window.sessionStorage.getItem("facebookfriendlist"),c=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/Game/GetFriendsDetails",type:"POST",data:"FriendList="+d+"&user="+c+"&fixtureID="+fixture,dataType:"html",error:function(a,b,c){AjaxFail("GetFriendsGameHistory",a,b,c)},success:function(a){ProcessFriendsDetails(a)}})}catch(b){logError("GetFriendsGameHistory",b)}}
function GetFriendsLeaderBoard(){try{var d=window.sessionStorage.getItem("facebookfriendlist"),c=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/Leaderboard/GetFriendsLeaderboard",type:"POST",data:"FriendList="+d+"&user="+c+"&fixtureID="+fixture,dataType:"html",error:function(a,b,c){AjaxFail("GetFriendsLeaderBoard",a,b,c)},success:function(a){DisplayFriendsLeaderBoard(a)}})}catch(b){logError("GetFriendsLeaderBoard",b)}}
function DisplayFriendsLeaderBoard(d){try{if(d){var c=typeof d!="object"?JSON.parse(d):d;window.sessionStorage.setItem("listOfFriendsScores",$.toJSON(c));FinishedProcessingFriendScores();$("#FriendsLeaderboard").html(CreateLeagueScoresView2(d,"ff",!0));refreshScroller(friendsScoreScroller,"FriendsLeaderboard")}}catch(b){logError("DisplayFriendsLeaderBoard",b+"response is "+d)}}
function ProcessFriendsDetails(d){try{var c=typeof d!="object"?JSON.parse(d):d,b=[],a="";if(typeof c!="undefined"&&c!=null){for(var e=0;e<c.length;e++){var f=c[e];a+=f.eventdesc;f.betid>0&&b.push(f)}Config.displayFriendsDetals=="1"&&$(".FriendFeedInfo").html(a)}window.sessionStorage.setItem("listOfFriendsBets",$.toJSON(b))}catch(j){logError("ProcessFriendsDetails",j+"response is "+d)}}function getFacebookStatus(){return FB.getSession()!=null?1:2}
function facebookLogout(){FB.Event.subscribe("auth.logout",function(){logout(0);return!0})}function SetUpLoginButtons(){userisLoggedIn==1?SetUpButtonForLoggedInUser():userisLoggedIn==0&&SetUpButtonForLoggedOutUser()}function SetUpMainMenuLink(){var d=0;try{d=window.sessionStorage.getItem("fbs"),window.location.href.indexOf("fb_source")<=0&&d!=1?($("#nonfblink").show(),$("#fblink").hide()):(window.sessionStorage.setItem("fbs",1),$("#nonfblink").hide(),$("#fblink").show())}catch(c){}}
function SetUpButtonForLoggedInUser(d){if(LoginDetailsLoaded==1){var c=document.getElementById("fb-auth");c.innerHTML="Logout";$("#fb-auth").show();c.onclick=function(){FB.logout(function(){SetUpButtonForLoggedOutUser();logout(1)})};if(d=d?d:JSON.parse(window.sessionStorage.getItem("facebookuser")))if($(".username").html(d.name),document.getElementById("fbLogin")){if(c=document.getElementById("image"))c.src="https://graph.facebook.com/"+d.id+"/picture";$("#fbLogin").show();$("#signUp").hide()}}userisLoggedIn=
1}function SetUpButtonForLoggedOutUser(){if(LoginDetailsLoaded==1){$(".username").html("");var d=document.getElementById("fb-auth");d.innerHTML="Login";$("#fb-auth").show();d.onclick=function(){DoFaceBookLogin()}}userisLoggedIn=0}function CheckIfLoggedIn(d){var c;try{c=JSON.parse(window.sessionStorage.getItem("facebookuser"))}catch(b){c=null,logError("CheckIfLoggedIn",b)}return typeof c!="undefined"&&c!=null&&c.id>0?!0:(loginFixtureID=d,DoFaceBookLogin(),!1)}
function DoFaceBookLogin(){LoginClick=1;alreadyDoneLogInFlow=0;FB.login(function(d){d.authResponse&&FB.api("/me",function(c){loginV2(d,c)})},{scope:"email,status_update,publish_stream"})}
function logout(d){alreadyDoneLogInFlow=0;window.sessionStorage.removeItem("facebookuser");window.sessionStorage.removeItem("facebookfriendlist");if(d==1){d=-1;if(thisFixture)d=thisFixture.fixtureid;else{var c=GetRequestParam("f");c>0&&(d=c)}if(d>0)$(".flipwarning").hide(),window.location="http://www.botsn.com"}}
function InviteFriendsToPlayAGame(){var d=JSON.parse(window.sessionStorage.getItem("facebookuser"));FB.ui({method:"apprequests",message:thisFixture?"You've been invited to play "+thisFixture.fixturename+" against "+d.name+" and others!":"You've been invited to play a LiveGames game against "+d.name+" and others!"},InviteFriendsToPlayAGame_response)}
function InviteFriendsToPlayAGame_response(d){try{if(d){var c=d.request,b="";if(d.to){$(".FriendFeedInfo").prepend("<b class='friendtext'>Your Friends have been invited and will join the league once they accept the invitation!</b><br />");$("#FriendInviteButton").hide();for(var a=0;a<d.to.length;a++)b=a==0?d.to[a]:b+","+d.to[a]}var e=window.sessionStorage.getItem("facebookuser");$.ajax({url:Config.WS_URL_ROOT+"/Game/SetUpOneTimeFriendGame",type:"POST",data:"fbRequestId="+c+"&friends="+b+"&user="+
e+"&fixtureID="+fixture,dataType:"html",error:function(a,b,c){AjaxFail("InviteFriendsToPlayAGame_response",a,b,c)},success:function(a){OneTimeGameSetUpComplete(a)}})}}catch(f){logError("InviteFriendsToPlayAGame_response",f)}}
function OneTimeGameSetUpComplete(d){try{var c=typeof d!="object"?JSON.parse(d):d;if(c){var b=c[0].currentfixtureid,a=c[0].last_name;if(b>0){var e=JSON.parse(window.sessionStorage.getItem("facebookuser"));GetLeagueTable_WithLeagueHeader(b,a+" <i>(Waiting For Friends to Accept)</i>",null,e.id);AddLeagueToLightStreamer(b)}for(d=0;d<c.length;d++)try{FB.api("/"+c[d].id+"/feed","post",{name:c[d].last_name,message:c[d].extradata},function(){})}catch(f){logError("OneTimeGameSetUpComplete_FB.API",f)}}}catch(j){logError("OneTimeGameSetUpComplete",
j)}}function inviteUpdate(d,c,b,a,e){$.ajax({url:Config.WS_URL_ROOT+"/League/inviteUpdate",type:"POST",data:"lmid="+c+"&accept="+b,dataType:"html",error:function(a,b,c){AjaxFail("inviteUpdate",a,b,c)},success:function(f){inviteUpdateReturn(f,d,b,a,e,c)}})}function inviteUpdateReturn(d,c,b,a,e,f){d==1&&($("#inviteUpdateSpan_"+f).hide(),$("#FriendInviteButton").hide(),b==1&&(AddLeagueToLightStreamer(c),GetLeagueTable_WithLeagueHeader(c,a,e,-111)))};(function(d){d.fn.orbit=function(c){c=d.extend({animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4E3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1E3,directionalNav:!0,captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:function(){}},c);return this.each(function(){function b(){if(!c.timer||c.timer=="false")return!1;else q.is(":hidden")?A=setInterval(function(){j("next")},c.advanceSpeed):
(u=!0,w.removeClass("active"),A=setInterval(function(){var a="rotate("+x+"deg)";x+=2;t.css({"-webkit-transform":a,"-moz-transform":a,"-o-transform":a});x>180&&(t.addClass("move"),p.addClass("move"));x>360&&(t.removeClass("move"),p.removeClass("move"),x=0,j("next"))},c.advanceSpeed/180))}function a(){if(!c.timer||c.timer=="false")return!1;else u=!1,clearInterval(A),w.addClass("active")}function e(){if(!c.captions||c.captions=="false")return!1;else{var a=r.eq(h).data("caption");(_captionHTML=d(a).html())?
(y.attr("id",a).html(_captionHTML),c.captionAnimation=="none"&&y.show(),c.captionAnimation=="fade"&&y.fadeIn(c.captionAnimationSpeed),c.captionAnimation=="slideOpen"&&y.slideDown(c.captionAnimationSpeed)):(c.captionAnimation=="none"&&y.hide(),c.captionAnimation=="fade"&&y.fadeOut(c.captionAnimationSpeed),c.captionAnimation=="slideOpen"&&y.slideUp(c.captionAnimationSpeed))}}function f(){if(c.bullets)v.children("li").removeClass("active").eq(h).addClass("active");else return!1}function j(a){function b(){r.eq(d).css({"z-index":1});
m=!1;c.afterSlideChange.call(this)}var d=h,j=a;if(d==j)return!1;if(r.length=="1")return!1;m||(m=!0,a=="next"?(h++,h==g&&(h=0)):a=="prev"?(h--,h<0&&(h=g-1)):(h=a,d<h?j="next":d>h&&(j="prev")),f(),r.eq(d).css({"z-index":2}),c.animation=="fade"&&r.eq(h).css({opacity:0,"z-index":3}).animate({opacity:1},c.animationSpeed,b),c.animation=="horizontal-slide"&&(j=="next"&&r.eq(h).css({left:k,"z-index":3}).animate({left:0},c.animationSpeed,b),j=="prev"&&r.eq(h).css({left:-k,"z-index":3}).animate({left:0},c.animationSpeed,
b)),c.animation=="vertical-slide"&&(j=="prev"&&r.eq(h).css({top:l,"z-index":3}).animate({top:0},c.animationSpeed,b),j=="next"&&r.eq(h).css({top:-l,"z-index":3}).animate({top:0},c.animationSpeed,b)),c.animation=="horizontal-push"&&(j=="next"&&(r.eq(h).css({left:k,"z-index":3}).animate({left:0},c.animationSpeed,b),r.eq(d).animate({left:-k},c.animationSpeed)),j=="prev"&&(r.eq(h).css({left:-k,"z-index":3}).animate({left:0},c.animationSpeed,b),r.eq(d).animate({left:k},c.animationSpeed))),e())}var h=0,
g=0,k,l,m,n=d(this).addClass("orbit"),o=n.wrap('<div class="orbit-wrapper" />').parent();n.add(k).width("1px").height("1px");var r=n.children("img, a, div");r.each(function(){var a=d(this),b=a.width(),a=a.height();b>n.width()&&(n.add(o).width(b),k=n.width());a>n.height()&&(n.add(o).height(a),l=n.height());g++});if(r.length==1)c.directionalNav=!1,c.timer=!1,c.bullets=!1;r.eq(h).css({"z-index":3}).fadeIn(function(){r.css({display:"block"})});if(c.timer){o.append('<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>');
var q=o.children("div.timer"),u;if(q.length!=0){var t=d("div.timer span.rotator"),p=d("div.timer span.mask"),w=d("div.timer span.pause"),x=0,A;b();q.click(function(){u?a():b()});if(c.startClockOnMouseOut){var B;o.mouseleave(function(){B=setTimeout(function(){u||b()},c.startClockOnMouseOutAfter)});o.mouseenter(function(){clearTimeout(B)})}}}c.pauseOnHover&&o.mouseenter(function(){a()});if(c.captions){o.append('<div class="orbit-caption"></div>');var y=o.children(".orbit-caption");e()}if(c.directionalNav){if(c.directionalNav==
"false")return!1;o.append('<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>');var s=o.children("div.slider-nav").children("span.left"),z=o.children("div.slider-nav").children("span.right");s.click(function(){a();j("prev")});z.click(function(){a();j("next")})}if(c.bullets){o.append('<ul class="orbit-bullets"></ul>');var v=o.children("ul.orbit-bullets");for(i=0;i<g;i++){s=d("<li>"+(i+1)+"</li>");if(c.bulletThumbs&&(z=r.eq(i).data("thumb")))s=d('<li class="has-thumb">'+
i+"</li>"),s.css({background:"url("+c.bulletThumbLocation+z+") no-repeat"});o.children("ul.orbit-bullets").append(s);s.data("index",i);s.click(function(){a();j(d(this).data("index"))})}f()}})}})(jQuery);
